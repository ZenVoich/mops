(()=>{var Ur=(r,Re)=>()=>(Re||r((Re={exports:{}}).exports,Re),Re.exports);var jr=Ur((exports,module)=>{(()=>{var __getOwnPropNames=Object.getOwnPropertyNames,__commonJS=(r,Re)=>function(){return Re||(0,r[__getOwnPropNames(r)[0]])((Re={exports:{}}).exports,Re),Re.exports},require_asciidoctor=__commonJS({"node_modules/@asciidoctor/core/dist/browser/asciidoctor.js"(exports,module){(function(r){var Re=this,Je;if(typeof global<"u"&&(Re=global),typeof window<"u"&&(Re=window),typeof Re.console=="object"?Je=Re.console:Re.console==null?Je=Re.console={}:Je={},"log"in Je||(Je.log=function(){}),"warn"in Je||(Je.warn=Je.log),typeof Re.Opal<"u")return Je.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),Re.Opal;var Ze,Fe,he,gt,Ce,R=this.Opal={};R.global=Re,Re.Opal=R,R.config={missing_require_severity:"error",unsupported_features_severity:"warning",enable_stack_trace:!0};var Gt=Object.hasOwnProperty,B=Function.prototype.bind,ke=Object.setPrototypeOf,st=Array.prototype.slice,Ge=Array.prototype.splice,zt=4,Oe=zt;R.uid=function(){return Oe+=2,Oe},R.id=function(D){return D.$$is_number?D*2+1:(D.$$id!=null||ve(D,"$$id",R.uid()),D.$$id)},R.gvars={},R.exit=function(D){R.gvars.DEBUG&&Je.log("Exited with status "+D)},R.exceptions=[],R.pop_exception=function(){R.gvars["!"]=R.exceptions.pop()||Ze},R.inspect=function(D){return D===r?"undefined":D===null?"null":D.$$class?D.$inspect():D.toString()};function ve(D,se,le){typeof D=="string"?D[se]=le:Object.defineProperty(D,se,{value:le,enumerable:!1,configurable:!0,writable:!0})}R.defineProperty=ve,R.slice=st,R.truthy=function(D){return D!==Ze&&D!=null&&(!D.$$is_boolean||D==!0)},R.falsy=function(D){return D===Ze||D==null||D.$$is_boolean&&D==!1};function J(D,se){if(D)return D.$$const[se]}function G(D,se){var le,ge,Le,Ue;if(D.length!==0){for(le=0,ge=D.length;le<ge;le++)if(Ue=D[le].$$const[se],Ue!=null)return Ue}}function Ve(D,se){var le,ge,Le,Ue;if(D!=null){for(Ue=R.ancestors(D),le=0,ge=Ue.length;le<ge;le++)if(Ue[le].$$const&&Gt.call(Ue[le].$$const,se))return Ue[le].$$const[se]}}function ft(D,se){if(D==null||D.$$is_module)return Ve(he,se)}function Ye(D,se,le){if(!le)return(D||he).$const_missing(se)}R.const_get_local=function(D,se,le){var ge;if(D!=null){if(D==="::"&&(D=he),!D.$$is_module&&!D.$$is_class)throw new R.TypeError(D.toString()+" is not a class/module");if(ge=J(D,se),ge!=null||(ge=Ye(D,se,le),ge!=null))return ge}},R.const_get_qualified=function(D,se,le){var ge,Le,Ue,qe=R.const_cache_version;if(D!=null){if(D==="::"&&(D=he),!D.$$is_module&&!D.$$is_class)throw new R.TypeError(D.toString()+" is not a class/module");return(Le=D.$$const_cache)==null&&(ve(D,"$$const_cache",Object.create(null)),Le=D.$$const_cache),Ue=Le[se],Ue==null||Ue[0]!==qe?((ge=J(D,se))!=null||(ge=Ve(D,se))!=null,Le[se]=[qe,ge]):ge=Ue[1],ge??Ye(D,se,le)}},R.const_cache_version=1,R.const_get_relative=function(D,se,le){var ge=D[0],Le,Ue=R.const_cache_version,qe,wt;return(qe=D.$$const_cache)==null&&(ve(D,"$$const_cache",Object.create(null)),qe=D.$$const_cache),wt=qe[se],wt==null||wt[0]!==Ue?((Le=J(ge,se))!=null||(Le=G(D,se))!=null||(Le=Ve(ge,se))!=null||(Le=ft(ge,se))!=null,qe[se]=[Ue,Le]):Le=wt[1],Le??Ye(ge,se,le)},R.const_set=function(D,se,le){return(D==null||D==="::")&&(D=he),le.$$is_a_module&&((le.$$name==null||le.$$name===Ze)&&(le.$$name=se),le.$$base_module==null&&(le.$$base_module=D)),D.$$const=D.$$const||Object.create(null),D.$$const[se]=le,D.$$=D.$$const,R.const_cache_version++,D===he&&(R[se]=le),ve(D,se,le),le},R.constants=function(D,se){se==null&&(se=!0);var le,ge=[D],Le,Ue,qe,wt={},Nt;for(se&&(ge=ge.concat(R.ancestors(D))),se&&D.$$is_module&&(ge=ge.concat([R.Object]).concat(R.ancestors(R.Object))),Ue=0,qe=ge.length;Ue<qe&&(le=ge[Ue],!(D!==he&&le==he));Ue++)for(Nt in le.$$const)wt[Nt]=!0;return Object.keys(wt)},R.const_remove=function(D,se){if(R.const_cache_version++,D.$$const[se]!=null){var le=D.$$const[se];return delete D.$$const[se],le}if(D.$$autoload!=null&&D.$$autoload[se]!=null)return delete D.$$autoload[se],Ze;throw R.NameError.$new("constant "+D+"::"+D.$name()+" not defined")},R.allocate_class=function(D,se){var le,ge;return se!=null&&se.$$bridge?ge=function(){var Le=st.call(arguments),Ue=new(B.apply(se.$$constructor,[null].concat(Le)));return ke(Ue,le.$$prototype),Ue}:ge=function(){},D&&ve(ge,"displayName","::"+D),le=ge,ve(le,"$$name",D),ve(le,"$$constructor",ge),ve(le,"$$prototype",ge.prototype),ve(le,"$$const",{}),ve(le,"$$is_class",!0),ve(le,"$$is_a_module",!0),ve(le,"$$super",se),ve(le,"$$cvars",{}),ve(le,"$$own_included_modules",[]),ve(le,"$$own_prepended_modules",[]),ve(le,"$$ancestors",[]),ve(le,"$$ancestors_cache_version",null),ve(le.$$prototype,"$$class",le),R.Class&&ke(le,R.Class.prototype),se!=null&&(ke(le.$$prototype,se.$$prototype),se.$$meta&&R.build_class_singleton_class(le)),le};function pe(D,se){var le=J(D,se);if(le){if(!le.$$is_class)throw R.TypeError.$new(se+" is not a class");return le}}function De(D,se){if(D.$$super!==se)throw R.TypeError.$new("superclass mismatch for class "+D.$$name)}R.klass=function(D,se,le){var ge;D==null?D=he:!D.$$is_class&&!D.$$is_module&&(D=D.$$class),se!=null&&!se.hasOwnProperty("$$is_class")&&(ge=se,se=he);var Le=pe(D,le);return Le?(se&&De(Le,se),Le):(se==null&&(se=he),Le=R.allocate_class(le,se),R.const_set(D,le,Le),se.$inherited&&se.$inherited(Le),ge&&R.bridge(ge,Le),Le)},R.allocate_module=function(D){var se=function(){};D&&ve(se,"displayName",D+".$$constructor");var le=se;return D&&ve(se,"displayName",D+".constructor"),ve(le,"$$name",D),ve(le,"$$prototype",se.prototype),ve(le,"$$const",{}),ve(le,"$$is_module",!0),ve(le,"$$is_a_module",!0),ve(le,"$$cvars",{}),ve(le,"$$iclasses",[]),ve(le,"$$own_included_modules",[]),ve(le,"$$own_prepended_modules",[]),ve(le,"$$ancestors",[le]),ve(le,"$$ancestors_cache_version",null),ke(le,R.Module.prototype),le};function ze(D,se){var le=J(D,se);if(le==null&&D===he&&(le=Ve(he,se)),le&&!le.$$is_module&&le!==he)throw R.TypeError.$new(se+" is not a module");return le}R.module=function(D,se){var le;return D==null?D=he:!D.$$is_class&&!D.$$is_module&&(D=D.$$class),le=ze(D,se),le||(le=R.allocate_module(se),R.const_set(D,se,le),le)},R.get_singleton_class=function(D){return D.$$meta?D.$$meta:D.hasOwnProperty("$$is_class")?R.build_class_singleton_class(D):D.hasOwnProperty("$$is_module")?R.build_module_singletin_class(D):R.build_object_singleton_class(D)},R.build_class_singleton_class=function(D){var se,le;return D.$$meta?D.$$meta:(se=D===Fe?Ce:R.get_singleton_class(D.$$super),le=R.allocate_class(null,se,function(){}),ve(le,"$$is_singleton",!0),ve(le,"$$singleton_of",D),ve(D,"$$meta",le),ke(D,le.$$prototype),ve(D,"$$class",R.Class),le)},R.build_module_singletin_class=function(D){if(D.$$meta)return D.$$meta;var se=R.allocate_class(null,R.Module,function(){});return ve(se,"$$is_singleton",!0),ve(se,"$$singleton_of",D),ve(D,"$$meta",se),ke(D,se.$$prototype),ve(D,"$$class",R.Module),se},R.build_object_singleton_class=function(D){var se=D.$$class,le=R.allocate_class(Ze,se,function(){});return ve(le,"$$is_singleton",!0),ve(le,"$$singleton_of",D),delete le.$$prototype.$$class,ve(D,"$$meta",le),ke(D,D.$$meta.$$prototype),le},R.is_method=function(D){return D[0]==="$"&&D[1]!=="$"},R.instance_methods=function(D){for(var se=[],le=[],ge=R.ancestors(D),Le=0,Ue=ge.length;Le<Ue;Le++){var qe=ge[Le],wt=qe.$$prototype;wt.hasOwnProperty("$$dummy")&&(wt=wt.$$define_methods_on);for(var Nt=Object.getOwnPropertyNames(wt),Ft=0,Ut=Nt.length;Ft<Ut;Ft++){var Vt=Nt[Ft];if(R.is_method(Vt)){var Jt=Vt.slice(1),Kt=wt[Vt];Kt.$$stub&&se.indexOf(Jt)===-1&&se.push(Jt),!Kt.$$stub&&le.indexOf(Jt)===-1&&se.indexOf(Jt)===-1&&le.push(Jt)}}}return le},R.own_instance_methods=function(D){var se=[],le=D.$$prototype;le.hasOwnProperty("$$dummy")&&(le=le.$$define_methods_on);for(var ge=Object.getOwnPropertyNames(le),Le=0,Ue=ge.length;Le<Ue;Le++){var qe=ge[Le];if(R.is_method(qe)){var wt=le[qe];if(!wt.$$stub){var Nt=qe.slice(1);se.push(Nt)}}}return se},R.methods=function(D){return R.instance_methods(R.get_singleton_class(D))},R.own_methods=function(D){return R.own_instance_methods(R.get_singleton_class(D))},R.receiver_methods=function(D){var se=R.get_singleton_class(D),le=R.own_instance_methods(se),ge=R.own_instance_methods(se.$$super);return le.concat(ge)},R.class_variables=function(D){var se=R.ancestors(D),le,ge=se.length,Le={};for(le=ge-1;le>=0;le--){var Ue=se[le];for(var qe in Ue.$$cvars)Le[qe]=Ue.$$cvars[qe]}return Le},R.class_variable_set=function(D,se,le){var ge=R.ancestors(D),Le,Ue=ge.length;for(Le=Ue-2;Le>=0;Le--){var qe=ge[Le];if(Gt.call(qe.$$cvars,se))return qe.$$cvars[se]=le,le}return D.$$cvars[se]=le,le};function ut(D){return D.hasOwnProperty("$$iclass")&&D.hasOwnProperty("$$root")}function xt(D){for(var se=[],le,ge=Object.getPrototypeOf(D.$$prototype);ge&&!ge.hasOwnProperty("$$class");)le=Et(ge),le&&se.push(le),ge=Object.getPrototypeOf(ge);return se}function At(D){var se=[],le,ge=Object.getPrototypeOf(D.$$prototype);if(D.$$prototype.hasOwnProperty("$$dummy"))for(;ge&&ge!==D.$$prototype.$$define_methods_on;)le=Et(ge),le&&se.push(le),ge=Object.getPrototypeOf(ge);return se}R.append_features=function(D,se){var le=R.ancestors(D),ge=[];if(le.indexOf(se)!==-1)throw R.ArgumentError.$new("cyclic include detected");for(var Le=0,Ue=le.length;Le<Ue;Le++){var qe=le[Le],wt=pt(qe);ve(wt,"$$included",!0),ge.push(wt)}var Nt=R.ancestors(se),Ft=Rt(ge),Ut,Vt;if(Nt.indexOf(D)===-1)Ut=se.$$prototype,Vt=Object.getPrototypeOf(se.$$prototype);else{for(var Jt=se.$$prototype,Kt=Jt,Wt=Object.getPrototypeOf(Kt);Wt!=null&&!(ut(Wt)&&Wt.$$module===D);)Kt=Wt,Wt=Object.getPrototypeOf(Wt);for(var Qt=Object.getPrototypeOf(Wt);Qt.hasOwnProperty("$$iclass")&&!ut(Qt);)Qt=Object.getPrototypeOf(Qt);Ut=Kt,Vt=Qt}ke(Ut,Ft.first),ke(Ft.last,Vt),se.$$own_included_modules=xt(se),R.const_cache_version++},R.prepend_features=function(D,se){var le=R.ancestors(D),ge=[];if(le.indexOf(se)!==-1)throw R.ArgumentError.$new("cyclic prepend detected");for(var Le=0,Ue=le.length;Le<Ue;Le++){var qe=le[Le],wt=pt(qe);ve(wt,"$$prepended",!0),ge.push(wt)}var Nt=Rt(ge),Ft=se.$$prototype,Ut=Object.getPrototypeOf(Ft),Vt,Jt,Kt;Ft.hasOwnProperty("$$dummy")?Vt=Ft.$$define_methods_on:(Vt=St(se),ht(se),ve(Ft,"$$dummy",!0),ve(Ft,"$$define_methods_on",Vt),ke(Ft,Vt),ke(Vt,Ut));var Wt=R.ancestors(se);if(Wt.indexOf(D)===-1)for(Jt=Ft,Kt=Object.getPrototypeOf(Ft);Kt!=null&&!(Kt.hasOwnProperty("$$root")||Kt===Vt||!Kt.hasOwnProperty("$$iclass"));)Kt=Object.getPrototypeOf(Kt);else throw R.RuntimeError.$new("Prepending a module multiple times is not supported");ke(Jt,Nt.first),ke(Nt.last,Kt),se.$$own_prepended_modules=At(se),R.const_cache_version++};function ht(D){for(var se=D.$$prototype,le=Object.getOwnPropertyNames(se),ge=0;ge<le.length;ge++){var Le=le[ge];R.is_method(Le)&&delete se[Le]}}function pt(D){var se=St(D);return D.$$is_module&&D.$$iclasses.push(se),se}function St(D){var se={},le=D.$$prototype;le.hasOwnProperty("$$dummy")&&(le=le.$$define_methods_on);var ge=Object.getOwnPropertyNames(le),Le=ge.length,Ue;for(Ue=0;Ue<Le;Ue++){var qe=ge[Ue];ve(se,qe,le[qe])}return ve(se,"$$iclass",!0),ve(se,"$$module",D),se}function Rt(D){var se=D.length,le=D[0];if(ve(le,"$$root",!0),se===1)return{first:le,last:le};for(var ge=le,Le=1;Le<se;Le++){var Ue=D[Le];ke(ge,Ue),ge=Ue}return{first:D[0],last:D[se-1]}}R.bridge=function(D,se){if(D.hasOwnProperty("$$bridge"))throw R.ArgumentError.$new("already bridged");var le,ge;le=se.$$super||R.Object,ge=se;var Le=se.$$prototype;ve(D,"$$bridge",se),ke(D.prototype,(se.$$super||R.Object).$$prototype),ve(se,"$$prototype",D.prototype),ve(se.$$prototype,"$$class",se),ve(se,"$$constructor",D),ve(se,"$$bridge",!0)};function Et(D){if(!D.hasOwnProperty("$$dummy")){if(D.hasOwnProperty("$$iclass"))return D.$$module;if(D.hasOwnProperty("$$class"))return D.$$class}}function Bt(D){return D.$$own_prepended_modules.concat([D]).concat(D.$$own_included_modules)}R.ancestors=function(D){if(!D)return[];if(D.$$ancestors_cache_version===R.const_cache_version)return D.$$ancestors;var se=[],le,ge,Le;for(le=0,ge=Bt(D),Le=ge.length;le<Le;le++)se.push(ge[le]);if(D.$$super)for(le=0,ge=R.ancestors(D.$$super),Le=ge.length;le<Le;le++)se.push(ge[le]);return D.$$ancestors_cache_version=R.const_cache_version,D.$$ancestors=se,se},R.included_modules=function(D){for(var se=[],le=null,ge=Object.getPrototypeOf(D.$$prototype);ge&&Object.getPrototypeOf(ge);ge=Object.getPrototypeOf(ge))le=Et(ge),le&&le.$$is_module&&ge.$$iclass&&ge.$$included&&se.push(le);return se},R.add_stubs=function(D){for(var se=R.BasicObject.$$prototype,le=0,ge=D.length;le<ge;le++){var Le=D[le],Ue=se[Le];(Ue==null||Ue.$$stub)&&R.add_stub_for(se,Le)}},R.add_stub_for=function(D,se){var le=R.stub_for(se);ve(D,se,le)},R.stub_for=function(D){function se(){this.$method_missing.$$p=se.$$p,se.$$p=null;for(var le=new Array(arguments.length),ge=0,Le=le.length;ge<Le;ge++)le[ge]=arguments[ge];return this.$method_missing.apply(this,[D.slice(1)].concat(le))}return se.$$stub=!0,se},R.ac=function(D,se,le,ge){var Le="";throw le.$$is_a_module?Le+=le.$$name+".":Le+=le.$$class.$$name+"#",Le+=ge,R.ArgumentError.$new("["+Le+"] wrong number of arguments("+D+" for "+se+")")},R.block_ac=function(D,se,le){var ge="`block in "+le+"'";throw R.ArgumentError.$new(ge+": wrong number of arguments ("+D+" for "+se+")")},R.find_super_dispatcher=function(D,se,le,ge,Le){var Ue="$"+se,qe,wt;D.hasOwnProperty("$$meta")?qe=R.ancestors(D.$$meta):qe=R.ancestors(D.$$class);for(var Nt=qe.indexOf(le.$$owner),Ft=Nt+1;Ft<qe.length;Ft++){var Ut=qe[Ft],Vt=Ut.$$prototype;if(Vt.hasOwnProperty("$$dummy")&&(Vt=Vt.$$define_methods_on),Vt.hasOwnProperty(Ue)){var Jt=Vt[Ue];Jt.$$stub||(wt=Jt);break}}if(!ge&&wt==null&&R.Kernel.$method_missing===D.$method_missing)throw R.NoMethodError.$new("super: no superclass method `"+se+"' for "+D,se);return wt},R.find_iter_super_dispatcher=function(D,se,le,ge,Le){var Ue=se;if(!le)throw R.RuntimeError.$new("super called outside of method");if(Le&&le.$$define_meth)throw R.RuntimeError.$new("implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly");return le.$$def&&(Ue=le.$$jsid),R.find_super_dispatcher(D,Ue,le,ge)},R.ret=function(D){throw R.returner.$v=D,R.returner},R.brk=function(D,se){throw se.$v=D,se},R.new_brk=function(){return new Error("unexpected break")},R.yield1=function(D,se){if(typeof D!="function")throw R.LocalJumpError.$new("no block given");var le=D.$$has_top_level_mlhs_arg,ge=D.$$has_trailing_comma_in_args;return(D.length>1||(le||ge)&&D.length===1)&&(se=R.to_ary(se)),(D.length>1||ge&&D.length===1)&&se.$$is_array?D.apply(null,se):D(se)},R.yieldX=function(D,se){if(typeof D!="function")throw R.LocalJumpError.$new("no block given");if(D.length>1&&se.length===1&&se[0].$$is_array)return D.apply(null,se[0]);if(!se.$$is_array){for(var le=new Array(se.length),ge=0,Le=le.length;ge<Le;ge++)le[ge]=se[ge];return D.apply(null,le)}return D.apply(null,se)},R.rescue=function(D,se){for(var le=0;le<se.length;le++){var ge=se[le];if(ge.$$is_array){var Le=R.rescue(D,ge);if(Le)return Le}else{if(ge===R.JS.Error)return ge;if(ge["$==="](D))return ge}}return null},R.is_a=function(D,se){if(se!=null&&D.$$meta===se||D.$$class===se||D.$$is_number&&se.$$is_number_class)return!0;var le,ge,Le=R.ancestors(D.$$is_class?R.get_singleton_class(D):D.$$meta||D.$$class);for(le=0,ge=Le.length;le<ge;le++)if(Le[le]===se)return!0;return!1},R.to_hash=function(D){if(D.$$is_hash)return D;if(D["$respond_to?"]("to_hash",!0)){var se=D.$to_hash();if(se.$$is_hash)return se;throw R.TypeError.$new("Can't convert "+D.$$class+" to Hash ("+D.$$class+"#to_hash gives "+se.$$class+")")}else throw R.TypeError.$new("no implicit conversion of "+D.$$class+" into Hash")},R.to_ary=function(D){if(D.$$is_array)return D;if(D["$respond_to?"]("to_ary",!0)){var se=D.$to_ary();if(se===Ze)return[D];if(se.$$is_array)return se;throw R.TypeError.$new("Can't convert "+D.$$class+" to Array ("+D.$$class+"#to_ary gives "+se.$$class+")")}else return[D]},R.to_a=function(D){if(D.$$is_array)return D.slice();if(D["$respond_to?"]("to_a",!0)){var se=D.$to_a();if(se===Ze)return[D];if(se.$$is_array)return se;throw R.TypeError.$new("Can't convert "+D.$$class+" to Array ("+D.$$class+"#to_a gives "+se.$$class+")")}else return[D]},R.extract_kwargs=function(D){var se=D[D.length-1];return se!=null&&se["$respond_to?"]("to_hash",!0)?(Ge.call(D,D.length-1,1),se.$to_hash()):R.hash2([],{})},R.kwrestargs=function(D,se){var le=[],ge={},Le=null,Ue=D.$$smap;for(Le in Ue)se[Le]||(le.push(Le),ge[Le]=Ue[Le]);return R.hash2(le,ge)},R.send=function(D,se,le,ge){var Le=typeof se=="string"?D["$"+se]:se;return Le!=null?(typeof ge=="function"&&(Le.$$p=ge),Le.apply(D,le)):D.$method_missing.apply(D,[se].concat(le))},R.lambda=function(D){return D.$$is_lambda=!0,D},R.def=function(D,se,le){D===R.top?R.defn(R.Object,se,le):!D.$$eval&&D.$$is_a_module?R.defn(D,se,le):R.defs(D,se,le)},R.defn=function(D,se,le){le.displayName=se,le.$$owner=D;var ge=D.$$prototype;if(ge.hasOwnProperty("$$dummy")&&(ge=ge.$$define_methods_on),ve(ge,se,le),D.$$is_module){D.$$module_function&&R.defs(D,se,le);for(var Le=0,Ue=D.$$iclasses,qe=Ue.length;Le<qe;Le++){var wt=Ue[Le];ve(wt,se,le)}}var Nt=D.$$singleton_of;D.$method_added&&!D.$method_added.$$stub&&!Nt?D.$method_added(se.substr(1)):Nt&&Nt.$singleton_method_added&&!Nt.$singleton_method_added.$$stub&&Nt.$singleton_method_added(se.substr(1))},R.defs=function(D,se,le){if(D.$$is_string||D.$$is_number)throw R.TypeError.$new("can't define singleton");R.defn(R.get_singleton_class(D),se,le)},R.rdef=function(D,se){if(!Gt.call(D.$$prototype,se))throw R.NameError.$new("method '"+se.substr(1)+"' not defined in "+D.$name());delete D.$$prototype[se],D.$$is_singleton?D.$$prototype.$singleton_method_removed&&!D.$$prototype.$singleton_method_removed.$$stub&&D.$$prototype.$singleton_method_removed(se.substr(1)):D.$method_removed&&!D.$method_removed.$$stub&&D.$method_removed(se.substr(1))},R.udef=function(D,se){if(!D.$$prototype[se]||D.$$prototype[se].$$stub)throw R.NameError.$new("method '"+se.substr(1)+"' not defined in "+D.$name());R.add_stub_for(D.$$prototype,se),D.$$is_singleton?D.$$prototype.$singleton_method_undefined&&!D.$$prototype.$singleton_method_undefined.$$stub&&D.$$prototype.$singleton_method_undefined(se.substr(1)):D.$method_undefined&&!D.$method_undefined.$$stub&&D.$method_undefined(se.substr(1))};function qt(D){return typeof D=="function"&&!D.$$stub}R.alias=function(D,se,le){var ge="$"+se,Le="$"+le,Ue=D.$$prototype["$"+le],qe;if(D.$$eval)return R.alias(R.get_singleton_class(D),se,le);if(!qt(Ue)){for(var wt=D.$$super;typeof Ue!="function"&&wt;)Ue=wt[Le],wt=wt.$$super;if(!qt(Ue)&&D.$$is_module&&(Ue=R.Object.$$prototype[Le]),!qt(Ue))throw R.NameError.$new("undefined method `"+le+"' for class `"+D.$name()+"'")}return Ue.$$alias_of&&(Ue=Ue.$$alias_of),qe=function(){var Nt=qe.$$p,Ft,Ut,Vt;for(Ft=new Array(arguments.length),Ut=0,Vt=arguments.length;Ut<Vt;Ut++)Ft[Ut]=arguments[Ut];return Nt!=null&&(qe.$$p=null),R.send(this,Ue,Ft,Nt)},qe.displayName=se,qe.length=Ue.length,qe.$$arity=Ue.$$arity,qe.$$parameters=Ue.$$parameters,qe.$$source_location=Ue.$$source_location,qe.$$alias_of=Ue,qe.$$alias_name=se,R.defn(D,ge,qe),D},R.alias_native=function(D,se,le){var ge="$"+se,Le=D.$$prototype[le];if(typeof Le!="function"||Le.$$stub)throw R.NameError.$new("undefined native method `"+le+"' for class `"+D.$name()+"'");return R.defn(D,ge,Le),D},R.hash_init=function(D){D.$$smap=Object.create(null),D.$$map=Object.create(null),D.$$keys=[]},R.hash_clone=function(D,se){se.$$none=D.$$none,se.$$proc=D.$$proc;for(var le=0,ge=D.$$keys,Le=D.$$smap,Ue=ge.length,qe,wt;le<Ue;le++)qe=ge[le],qe.$$is_string?wt=Le[qe]:(wt=qe.value,qe=qe.key),R.hash_put(se,qe,wt)},R.hash_put=function(D,se,le){if(se.$$is_string){Gt.call(D.$$smap,se)||D.$$keys.push(se),D.$$smap[se]=le;return}var ge,Le,Ue;if(ge=D.$$by_identity?R.id(se):se.$hash(),!Gt.call(D.$$map,ge)){Le={key:se,key_hash:ge,value:le},D.$$keys.push(Le),D.$$map[ge]=Le;return}for(Le=D.$$map[ge];Le;){if(se===Le.key||se["$eql?"](Le.key)){Ue=r,Le.value=le;break}Ue=Le,Le=Le.next}Ue&&(Le={key:se,key_hash:ge,value:le},D.$$keys.push(Le),Ue.next=Le)},R.hash_get=function(D,se){if(se.$$is_string)return Gt.call(D.$$smap,se)?D.$$smap[se]:void 0;var le,ge;if(le=D.$$by_identity?R.id(se):se.$hash(),Gt.call(D.$$map,le))for(ge=D.$$map[le];ge;){if(se===ge.key||se["$eql?"](ge.key))return ge.value;ge=ge.next}},R.hash_delete=function(D,se){var le,ge=D.$$keys,Le=ge.length,Ue;if(se.$$is_string){if(!Gt.call(D.$$smap,se))return;for(le=0;le<Le;le++)if(ge[le]===se){ge.splice(le,1);break}return Ue=D.$$smap[se],delete D.$$smap[se],Ue}var qe=se.$hash();if(!!Gt.call(D.$$map,qe))for(var wt=D.$$map[qe],Nt;wt;){if(se===wt.key||se["$eql?"](wt.key)){for(Ue=wt.value,le=0;le<Le;le++)if(ge[le]===wt){ge.splice(le,1);break}return Nt&&wt.next?Nt.next=wt.next:Nt?delete Nt.next:wt.next?D.$$map[qe]=wt.next:delete D.$$map[qe],Ue}Nt=wt,wt=wt.next}},R.hash_rehash=function(D){for(var se=0,le=D.$$keys.length,ge,Le,Ue;se<le;se++)if(!D.$$keys[se].$$is_string&&(ge=D.$$keys[se].key.$hash(),ge!==D.$$keys[se].key_hash)){for(Le=D.$$map[D.$$keys[se].key_hash],Ue=r;Le;){if(Le===D.$$keys[se]){Ue&&Le.next?Ue.next=Le.next:Ue?delete Ue.next:Le.next?D.$$map[D.$$keys[se].key_hash]=Le.next:delete D.$$map[D.$$keys[se].key_hash];break}Ue=Le,Le=Le.next}if(D.$$keys[se].key_hash=ge,!Gt.call(D.$$map,ge)){D.$$map[ge]=D.$$keys[se];continue}for(Le=D.$$map[ge],Ue=r;Le;){if(Le===D.$$keys[se]){Ue=r;break}Ue=Le,Le=Le.next}Ue&&(Ue.next=D.$$keys[se])}},R.hash=function(){var D=arguments.length,se,le,ge,Le,Ue,qe;if(D===1&&arguments[0].$$is_hash)return arguments[0];if(le=new R.Hash,R.hash_init(le),D===1&&arguments[0].$$is_array){for(se=arguments[0],Le=se.length,ge=0;ge<Le;ge++){if(se[ge].length!==2)throw R.ArgumentError.$new("value not of length 2: "+se[ge].$inspect());Ue=se[ge][0],qe=se[ge][1],R.hash_put(le,Ue,qe)}return le}if(D===1){se=arguments[0];for(Ue in se)Gt.call(se,Ue)&&(qe=se[Ue],R.hash_put(le,Ue,qe));return le}if(D%2!==0)throw R.ArgumentError.$new("odd number of arguments for Hash");for(ge=0;ge<D;ge+=2)Ue=arguments[ge],qe=arguments[ge+1],R.hash_put(le,Ue,qe);return le},R.hash2=function(D,se){var le=new R.Hash;return le.$$smap=se,le.$$map=Object.create(null),le.$$keys=D,le},R.range=function(D,se,le){var ge=new R.Range;return ge.begin=D,ge.end=se,ge.excl=le,ge},R.ivar=function(D){return D==="constructor"||D==="displayName"||D==="__count__"||D==="__noSuchMethod__"||D==="__parent__"||D==="__proto__"||D==="hasOwnProperty"||D==="valueOf"?D+"$":D},R.escape_regexp=function(D){return D.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")},R.global_regexp=function(D){return D.global?D:(D.$$g==null?D.$$g=new RegExp(D.source,(D.multiline?"gm":"g")+(D.ignoreCase?"i":"")):D.$$g.lastIndex=null,D.$$g)},R.global_multiline_regexp=function(D){var se;if(D.multiline){if(D.global)return D;D.$$g!=null?se=D.$$g:se=D.$$g=new RegExp(D.source,"gm"+(D.ignoreCase?"i":""))}else D.$$gm!=null?se=D.$$gm:se=D.$$gm=new RegExp(D.source,"gm"+(D.ignoreCase?"i":""));return se.lastIndex=null,se},R.modules={},R.loaded_features=["corelib/runtime"],R.current_dir=".",R.require_table={"corelib/runtime":!0},R.normalize=function(D){var se,le,ge=[],Le="/";R.current_dir!=="."&&(D=R.current_dir.replace(/\/*$/,"/")+D),D=D.replace(/^\.\//,""),D=D.replace(/\.(rb|opal|js)$/,""),se=D.split(Le);for(var Ue=0,qe=se.length;Ue<qe;Ue++)le=se[Ue],le!==""&&(le===".."?ge.pop():ge.push(le));return ge.join(Le)},R.loaded=function(D){var se,le,ge;for(se=0,le=D.length;se<le;se++)ge=R.normalize(D[se]),!R.require_table[ge]&&(R.loaded_features.push(ge),R.require_table[ge]=!0)},R.load=function(D){D=R.normalize(D),R.loaded([D]);var se=R.modules[D];if(se)se(R);else{var le=R.config.missing_require_severity,ge="cannot load such file -- "+D;if(le==="error")throw R.LoadError?R.LoadError.$new(ge):ge;le==="warning"&&Je.warn("WARNING: LoadError: "+ge)}return!0},R.require=function(D){return D=R.normalize(D),R.require_table[D]?!1:R.load(D)},R.encodings=Object.create(null),R.set_encoding=function(D,se){if(typeof D=="string")throw R.FrozenError.$new("can't modify frozen String");var le=R.encodings[se];return le===D.encoding||(D.encoding=le),D},R.enc=function(D,se){var le=new String(D);return R.set_encoding(le,se),le.internal_encoding=le.encoding,le};function Ct(){}function It(){}function Pt(){}function Mt(){}R.BasicObject=Fe=R.allocate_class("BasicObject",null,Ct),R.Object=he=R.allocate_class("Object",R.BasicObject,It),R.Module=gt=R.allocate_class("Module",R.Object,Pt),R.Class=Ce=R.allocate_class("Class",R.Module,Mt),ke(R.BasicObject,R.Class.$$prototype),ke(R.Object,R.Class.$$prototype),ke(R.Module,R.Class.$$prototype),ke(R.Class,R.Class.$$prototype),Fe.$$const.BasicObject=Fe,R.const_set(he,"BasicObject",Fe),R.const_set(he,"Object",he),R.const_set(he,"Module",gt),R.const_set(he,"Class",Ce),Fe.$$class=Ce,he.$$class=Ce,gt.$$class=Ce,Ce.$$class=Ce,ve(he.$$prototype,"toString",function(){var D=this.$to_s();return D.$$is_string&&typeof D=="object"?D.valueOf():D}),ve(he.$$prototype,"$require",R.require),R.$$=he.$$,R.top=new he,R.top.$to_s=R.top.$inspect=function(){return"main"};function jt(){}R.NilClass=R.allocate_class("NilClass",R.Object,jt),R.const_set(he,"NilClass",R.NilClass),Ze=R.nil=new R.NilClass,Ze.$$id=zt,Ze.call=Ze.apply=function(){throw R.LocalJumpError.$new("no block given")},R.breaker=new Error("unexpected break (old)"),R.returner=new Error("unexpected return"),TypeError.$$super=Error}).call(exports),Opal.loaded(["corelib/runtime.js"]),Opal.modules["corelib/helpers"]=function(r){var Re=r.top,Je=[],Ze=r.nil,Fe=r.const_get_qualified,he=r.const_get_relative,gt=r.breaker,Ce=r.slice,R=r.module,Gt=r.truthy;return r.add_stubs(["$new","$class","$===","$respond_to?","$raise","$type_error","$__send__","$coerce_to","$nil?","$<=>","$coerce_to!","$!=","$[]","$upcase"]),function(B,ke){var st=R(B,"Opal"),Ge=[st].concat(ke),zt,Oe,ve,J,G,Ve,ft,Ye,pe,De,ze,ut,xt,At;r.defs(st,"$bridge",zt=function(pt,St){var Rt=this;return r.bridge(pt,St)},zt.$$arity=2),r.defs(st,"$type_error",Oe=function(pt,St,Rt,Et){var Bt,qt=this;return Rt==null&&(Rt=Ze),Et==null&&(Et=Ze),Gt(Gt(Bt=Rt)?Et:Bt)?he(Ge,"TypeError").$new("can't convert "+pt.$class()+" into "+St+" ("+pt.$class()+"#"+Rt+" gives "+Et.$class()+")"):he(Ge,"TypeError").$new("no implicit conversion of "+pt.$class()+" into "+St)},Oe.$$arity=-3),r.defs(st,"$coerce_to",ve=function(pt,St,Rt){var Et=this;return Gt(St["$==="](pt))?pt:(Gt(pt["$respond_to?"](Rt))||Et.$raise(Et.$type_error(pt,St)),pt.$__send__(Rt))},ve.$$arity=3),r.defs(st,"$coerce_to!",J=function(ht,pt,St){var Rt=this,Et=Ze;return Et=Rt.$coerce_to(ht,pt,St),Gt(pt["$==="](Et))||Rt.$raise(Rt.$type_error(ht,pt,St,Et)),Et},J.$$arity=3),r.defs(st,"$coerce_to?",G=function(ht,pt,St){var Rt=this,Et=Ze;return!Gt(ht["$respond_to?"](St))||(Et=Rt.$coerce_to(ht,pt,St),Gt(Et["$nil?"]()))?Ze:(Gt(pt["$==="](Et))||Rt.$raise(Rt.$type_error(ht,pt,St,Et)),Et)},G.$$arity=3),r.defs(st,"$try_convert",Ve=function(pt,St,Rt){var Et=this;return Gt(St["$==="](pt))?pt:Gt(pt["$respond_to?"](Rt))?pt.$__send__(Rt):Ze},Ve.$$arity=3),r.defs(st,"$compare",ft=function(pt,St){var Rt=this,Et=Ze;return Et=pt["$<=>"](St),Gt(Et===Ze)&&Rt.$raise(he(Ge,"ArgumentError"),"comparison of "+pt.$class()+" with "+St.$class()+" failed"),Et},ft.$$arity=2),r.defs(st,"$destructure",Ye=function(pt){var St=this;if(pt.length==1)return pt[0];if(pt.$$is_array)return pt;for(var Rt=new Array(pt.length),Et=0,Bt=Rt.length;Et<Bt;Et++)Rt[Et]=pt[Et];return Rt},Ye.$$arity=1),r.defs(st,"$respond_to?",pe=function(ht,pt,St){var Rt=this;return St==null&&(St=!1),ht==null||!ht.$$class?!1:ht["$respond_to?"](pt,St)},pe.$$arity=-3),r.defs(st,"$inspect_obj",De=function(pt){var St=this;return r.inspect(pt)},De.$$arity=1),r.defs(st,"$instance_variable_name!",ze=function(ht){var pt=this;return ht=he(Ge,"Opal")["$coerce_to!"](ht,he(Ge,"String"),"to_str"),Gt(/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(ht))||pt.$raise(he(Ge,"NameError").$new("'"+ht+"' is not allowed as an instance variable name",ht)),ht},ze.$$arity=1),r.defs(st,"$class_variable_name!",ut=function(ht){var pt=this;return ht=he(Ge,"Opal")["$coerce_to!"](ht,he(Ge,"String"),"to_str"),Gt(ht.length<3||ht.slice(0,2)!=="@@")&&pt.$raise(he(Ge,"NameError").$new("`"+ht+"' is not allowed as a class variable name",ht)),ht},ut.$$arity=1),r.defs(st,"$const_name!",xt=function(ht){var pt=this;return ht=he(Ge,"Opal")["$coerce_to!"](ht,he(Ge,"String"),"to_str"),Gt(ht["$[]"](0)["$!="](ht["$[]"](0).$upcase()))&&pt.$raise(he(Ge,"NameError"),"wrong constant name "+ht),ht},xt.$$arity=1),r.defs(st,"$pristine",At=function(pt,St){var Rt,Et,Bt=this;Rt=r.slice.call(arguments,1,arguments.length),Et=Rt;for(var qt,Ct,It=Et.length-1;It>=0;It--)qt=Et[It],Ct=pt.$$prototype["$"+qt],Ct&&!Ct.$$stub&&(Ct.$$pristine=!0);return Ze},At.$$arity=-2)}(Je[0],Je)},Opal.modules["corelib/module"]=function(Opal){function $rb_lt(r,Re){return typeof r=="number"&&typeof Re=="number"?r<Re:r["$<"](Re)}function $rb_gt(r,Re){return typeof r=="number"&&typeof Re=="number"?r>Re:r["$>"](Re)}var self=Opal.top,$nesting=[],nil=Opal.nil,$$$=Opal.const_get_qualified,$$=Opal.const_get_relative,$breaker=Opal.breaker,$slice=Opal.slice,$klass=Opal.klass,$send=Opal.send,$truthy=Opal.truthy,$lambda=Opal.lambda,$range=Opal.range,$hash2=Opal.hash2;return Opal.add_stubs(["$module_eval","$to_proc","$===","$raise","$equal?","$<","$>","$nil?","$attr_reader","$attr_writer","$class_variable_name!","$new","$const_name!","$=~","$inject","$split","$const_get","$==","$!~","$start_with?","$bind","$call","$class","$append_features","$included","$name","$cover?","$size","$merge","$compile","$proc","$any?","$prepend_features","$prepended","$to_s","$__id__","$constants","$include?","$copy_class_variables","$copy_constants"]),function($base,$super,$parent_nesting){var self=$klass($base,$super,"Module"),$nesting=[self].concat($parent_nesting),$Module_allocate$1,$Module_initialize$2,$Module_$eq_eq_eq$3,$Module_$lt$4,$Module_$lt_eq$5,$Module_$gt$6,$Module_$gt_eq$7,$Module_$lt_eq_gt$8,$Module_alias_method$9,$Module_alias_native$10,$Module_ancestors$11,$Module_append_features$12,$Module_attr_accessor$13,$Module_attr_reader$14,$Module_attr_writer$15,$Module_autoload$16,$Module_class_variables$17,$Module_class_variable_get$18,$Module_class_variable_set$19,$Module_class_variable_defined$ques$20,$Module_remove_class_variable$21,$Module_constants$22,$Module_constants$23,$Module_nesting$24,$Module_const_defined$ques$25,$Module_const_get$26,$Module_const_missing$28,$Module_const_set$29,$Module_public_constant$30,$Module_define_method$31,$Module_remove_method$33,$Module_singleton_class$ques$34,$Module_include$35,$Module_included_modules$36,$Module_include$ques$37,$Module_instance_method$38,$Module_instance_methods$39,$Module_included$40,$Module_extended$41,$Module_extend_object$42,$Module_method_added$43,$Module_method_removed$44,$Module_method_undefined$45,$Module_module_eval$46,$Module_module_exec$48,$Module_method_defined$ques$49,$Module_module_function$50,$Module_name$51,$Module_prepend$52,$Module_prepend_features$53,$Module_prepended$54,$Module_remove_const$55,$Module_to_s$56,$Module_undef_method$57,$Module_instance_variables$58,$Module_dup$59,$Module_copy_class_variables$60,$Module_copy_constants$61;return Opal.defs(self,"$allocate",$Module_allocate$1=function(){var Re=this,Je=Opal.allocate_module(nil,function(){});return Re!==Opal.Module&&Object.setPrototypeOf(Je,Re.$$prototype),Je},$Module_allocate$1.$$arity=0),Opal.def(self,"$initialize",$Module_initialize$2=function(){var Re=$Module_initialize$2.$$p,Je=Re||nil,Ze=this;return Re&&($Module_initialize$2.$$p=null),Re&&($Module_initialize$2.$$p=null),Je!==nil?$send(Ze,"module_eval",[],Je.$to_proc()):nil},$Module_initialize$2.$$arity=0),Opal.def(self,"$===",$Module_$eq_eq_eq$3=function(r){var Re=this;return $truthy(r==null)?!1:Opal.is_a(r,Re)},$Module_$eq_eq_eq$3.$$arity=1),Opal.def(self,"$<",$Module_$lt$4=function(r){var Re=this;$truthy($$($nesting,"Module")["$==="](r))||Re.$raise($$($nesting,"TypeError"),"compared with non class/module");var Je=Re,Ze,Fe,he;if(Je===r)return!1;for(Fe=0,Ze=Opal.ancestors(Re),he=Ze.length;Fe<he;Fe++)if(Ze[Fe]===r)return!0;for(Fe=0,Ze=Opal.ancestors(r),he=Ze.length;Fe<he;Fe++)if(Ze[Fe]===Re)return!1;return nil},$Module_$lt$4.$$arity=1),Opal.def(self,"$<=",$Module_$lt_eq$5=function(r){var Re,Je=this;return $truthy(Re=Je["$equal?"](r))?Re:$rb_lt(Je,r)},$Module_$lt_eq$5.$$arity=1),Opal.def(self,"$>",$Module_$gt$6=function(r){var Re=this;return $truthy($$($nesting,"Module")["$==="](r))||Re.$raise($$($nesting,"TypeError"),"compared with non class/module"),$rb_lt(r,Re)},$Module_$gt$6.$$arity=1),Opal.def(self,"$>=",$Module_$gt_eq$7=function(r){var Re,Je=this;return $truthy(Re=Je["$equal?"](r))?Re:$rb_gt(Je,r)},$Module_$gt_eq$7.$$arity=1),Opal.def(self,"$<=>",$Module_$lt_eq_gt$8=function(r){var Re=this,Je=nil;return Re===r?0:!$truthy($$($nesting,"Module")["$==="](r))||(Je=$rb_lt(Re,r),$truthy(Je["$nil?"]()))?nil:$truthy(Je)?-1:1},$Module_$lt_eq_gt$8.$$arity=1),Opal.def(self,"$alias_method",$Module_alias_method$9=function(Re,Je){var Ze=this;return Opal.alias(Ze,Re,Je),Ze},$Module_alias_method$9.$$arity=2),Opal.def(self,"$alias_native",$Module_alias_native$10=function(Re,Je){var Ze=this;return Je==null&&(Je=Re),Opal.alias_native(Ze,Re,Je),Ze},$Module_alias_native$10.$$arity=-2),Opal.def(self,"$ancestors",$Module_ancestors$11=function(){var Re=this;return Opal.ancestors(Re)},$Module_ancestors$11.$$arity=0),Opal.def(self,"$append_features",$Module_append_features$12=function(Re){var Je=this;return Opal.append_features(Je,Re),Je},$Module_append_features$12.$$arity=1),Opal.def(self,"$attr_accessor",$Module_attr_accessor$13=function(Re){var Je,Ze,Fe=this;return Je=Opal.slice.call(arguments,0,arguments.length),Ze=Je,$send(Fe,"attr_reader",Opal.to_a(Ze)),$send(Fe,"attr_writer",Opal.to_a(Ze))},$Module_attr_accessor$13.$$arity=-1),Opal.alias(self,"attr","attr_accessor"),Opal.def(self,"$attr_reader",$Module_attr_reader$14=function(Re){var Je,Ze,Fe=this;Je=Opal.slice.call(arguments,0,arguments.length),Ze=Je;for(var he=Fe.$$prototype,gt=Ze.length-1;gt>=0;gt--){var Ce=Ze[gt],R="$"+Ce,Gt=Opal.ivar(Ce),B=function(ke){return function(){return this[ke]==null?nil:this[ke]}}(Gt);Opal.defineProperty(he,Gt,nil),B.$$parameters=[],B.$$arity=0,Opal.defn(Fe,R,B)}return nil},$Module_attr_reader$14.$$arity=-1),Opal.def(self,"$attr_writer",$Module_attr_writer$15=function(Re){var Je,Ze,Fe=this;Je=Opal.slice.call(arguments,0,arguments.length),Ze=Je;for(var he=Fe.$$prototype,gt=Ze.length-1;gt>=0;gt--){var Ce=Ze[gt],R="$"+Ce+"=",Gt=Opal.ivar(Ce),B=function(ke){return function(st){return this[ke]=st}}(Gt);B.$$parameters=[["req"]],B.$$arity=1,Opal.defineProperty(he,Gt,nil),Opal.defn(Fe,R,B)}return nil},$Module_attr_writer$15.$$arity=-1),Opal.def(self,"$autoload",$Module_autoload$16=function(Re,Je){var Ze=this;return Ze.$$autoload==null&&(Ze.$$autoload={}),Opal.const_cache_version++,Ze.$$autoload[Re]=Je,nil},$Module_autoload$16.$$arity=2),Opal.def(self,"$class_variables",$Module_class_variables$17=function(){var Re=this;return Object.keys(Opal.class_variables(Re))},$Module_class_variables$17.$$arity=0),Opal.def(self,"$class_variable_get",$Module_class_variable_get$18=function(Re){var Je=this;Re=$$($nesting,"Opal")["$class_variable_name!"](Re);var Ze=Opal.class_variables(Je)[Re];return Ze==null&&Je.$raise($$($nesting,"NameError").$new("uninitialized class variable "+Re+" in "+Je,Re)),Ze},$Module_class_variable_get$18.$$arity=1),Opal.def(self,"$class_variable_set",$Module_class_variable_set$19=function(Re,Je){var Ze=this;return Re=$$($nesting,"Opal")["$class_variable_name!"](Re),Opal.class_variable_set(Ze,Re,Je)},$Module_class_variable_set$19.$$arity=2),Opal.def(self,"$class_variable_defined?",$Module_class_variable_defined$ques$20=function(r){var Re=this;return r=$$($nesting,"Opal")["$class_variable_name!"](r),Opal.class_variables(Re).hasOwnProperty(r)},$Module_class_variable_defined$ques$20.$$arity=1),Opal.def(self,"$remove_class_variable",$Module_remove_class_variable$21=function(Re){var Je=this;if(Re=$$($nesting,"Opal")["$class_variable_name!"](Re),Opal.hasOwnProperty.call(Je.$$cvars,Re)){var Ze=Je.$$cvars[Re];return delete Je.$$cvars[Re],Ze}else Je.$raise($$($nesting,"NameError"),"cannot remove "+Re+" for "+Je)},$Module_remove_class_variable$21.$$arity=1),Opal.def(self,"$constants",$Module_constants$22=function(Re){var Je=this;return Re==null&&(Re=!0),Opal.constants(Je,Re)},$Module_constants$22.$$arity=-1),Opal.defs(self,"$constants",$Module_constants$23=function(Re){var Je=this;if(Re==null){var Ze=(Je.$$nesting||[]).concat(Opal.Object),Fe,he={},gt,Ce;for(gt=0,Ce=Ze.length;gt<Ce;gt++)for(Fe in Ze[gt].$$const)he[Fe]=!0;return Object.keys(he)}else return Opal.constants(Je,Re)},$Module_constants$23.$$arity=-1),Opal.defs(self,"$nesting",$Module_nesting$24=function(){var Re=this;return Re.$$nesting||[]},$Module_nesting$24.$$arity=0),Opal.def(self,"$const_defined?",$Module_const_defined$ques$25=function(r,Re){var Je=this;Re==null&&(Re=!0),r=$$($nesting,"Opal")["$const_name!"](r),$truthy(r["$=~"]($$$($$($nesting,"Opal"),"CONST_NAME_REGEXP")))||Je.$raise($$($nesting,"NameError").$new("wrong constant name "+r,r));var Ze,Fe=[Je],he,gt,Ce;for(Re&&(Fe=Fe.concat(Opal.ancestors(Je)),Je.$$is_module&&(Fe=Fe.concat([Opal.Object]).concat(Opal.ancestors(Opal.Object)))),gt=0,Ce=Fe.length;gt<Ce;gt++)if(Ze=Fe[gt],Ze.$$const[r]!=null)return!0;return!1},$Module_const_defined$ques$25.$$arity=-2),Opal.def(self,"$const_get",$Module_const_get$26=function(Re,Je){var Ze,Fe=this;return Je==null&&(Je=!0),Re=$$($nesting,"Opal")["$const_name!"](Re),Re.indexOf("::")===0&&Re!=="::"&&(Re=Re.slice(2)),$truthy(Re.indexOf("::")!=-1&&Re!="::")?$send(Re.$split("::"),"inject",[Fe],(Ze=function(he,gt){var Ce=Ze.$$s||this;return he==null&&(he=nil),gt==null&&(gt=nil),he.$const_get(gt)},Ze.$$s=Fe,Ze.$$arity=2,Ze)):($truthy(Re["$=~"]($$$($$($nesting,"Opal"),"CONST_NAME_REGEXP")))||Fe.$raise($$($nesting,"NameError").$new("wrong constant name "+Re,Re)),Je?$$([Fe],Re):Opal.const_get_local(Fe,Re))},$Module_const_get$26.$$arity=-2),Opal.def(self,"$const_missing",$Module_const_missing$28=function(Re){var Je=this,Ze=nil;if(Je.$$autoload){var Fe=Je.$$autoload[Re];if(Fe)return Je.$require(Fe),Je.$const_get(Re)}return Ze=function(){return Je["$=="]($$($nesting,"Object"))?Re:""+Je+"::"+Re}(),Je.$raise($$($nesting,"NameError").$new("uninitialized constant "+Ze,Re))},$Module_const_missing$28.$$arity=1),Opal.def(self,"$const_set",$Module_const_set$29=function(Re,Je){var Ze,Fe=this;return Re=$$($nesting,"Opal")["$const_name!"](Re),$truthy($truthy(Ze=Re["$!~"]($$$($$($nesting,"Opal"),"CONST_NAME_REGEXP")))?Ze:Re["$start_with?"]("::"))&&Fe.$raise($$($nesting,"NameError").$new("wrong constant name "+Re,Re)),Opal.const_set(Fe,Re,Je),Je},$Module_const_set$29.$$arity=2),Opal.def(self,"$public_constant",$Module_public_constant$30=function(Re){var Je=this;return nil},$Module_public_constant$30.$$arity=1),Opal.def(self,"$define_method",$Module_define_method$31=function(Re,Je){var Ze=$Module_define_method$31.$$p,Fe=Ze||nil,he,gt,Ce=this,R=nil;Ze&&($Module_define_method$31.$$p=null),Ze&&($Module_define_method$31.$$p=null),$truthy(Je===void 0&&Fe===nil)&&Ce.$raise($$($nesting,"ArgumentError"),"tried to create a Proc object without a block"),Fe=$truthy(he=Fe)?he:function(){return R=Je,$$($nesting,"Proc")["$==="](R)?Je:$$($nesting,"Method")["$==="](R)?Je.$to_proc().$$unbound:$$($nesting,"UnboundMethod")["$==="](R)?$lambda((gt=function(B){var ke=gt.$$s||this,st,Ge,zt=nil;return st=Opal.slice.call(arguments,0,arguments.length),Ge=st,zt=Je.$bind(ke),$send(zt,"call",Opal.to_a(Ge))},gt.$$s=Ce,gt.$$arity=-1,gt)):Ce.$raise($$($nesting,"TypeError"),"wrong argument type "+Fe.$class()+" (expected Proc/Method)")}();var Gt="$"+Re;return Fe.$$jsid=Re,Fe.$$s=null,Fe.$$def=Fe,Fe.$$define_meth=!0,Opal.defn(Ce,Gt,Fe),Re},$Module_define_method$31.$$arity=-2),Opal.def(self,"$remove_method",$Module_remove_method$33=function(Re){var Je,Ze,Fe=this;Je=Opal.slice.call(arguments,0,arguments.length),Ze=Je;for(var he=0,gt=Ze.length;he<gt;he++)Opal.rdef(Fe,"$"+Ze[he]);return Fe},$Module_remove_method$33.$$arity=-1),Opal.def(self,"$singleton_class?",$Module_singleton_class$ques$34=function(){var r=this;return!!r.$$is_singleton},$Module_singleton_class$ques$34.$$arity=0),Opal.def(self,"$include",$Module_include$35=function(Re){var Je,Ze,Fe=this;Je=Opal.slice.call(arguments,0,arguments.length),Ze=Je;for(var he=Ze.length-1;he>=0;he--){var gt=Ze[he];gt.$$is_module||Fe.$raise($$($nesting,"TypeError"),"wrong argument type "+gt.$class()+" (expected Module)"),gt.$append_features(Fe),gt.$included(Fe)}return Fe},$Module_include$35.$$arity=-1),Opal.def(self,"$included_modules",$Module_included_modules$36=function(){var Re=this;return Opal.included_modules(Re)},$Module_included_modules$36.$$arity=0),Opal.def(self,"$include?",$Module_include$ques$37=function(r){var Re=this;r.$$is_module||Re.$raise($$($nesting,"TypeError"),"wrong argument type "+r.$class()+" (expected Module)");var Je,Ze,Fe,he=Opal.ancestors(Re);for(Je=0,Ze=he.length;Je<Ze;Je++)if(Fe=he[Je],Fe===r&&Fe!==Re)return!0;return!1},$Module_include$ques$37.$$arity=1),Opal.def(self,"$instance_method",$Module_instance_method$38=function(Re){var Je=this,Ze=Je.$$prototype["$"+Re];return(!Ze||Ze.$$stub)&&Je.$raise($$($nesting,"NameError").$new("undefined method `"+Re+"' for class `"+Je.$name()+"'",Re)),$$($nesting,"UnboundMethod").$new(Je,Ze.$$owner||Je,Ze,Re)},$Module_instance_method$38.$$arity=1),Opal.def(self,"$instance_methods",$Module_instance_methods$39=function(Re){var Je=this;return Re==null&&(Re=!0),$truthy(Re)?Opal.instance_methods(Je):Opal.own_instance_methods(Je)},$Module_instance_methods$39.$$arity=-1),Opal.def(self,"$included",$Module_included$40=function(Re){var Je=this;return nil},$Module_included$40.$$arity=1),Opal.def(self,"$extended",$Module_extended$41=function(Re){var Je=this;return nil},$Module_extended$41.$$arity=1),Opal.def(self,"$extend_object",$Module_extend_object$42=function(Re){var Je=this;return nil},$Module_extend_object$42.$$arity=1),Opal.def(self,"$method_added",$Module_method_added$43=function(Re){var Je,Ze=this;return Je=Opal.slice.call(arguments,0,arguments.length),nil},$Module_method_added$43.$$arity=-1),Opal.def(self,"$method_removed",$Module_method_removed$44=function(Re){var Je,Ze=this;return Je=Opal.slice.call(arguments,0,arguments.length),nil},$Module_method_removed$44.$$arity=-1),Opal.def(self,"$method_undefined",$Module_method_undefined$45=function(Re){var Je,Ze=this;return Je=Opal.slice.call(arguments,0,arguments.length),nil},$Module_method_undefined$45.$$arity=-1),Opal.def(self,"$module_eval",$Module_module_eval$46=function $$module_eval($a){var $iter=$Module_module_eval$46.$$p,block=$iter||nil,$post_args,args,$b,$$47,self=this,string=nil,file=nil,_lineno=nil,default_eval_options=nil,compiling_options=nil,compiled=nil;$iter&&($Module_module_eval$46.$$p=null),$iter&&($Module_module_eval$46.$$p=null),$post_args=Opal.slice.call(arguments,0,arguments.length),args=$post_args,$truthy($truthy($b=block["$nil?"]())?!!Opal.compile:$b)?($truthy($range(1,3,!1)["$cover?"](args.$size()))||$$($nesting,"Kernel").$raise($$($nesting,"ArgumentError"),"wrong number of arguments (0 for 1..3)"),$b=[].concat(Opal.to_a(args)),string=$b[0]==null?nil:$b[0],file=$b[1]==null?nil:$b[1],_lineno=$b[2]==null?nil:$b[2],default_eval_options=$hash2(["file","eval"],{file:$truthy($b=file)?$b:"(eval)",eval:!0}),compiling_options=Opal.hash({arity_check:!1}).$merge(default_eval_options),compiled=$$($nesting,"Opal").$compile(string,compiling_options),block=$send($$($nesting,"Kernel"),"proc",[],($$47=function(){var self=$$47.$$s||this;return function(self){return eval(compiled)}(self)},$$47.$$s=self,$$47.$$arity=0,$$47))):$truthy(args["$any?"]())&&$$($nesting,"Kernel").$raise($$($nesting,"ArgumentError"),"wrong number of arguments ("+args.$size()+` for 0)

  NOTE:If you want to enable passing a String argument please add "require 'opal-parser'" to your script
`);var old=block.$$s,result;return block.$$s=null,result=block.apply(self,[self]),block.$$s=old,result},$Module_module_eval$46.$$arity=-1),Opal.alias(self,"class_eval","module_eval"),Opal.def(self,"$module_exec",$Module_module_exec$48=function r(Re){var Je=$Module_module_exec$48.$$p,Ze=Je||nil,Fe,he,gt=this;Je&&($Module_module_exec$48.$$p=null),Je&&($Module_module_exec$48.$$p=null),Fe=Opal.slice.call(arguments,0,arguments.length),he=Fe,Ze===nil&&gt.$raise($$($nesting,"LocalJumpError"),"no block given");var Ce=Ze.$$s,R;return Ze.$$s=null,R=Ze.apply(gt,he),Ze.$$s=Ce,R},$Module_module_exec$48.$$arity=-1),Opal.alias(self,"class_exec","module_exec"),Opal.def(self,"$method_defined?",$Module_method_defined$ques$49=function(r){var Re=this,Je=Re.$$prototype["$"+r];return!!Je&&!Je.$$stub},$Module_method_defined$ques$49.$$arity=1),Opal.def(self,"$module_function",$Module_module_function$50=function r(Re){var Je,Ze,Fe=this;if(Je=Opal.slice.call(arguments,0,arguments.length),Ze=Je,Ze.length===0)Fe.$$module_function=!0;else for(var he=0,gt=Ze.length;he<gt;he++){var Ce=Ze[he],R="$"+Ce,Gt=Fe.$$prototype[R];Opal.defs(Fe,R,Gt)}return Fe},$Module_module_function$50.$$arity=-1),Opal.def(self,"$name",$Module_name$51=function r(){var Re=this;if(Re.$$full_name)return Re.$$full_name;for(var Je=[],Ze=Re;Ze;){if(Ze.$$name===nil||Ze.$$name==null)return nil;if(Je.unshift(Ze.$$name),Ze=Ze.$$base_module,Ze===Opal.Object)break}return Je.length===0?nil:Re.$$full_name=Je.join("::")},$Module_name$51.$$arity=0),Opal.def(self,"$prepend",$Module_prepend$52=function r(Re){var Je,Ze,Fe=this;Je=Opal.slice.call(arguments,0,arguments.length),Ze=Je,Ze.length===0&&Fe.$raise($$($nesting,"ArgumentError"),"wrong number of arguments (given 0, expected 1+)");for(var he=Ze.length-1;he>=0;he--){var gt=Ze[he];gt.$$is_module||Fe.$raise($$($nesting,"TypeError"),"wrong argument type "+gt.$class()+" (expected Module)"),gt.$prepend_features(Fe),gt.$prepended(Fe)}return Fe},$Module_prepend$52.$$arity=-1),Opal.def(self,"$prepend_features",$Module_prepend_features$53=function r(Re){var Je=this;return Je.$$is_module||Je.$raise($$($nesting,"TypeError"),"wrong argument type "+Je.$class()+" (expected Module)"),Opal.prepend_features(Je,Re),Je},$Module_prepend_features$53.$$arity=1),Opal.def(self,"$prepended",$Module_prepended$54=function r(Re){var Je=this;return nil},$Module_prepended$54.$$arity=1),Opal.def(self,"$remove_const",$Module_remove_const$55=function r(Re){var Je=this;return Opal.const_remove(Je,Re)},$Module_remove_const$55.$$arity=1),Opal.def(self,"$to_s",$Module_to_s$56=function r(){var Re,Je=this;return $truthy(Re=Opal.Module.$name.call(Je))?Re:"#<"+(Je.$$is_module?"Module":"Class")+":0x"+Je.$__id__().$to_s(16)+">"},$Module_to_s$56.$$arity=0),Opal.def(self,"$undef_method",$Module_undef_method$57=function r(Re){var Je,Ze,Fe=this;Je=Opal.slice.call(arguments,0,arguments.length),Ze=Je;for(var he=0,gt=Ze.length;he<gt;he++)Opal.udef(Fe,"$"+Ze[he]);return Fe},$Module_undef_method$57.$$arity=-1),Opal.def(self,"$instance_variables",$Module_instance_variables$58=function r(){var Re=this,Je=nil;Je=(Opal.Module.$$nesting=$nesting,Re.$constants());var Ze=[];for(var Fe in Re)Re.hasOwnProperty(Fe)&&Fe.charAt(0)!=="$"&&Fe!=="constructor"&&!Je["$include?"](Fe)&&Ze.push("@"+Fe);return Ze},$Module_instance_variables$58.$$arity=0),Opal.def(self,"$dup",$Module_dup$59=function r(){var Re=$Module_dup$59.$$p,Je=Re||nil,Ze=this,Fe=nil,he=nil,gt=nil,Ce=nil;for(Re&&($Module_dup$59.$$p=null),gt=0,Ce=arguments.length,he=new Array(Ce);gt<Ce;gt++)he[gt]=arguments[gt];return Fe=$send(Ze,Opal.find_super_dispatcher(Ze,"dup",$Module_dup$59,!1),he,Re),Fe.$copy_class_variables(Ze),Fe.$copy_constants(Ze),Fe},$Module_dup$59.$$arity=0),Opal.def(self,"$copy_class_variables",$Module_copy_class_variables$60=function r(Re){var Je=this;for(var Ze in Re.$$cvars)Je.$$cvars[Ze]=Re.$$cvars[Ze]},$Module_copy_class_variables$60.$$arity=1),Opal.def(self,"$copy_constants",$Module_copy_constants$61=function r(Re){var Je=this,Ze,Fe=Re.$$const;for(Ze in Fe)Opal.const_set(Je,Ze,Fe[Ze])},$Module_copy_constants$61.$$arity=1),nil&&"copy_constants"}($nesting[0],null,$nesting)},Opal.modules["corelib/class"]=function(r){var Re=r.top,Je=[],Ze=r.nil,Fe=r.const_get_qualified,he=r.const_get_relative,gt=r.breaker,Ce=r.slice,R=r.klass,Gt=r.send;return r.add_stubs(["$require","$class_eval","$to_proc","$initialize_copy","$allocate","$name","$to_s"]),Re.$require("corelib/module"),function(B,ke,st){var Ge=R(B,ke,"Class"),zt=[Ge].concat(st),Oe,ve,J,G,Ve,ft,Ye;return r.defs(Ge,"$new",Oe=function(pe){var De=Oe.$$p,ze=De||Ze,ut=this;if(De&&(Oe.$$p=null),De&&(Oe.$$p=null),pe==null&&(pe=he(zt,"Object")),!pe.$$is_class)throw r.TypeError.$new("superclass must be a Class");var xt=r.allocate_class(Ze,pe);return pe.$inherited(xt),function(){return ze!==Ze?Gt(xt,"class_eval",[],ze.$to_proc()):Ze}(),xt},Oe.$$arity=-1),r.def(Ge,"$allocate",ve=function(){var De=this,ze=new De.$$constructor;return ze.$$id=r.uid(),ze},ve.$$arity=0),r.def(Ge,"$inherited",J=function(De){var ze=this;return Ze},J.$$arity=1),r.def(Ge,"$initialize_dup",G=function(De){var ze=this;ze.$initialize_copy(De),ze.$$name=null,ze.$$full_name=null},G.$$arity=1),r.def(Ge,"$new",Ve=function(pe){var De=Ve.$$p,ze=De||Ze,ut,xt,At=this;De&&(Ve.$$p=null),De&&(Ve.$$p=null),ut=r.slice.call(arguments,0,arguments.length),xt=ut;var ht=At.$allocate();return r.send(ht,ht.$initialize,xt,ze),ht},Ve.$$arity=-1),r.def(Ge,"$superclass",ft=function(){var De=this;return De.$$super||Ze},ft.$$arity=0),r.def(Ge,"$to_s",Ye=function(){var De=Ye.$$p,ze=De||Ze,ut=this;De&&(Ye.$$p=null);var xt=ut.$$singleton_of;return xt&&xt.$$is_a_module?"#<Class:"+xt.$name()+">":xt?"#<Class:#<"+xt.$$class.$name()+":0x"+r.id(xt).$to_s(16)+">>":Gt(ut,r.find_super_dispatcher(ut,"to_s",Ye,!1),[],null)},Ye.$$arity=0),Ze&&"to_s"}(Je[0],null,Je)},Opal.modules["corelib/basic_object"]=function(Opal){var self=Opal.top,$nesting=[],nil=Opal.nil,$$$=Opal.const_get_qualified,$$=Opal.const_get_relative,$breaker=Opal.breaker,$slice=Opal.slice,$klass=Opal.klass,$truthy=Opal.truthy,$range=Opal.range,$hash2=Opal.hash2,$send=Opal.send;return Opal.add_stubs(["$==","$!","$nil?","$cover?","$size","$raise","$merge","$compile","$proc","$any?","$inspect","$new"]),function($base,$super,$parent_nesting){var self=$klass($base,$super,"BasicObject"),$nesting=[self].concat($parent_nesting),$BasicObject_initialize$1,$BasicObject_$eq_eq$2,$BasicObject_eql$ques$3,$BasicObject___id__$4,$BasicObject___send__$5,$BasicObject_$excl$6,$BasicObject_$not_eq$7,$BasicObject_instance_eval$8,$BasicObject_instance_exec$10,$BasicObject_singleton_method_added$11,$BasicObject_singleton_method_removed$12,$BasicObject_singleton_method_undefined$13,$BasicObject_class$14,$BasicObject_method_missing$15;return Opal.def(self,"$initialize",$BasicObject_initialize$1=function(Re){var Je,Ze=this;return Je=Opal.slice.call(arguments,0,arguments.length),nil},$BasicObject_initialize$1.$$arity=-1),Opal.def(self,"$==",$BasicObject_$eq_eq$2=function(r){var Re=this;return Re===r},$BasicObject_$eq_eq$2.$$arity=1),Opal.def(self,"$eql?",$BasicObject_eql$ques$3=function(r){var Re=this;return Re["$=="](r)},$BasicObject_eql$ques$3.$$arity=1),Opal.alias(self,"equal?","=="),Opal.def(self,"$__id__",$BasicObject___id__$4=function(){var Re=this;return Re.$$id!=null||Opal.defineProperty(Re,"$$id",Opal.uid()),Re.$$id},$BasicObject___id__$4.$$arity=0),Opal.def(self,"$__send__",$BasicObject___send__$5=function(Re,Je){var Ze=$BasicObject___send__$5.$$p,Fe=Ze||nil,he,gt,Ce=this;Ze&&($BasicObject___send__$5.$$p=null),Ze&&($BasicObject___send__$5.$$p=null),he=Opal.slice.call(arguments,1,arguments.length),gt=he;var R=Ce["$"+Re];return R?(Fe!==nil&&(R.$$p=Fe),R.apply(Ce,gt)):(Fe!==nil&&(Ce.$method_missing.$$p=Fe),Ce.$method_missing.apply(Ce,[Re].concat(gt)))},$BasicObject___send__$5.$$arity=-2),Opal.def(self,"$!",$BasicObject_$excl$6=function(){var r=this;return!1},$BasicObject_$excl$6.$$arity=0),Opal.def(self,"$!=",$BasicObject_$not_eq$7=function(r){var Re=this;return Re["$=="](r)["$!"]()},$BasicObject_$not_eq$7.$$arity=1),Opal.def(self,"$instance_eval",$BasicObject_instance_eval$8=function $$instance_eval($a){var $iter=$BasicObject_instance_eval$8.$$p,block=$iter||nil,$post_args,args,$b,$$9,self=this,string=nil,file=nil,_lineno=nil,default_eval_options=nil,compiling_options=nil,compiled=nil;$iter&&($BasicObject_instance_eval$8.$$p=null),$iter&&($BasicObject_instance_eval$8.$$p=null),$post_args=Opal.slice.call(arguments,0,arguments.length),args=$post_args,$truthy($truthy($b=block["$nil?"]())?!!Opal.compile:$b)?($truthy($range(1,3,!1)["$cover?"](args.$size()))||$$$("::","Kernel").$raise($$$("::","ArgumentError"),"wrong number of arguments (0 for 1..3)"),$b=[].concat(Opal.to_a(args)),string=$b[0]==null?nil:$b[0],file=$b[1]==null?nil:$b[1],_lineno=$b[2]==null?nil:$b[2],default_eval_options=$hash2(["file","eval"],{file:$truthy($b=file)?$b:"(eval)",eval:!0}),compiling_options=Opal.hash({arity_check:!1}).$merge(default_eval_options),compiled=$$$("::","Opal").$compile(string,compiling_options),block=$send($$$("::","Kernel"),"proc",[],($$9=function(){var self=$$9.$$s||this;return function(self){return eval(compiled)}(self)},$$9.$$s=self,$$9.$$arity=0,$$9))):$truthy(args["$any?"]())&&$$$("::","Kernel").$raise($$$("::","ArgumentError"),"wrong number of arguments ("+args.$size()+" for 0)");var old=block.$$s,result;if(block.$$s=null,self.$$is_a_module){self.$$eval=!0;try{result=block.call(self,self)}finally{self.$$eval=!1}}else result=block.call(self,self);return block.$$s=old,result},$BasicObject_instance_eval$8.$$arity=-1),Opal.def(self,"$instance_exec",$BasicObject_instance_exec$10=function r(Re){var Je=$BasicObject_instance_exec$10.$$p,Ze=Je||nil,Fe,he,gt=this;Je&&($BasicObject_instance_exec$10.$$p=null),Je&&($BasicObject_instance_exec$10.$$p=null),Fe=Opal.slice.call(arguments,0,arguments.length),he=Fe,$truthy(Ze)||$$$("::","Kernel").$raise($$$("::","ArgumentError"),"no block given");var Ce=Ze.$$s,R;if(Ze.$$s=null,gt.$$is_a_module){gt.$$eval=!0;try{R=Ze.apply(gt,he)}finally{gt.$$eval=!1}}else R=Ze.apply(gt,he);return Ze.$$s=Ce,R},$BasicObject_instance_exec$10.$$arity=-1),Opal.def(self,"$singleton_method_added",$BasicObject_singleton_method_added$11=function r(Re){var Je,Ze=this;return Je=Opal.slice.call(arguments,0,arguments.length),nil},$BasicObject_singleton_method_added$11.$$arity=-1),Opal.def(self,"$singleton_method_removed",$BasicObject_singleton_method_removed$12=function r(Re){var Je,Ze=this;return Je=Opal.slice.call(arguments,0,arguments.length),nil},$BasicObject_singleton_method_removed$12.$$arity=-1),Opal.def(self,"$singleton_method_undefined",$BasicObject_singleton_method_undefined$13=function r(Re){var Je,Ze=this;return Je=Opal.slice.call(arguments,0,arguments.length),nil},$BasicObject_singleton_method_undefined$13.$$arity=-1),Opal.def(self,"$class",$BasicObject_class$14=function(){var r=this;return r.$$class},$BasicObject_class$14.$$arity=0),Opal.def(self,"$method_missing",$BasicObject_method_missing$15=function r(Re,Je){var Ze=$BasicObject_method_missing$15.$$p,Fe=Ze||nil,he,gt,Ce=this,R=nil;return Ze&&($BasicObject_method_missing$15.$$p=null),Ze&&($BasicObject_method_missing$15.$$p=null),he=Opal.slice.call(arguments,1,arguments.length),gt=he,R=function(){return $truthy(Ce.$inspect&&!Ce.$inspect.$$stub)?"undefined method `"+Re+"' for "+Ce.$inspect()+":"+Ce.$$class:"undefined method `"+Re+"' for "+Ce.$$class}(),$$$("::","Kernel").$raise($$$("::","NoMethodError").$new(R,Re))},$BasicObject_method_missing$15.$$arity=-2),nil&&"method_missing"}($nesting[0],null,$nesting)},Opal.modules["corelib/kernel"]=function(r){function Re(Oe,ve){return typeof Oe=="number"&&typeof ve=="number"?Oe<=ve:Oe["$<="](ve)}var Je=r.top,Ze=[],Fe=r.nil,he=r.const_get_qualified,gt=r.const_get_relative,Ce=r.breaker,R=r.slice,Gt=r.module,B=r.truthy,ke=r.gvars,st=r.hash2,Ge=r.send,zt=r.klass;return r.add_stubs(["$raise","$new","$inspect","$!","$=~","$==","$object_id","$class","$coerce_to?","$<<","$allocate","$copy_instance_variables","$copy_singleton_methods","$initialize_clone","$initialize_copy","$define_method","$singleton_class","$to_proc","$initialize_dup","$for","$empty?","$pop","$call","$coerce_to","$append_features","$extend_object","$extended","$__id__","$to_s","$instance_variable_name!","$respond_to?","$to_int","$coerce_to!","$Integer","$nil?","$===","$enum_for","$result","$any?","$print","$format","$puts","$each","$<=","$length","$[]","$exception","$is_a?","$rand","$respond_to_missing?","$try_convert!","$expand_path","$join","$start_with?","$new_seed","$srand","$sym","$arg","$open","$include"]),function(Oe,ve){var J=Gt(Oe,"Kernel"),G=[J].concat(ve),Ve,ft,Ye,pe,De,ze,ut,xt,At,ht,pt,St,Rt,Et,Bt,qt,Ct,It,Pt,Mt,jt,D,se,le,ge,Le,Ue,qe,wt,Nt,Ft,Ut,Vt,Jt,Kt,Wt,Qt,$r,Ot,Xt,Ht,er,ar,or,cr,e,u,O,xe,Xe,ie,A,$e,$,n,y,W,oe,b,_,c,t,s,i,j;r.def(J,"$method_missing",Ve=function(g,w){var C=Ve.$$p,F=C||Fe,N,x,f=this;return C&&(Ve.$$p=null),C&&(Ve.$$p=null),N=r.slice.call(arguments,1,arguments.length),x=N,f.$raise(gt(G,"NoMethodError").$new("undefined method `"+g+"' for "+f.$inspect(),g,x))},Ve.$$arity=-2),r.def(J,"$=~",ft=function(h){var g=this;return!1},ft.$$arity=1),r.def(J,"$!~",Ye=function(h){var g=this;return g["$=~"](h)["$!"]()},Ye.$$arity=1),r.def(J,"$===",pe=function(h){var g,w=this;return B(g=w.$object_id()["$=="](h.$object_id()))?g:w["$=="](h)},pe.$$arity=1),r.def(J,"$<=>",De=function(h){var g=this;g.$$comparable=!0;var w=g["$=="](h);return w&&w!==Fe?0:Fe},De.$$arity=1),r.def(J,"$method",ze=function(g){var w=this,C=w["$"+g];return(!C||C.$$stub)&&w.$raise(gt(G,"NameError").$new("undefined method `"+g+"' for class `"+w.$class()+"'",g)),gt(G,"Method").$new(w,C.$$owner||w.$class(),C,g)},ze.$$arity=1),r.def(J,"$methods",ut=function(g){var w=this;return g==null&&(g=!0),B(g)?r.methods(w):r.own_methods(w)},ut.$$arity=-1),r.def(J,"$public_methods",xt=function(g){var w=this;return g==null&&(g=!0),B(g)?r.methods(w):r.receiver_methods(w)},xt.$$arity=-1),r.def(J,"$Array",At=function(g){var w=this,C;return g===Fe?[]:g.$$is_array?g:(C=gt(G,"Opal")["$coerce_to?"](g,gt(G,"Array"),"to_ary"),C!==Fe||(C=gt(G,"Opal")["$coerce_to?"](g,gt(G,"Array"),"to_a"),C!==Fe)?C:[g])},At.$$arity=1),r.def(J,"$at_exit",ht=function(){var g=ht.$$p,w=g||Fe,C,F=this;return ke.__at_exit__==null&&(ke.__at_exit__=Fe),g&&(ht.$$p=null),g&&(ht.$$p=null),ke.__at_exit__=B(C=ke.__at_exit__)?C:[],ke.__at_exit__["$<<"](w)},ht.$$arity=0),r.def(J,"$caller",pt=function(g){var w,C,F=this;return w=r.slice.call(arguments,0,arguments.length),C=w,[]},pt.$$arity=-1),r.def(J,"$class",St=function(){var h=this;return h.$$class},St.$$arity=0),r.def(J,"$copy_instance_variables",Rt=function(g){var w=this,C=Object.keys(g),F,N,x;for(F=0,N=C.length;F<N;F++)x=C[F],x.charAt(0)!=="$"&&g.hasOwnProperty(x)&&(w[x]=g[x])},Rt.$$arity=1),r.def(J,"$copy_singleton_methods",Et=function(g){var w=this,C,F,N,x;if(g.hasOwnProperty("$$meta")){var f=r.get_singleton_class(g),L=r.get_singleton_class(w);for(N=Object.getOwnPropertyNames(f.$$prototype),C=0,x=N.length;C<x;C++)F=N[C],r.is_method(F)&&(L.$$prototype[F]=f.$$prototype[F]);L.$$const=Object.assign({},f.$$const),Object.setPrototypeOf(L.$$prototype,Object.getPrototypeOf(f.$$prototype))}for(C=0,N=Object.getOwnPropertyNames(g),x=N.length;C<x;C++)F=N[C],F.charAt(0)==="$"&&F.charAt(1)!=="$"&&g.hasOwnProperty(F)&&(w[F]=g[F])},Et.$$arity=1),r.def(J,"$clone",Bt=function(g){var w,C=this,F=Fe;if(g==null)g=st([],{});else if(!g.$$is_hash)throw r.ArgumentError.$new("expected kwargs");return w=g.$$smap.freeze,w==null&&(w=!0),F=C.$class().$allocate(),F.$copy_instance_variables(C),F.$copy_singleton_methods(C),F.$initialize_clone(C),F},Bt.$$arity=-1),r.def(J,"$initialize_clone",qt=function(g){var w=this;return w.$initialize_copy(g)},qt.$$arity=1),r.def(J,"$define_singleton_method",Ct=function(g,w){var C=Ct.$$p,F=C||Fe,N=this;return C&&(Ct.$$p=null),C&&(Ct.$$p=null),Ge(N.$singleton_class(),"define_method",[g,w],F.$to_proc())},Ct.$$arity=-2),r.def(J,"$dup",It=function(){var g=this,w=Fe;return w=g.$class().$allocate(),w.$copy_instance_variables(g),w.$initialize_dup(g),w},It.$$arity=0),r.def(J,"$initialize_dup",Pt=function(g){var w=this;return w.$initialize_copy(g)},Pt.$$arity=1),r.def(J,"$enum_for",Mt=function(g,w){var C=Mt.$$p,F=C||Fe,N,x,f,L=this;return C&&(Mt.$$p=null),C&&(Mt.$$p=null),N=r.slice.call(arguments,0,arguments.length),N.length>0&&(x=N[0],N.splice(0,1)),x==null&&(x="each"),f=N,Ge(gt(G,"Enumerator"),"for",[L,x].concat(r.to_a(f)),F.$to_proc())},Mt.$$arity=-1),r.alias(J,"to_enum","enum_for"),r.def(J,"$equal?",jt=function(h){var g=this;return g===h},jt.$$arity=1),r.def(J,"$exit",D=function(g){var w,C=this,F=Fe;for(ke.__at_exit__==null&&(ke.__at_exit__=Fe),g==null&&(g=!0),ke.__at_exit__=B(w=ke.__at_exit__)?w:[];!B(ke.__at_exit__["$empty?"]());)F=ke.__at_exit__.$pop(),F.$call();return g.$$is_boolean?g=g?0:1:g=gt(G,"Opal").$coerce_to(g,gt(G,"Integer"),"to_int"),r.exit(g),Fe},D.$$arity=-1),r.def(J,"$extend",se=function(g){var w,C,F=this;w=r.slice.call(arguments,0,arguments.length),C=w;for(var N=F.$singleton_class(),x=C.length-1;x>=0;x--){var f=C[x];f.$$is_module||F.$raise(gt(G,"TypeError"),"wrong argument type "+f.$class()+" (expected Module)"),f.$append_features(N),f.$extend_object(F),f.$extended(F)}return F},se.$$arity=-1),r.def(J,"$hash",le=function(){var g=this;return g.$__id__()},le.$$arity=0),r.def(J,"$initialize_copy",ge=function(g){var w=this;return Fe},ge.$$arity=1),r.def(J,"$inspect",Le=function(){var g=this;return g.$to_s()},Le.$$arity=0),r.def(J,"$instance_of?",Ue=function(h){var g=this;return!h.$$is_class&&!h.$$is_module&&g.$raise(gt(G,"TypeError"),"class or module required"),g.$$class===h},Ue.$$arity=1),r.def(J,"$instance_variable_defined?",qe=function(h){var g=this;return h=gt(G,"Opal")["$instance_variable_name!"](h),r.hasOwnProperty.call(g,h.substr(1))},qe.$$arity=1),r.def(J,"$instance_variable_get",wt=function(g){var w=this;g=gt(G,"Opal")["$instance_variable_name!"](g);var C=w[r.ivar(g.substr(1))];return C??Fe},wt.$$arity=1),r.def(J,"$instance_variable_set",Nt=function(g,w){var C=this;return g=gt(G,"Opal")["$instance_variable_name!"](g),C[r.ivar(g.substr(1))]=w},Nt.$$arity=2),r.def(J,"$remove_instance_variable",Ft=function(g){var w=this;g=gt(G,"Opal")["$instance_variable_name!"](g);var C=r.ivar(g.substr(1)),F;return w.hasOwnProperty(C)?(F=w[C],delete w[C],F):w.$raise(gt(G,"NameError"),"instance variable "+g+" not defined")},Ft.$$arity=1),r.def(J,"$instance_variables",Ut=function(){var g=this,w=[],C;for(var F in g)g.hasOwnProperty(F)&&F.charAt(0)!=="$"&&(F.substr(-1)==="$"?C=F.slice(0,F.length-1):C=F,w.push("@"+C));return w},Ut.$$arity=0),r.def(J,"$Integer",Vt=function(g,w){var C=this,F,N,x;return g.$$is_string?g==="0"?0:(w===void 0?w=0:(w=gt(G,"Opal").$coerce_to(w,gt(G,"Integer"),"to_int"),(w===1||w<0||w>36)&&C.$raise(gt(G,"ArgumentError"),"invalid radix "+w)),N=g.toLowerCase(),N=N.replace(/(\d)_(?=\d)/g,"$1"),N=N.replace(/^(\s*[+-]?)(0[bodx]?)/,function(f,L,ae){switch(ae){case"0b":if(w===0||w===2)return w=2,L;case"0":case"0o":if(w===0||w===8)return w=8,L;case"0d":if(w===0||w===10)return w=10,L;case"0x":if(w===0||w===16)return w=16,L}C.$raise(gt(G,"ArgumentError"),'invalid value for Integer(): "'+g+'"')}),w=w===0?10:w,x="0-"+(w<=10?w-1:"9a-"+String.fromCharCode(97+(w-11))),new RegExp("^\\s*[+-]?["+x+"]+\\s*$").test(N)||C.$raise(gt(G,"ArgumentError"),'invalid value for Integer(): "'+g+'"'),F=parseInt(N,w),isNaN(F)&&C.$raise(gt(G,"ArgumentError"),'invalid value for Integer(): "'+g+'"'),F):(w!==void 0&&C.$raise(gt(G,"ArgumentError"),"base specified for non string value"),g===Fe&&C.$raise(gt(G,"TypeError"),"can't convert nil into Integer"),g.$$is_number?((g===1/0||g===-1/0||isNaN(g))&&C.$raise(gt(G,"FloatDomainError"),g),Math.floor(g)):g["$respond_to?"]("to_int")&&(F=g.$to_int(),F!==Fe)?F:gt(G,"Opal")["$coerce_to!"](g,gt(G,"Integer"),"to_i"))},Vt.$$arity=-2),r.def(J,"$Float",Jt=function(g){var w=this,C;return g===Fe&&w.$raise(gt(G,"TypeError"),"can't convert nil into Float"),g.$$is_string?(C=g.toString(),C=C.replace(/(\d)_(?=\d)/g,"$1"),/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(C)?w.$Integer(C):(/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(C)||w.$raise(gt(G,"ArgumentError"),'invalid value for Float(): "'+g+'"'),parseFloat(C))):gt(G,"Opal")["$coerce_to!"](g,gt(G,"Float"),"to_f")},Jt.$$arity=1),r.def(J,"$Hash",Kt=function(g){var w,C=this;return B(B(w=g["$nil?"]())?w:g["$=="]([]))?st([],{}):B(gt(G,"Hash")["$==="](g))?g:gt(G,"Opal")["$coerce_to!"](g,gt(G,"Hash"),"to_hash")},Kt.$$arity=1),r.def(J,"$is_a?",Wt=function(h){var g=this;return!h.$$is_class&&!h.$$is_module&&g.$raise(gt(G,"TypeError"),"class or module required"),r.is_a(g,h)},Wt.$$arity=1),r.def(J,"$itself",Qt=function(){var g=this;return g},Qt.$$arity=0),r.alias(J,"kind_of?","is_a?"),r.def(J,"$lambda",$r=function(){var g=$r.$$p,w=g||Fe,C=this;return g&&($r.$$p=null),g&&($r.$$p=null),r.lambda(w)},$r.$$arity=0),r.def(J,"$load",Ot=function(g){var w=this;return g=gt(G,"Opal")["$coerce_to!"](g,gt(G,"String"),"to_str"),r.load(g)},Ot.$$arity=1),r.def(J,"$loop",Xt=function(){var g,w,C=Xt.$$p,F=C||Fe,N=this,x=Fe;if(C&&(Xt.$$p=null),F===Fe)return Ge(N,"enum_for",["loop"],(g=function(){var f=g.$$s||this;return he(gt(G,"Float"),"INFINITY")},g.$$s=N,g.$$arity=0,g));for(;B(!0);)try{r.yieldX(F,[])}catch(f){if(r.rescue(f,[gt(G,"StopIteration")])){x=f;try{return x.$result()}finally{r.pop_exception()}}else throw f}return N},Xt.$$arity=0),r.def(J,"$nil?",Ht=function(){var h=this;return!1},Ht.$$arity=0),r.alias(J,"object_id","__id__"),r.def(J,"$printf",er=function(g){var w,C,F=this;return w=r.slice.call(arguments,0,arguments.length),C=w,B(C["$any?"]())&&F.$print(Ge(F,"format",r.to_a(C))),Fe},er.$$arity=-1),r.def(J,"$proc",ar=function(){var g=ar.$$p,w=g||Fe,C=this;return g&&(ar.$$p=null),g&&(ar.$$p=null),B(w)||C.$raise(gt(G,"ArgumentError"),"tried to create Proc object without a block"),w.$$is_lambda=!1,w},ar.$$arity=0),r.def(J,"$puts",or=function(g){var w,C,F=this;return ke.stdout==null&&(ke.stdout=Fe),w=r.slice.call(arguments,0,arguments.length),C=w,Ge(ke.stdout,"puts",r.to_a(C))},or.$$arity=-1),r.def(J,"$p",cr=function(g){var w,C,F,N=this;return w=r.slice.call(arguments,0,arguments.length),C=w,Ge(C,"each",[],(F=function(x){var f=F.$$s||this;return ke.stdout==null&&(ke.stdout=Fe),x==null&&(x=Fe),ke.stdout.$puts(x.$inspect())},F.$$s=N,F.$$arity=1,F)),B(Re(C.$length(),1))?C["$[]"](0):C},cr.$$arity=-1),r.def(J,"$print",e=function(g){var w,C,F=this;return ke.stdout==null&&(ke.stdout=Fe),w=r.slice.call(arguments,0,arguments.length),C=w,Ge(ke.stdout,"print",r.to_a(C))},e.$$arity=-1),r.def(J,"$warn",u=function(g){var w,C,F,N=this;return ke.VERBOSE==null&&(ke.VERBOSE=Fe),ke.stderr==null&&(ke.stderr=Fe),w=r.slice.call(arguments,0,arguments.length),C=w,B(B(F=ke.VERBOSE["$nil?"]())?F:C["$empty?"]())?Fe:Ge(ke.stderr,"puts",r.to_a(C))},u.$$arity=-1),r.def(J,"$raise",O=function(g,w,C){var F=this;throw ke["!"]==null&&(ke["!"]=Fe),w==null&&(w=Fe),C==null&&(C=Fe),g==null&&ke["!"]!==Fe?ke["!"]:(g==null?g=gt(G,"RuntimeError").$new():g.$$is_string?g=gt(G,"RuntimeError").$new(g):g.$$is_class&&g["$respond_to?"]("exception")?g=g.$exception(w):g["$is_a?"](gt(G,"Exception"))||(g=gt(G,"TypeError").$new("exception class/object expected")),ke["!"]!==Fe&&r.exceptions.push(ke["!"]),ke["!"]=g,g)},O.$$arity=-1),r.alias(J,"fail","raise"),r.def(J,"$rand",xe=function(g){var w=this;return g===void 0?he(gt(G,"Random"),"DEFAULT").$rand():(g.$$is_number&&(g<0&&(g=Math.abs(g)),g%1!==0&&(g=g.$to_i()),g===0&&(g=void 0)),he(gt(G,"Random"),"DEFAULT").$rand(g))},xe.$$arity=-1),r.def(J,"$respond_to?",Xe=function(h,g){var w=this;if(g==null&&(g=!1),B(w["$respond_to_missing?"](h,g)))return!0;var C=w["$"+h];return typeof C=="function"&&!C.$$stub},Xe.$$arity=-2),r.def(J,"$respond_to_missing?",ie=function(h,g){var w=this;return g==null&&(g=!1),!1},ie.$$arity=-2),r.def(J,"$require",A=function(g){var w=this;return g=gt(G,"Opal")["$coerce_to!"](g,gt(G,"String"),"to_str"),r.require(g)},A.$$arity=1),r.def(J,"$require_relative",$e=function(g){var w=this;return gt(G,"Opal")["$try_convert!"](g,gt(G,"String"),"to_str"),g=gt(G,"File").$expand_path(gt(G,"File").$join(r.current_file,"..",g)),r.require(g)},$e.$$arity=1),r.def(J,"$require_tree",$=function(g){var w=this,C=[];g=gt(G,"File").$expand_path(g),g=r.normalize(g),g==="."&&(g="");for(var F in r.modules)F["$start_with?"](g)&&C.push([F,r.require(F)]);return C},$.$$arity=1),r.alias(J,"send","__send__"),r.alias(J,"public_send","__send__"),r.def(J,"$singleton_class",n=function(){var g=this;return r.get_singleton_class(g)},n.$$arity=0),r.def(J,"$sleep",y=function(g){var w=this;g==null&&(g=Fe),g===Fe&&w.$raise(gt(G,"TypeError"),"can't convert NilClass into time interval"),g.$$is_number||w.$raise(gt(G,"TypeError"),"can't convert "+g.$class()+" into time interval"),g<0&&w.$raise(gt(G,"ArgumentError"),"time interval must be positive");for(var C=r.global.performance?function(){return performance.now()}:function(){return new Date},F=C();C()-F<=g*1e3;);return g},y.$$arity=-1),r.def(J,"$srand",W=function(g){var w=this;return g==null&&(g=gt(G,"Random").$new_seed()),gt(G,"Random").$srand(g)},W.$$arity=-1),r.def(J,"$String",oe=function(g){var w,C=this;return B(w=gt(G,"Opal")["$coerce_to?"](g,gt(G,"String"),"to_str"))?w:gt(G,"Opal")["$coerce_to!"](g,gt(G,"String"),"to_s")},oe.$$arity=1),r.def(J,"$tap",b=function(){var g=b.$$p,w=g||Fe,C=this;return g&&(b.$$p=null),g&&(b.$$p=null),r.yield1(w,C),C},b.$$arity=0),r.def(J,"$to_proc",_=function(){var g=this;return g},_.$$arity=0),r.def(J,"$to_s",c=function(){var g=this;return"#<"+g.$class()+":0x"+g.$__id__().$to_s(16)+">"},c.$$arity=0),r.def(J,"$catch",t=function(h){var g=t.$$p,w=g||Fe,C=this,F=Fe;g&&(t.$$p=null);try{return r.yieldX(w,[])}catch(N){if(r.rescue(N,[gt(G,"UncaughtThrowError")])){F=N;try{return F.$sym()["$=="](h)?F.$arg():C.$raise()}finally{r.pop_exception()}}else throw N}},t.$$arity=1),r.def(J,"$throw",s=function(h){var g,w,C=this;return g=r.slice.call(arguments,0,arguments.length),w=g,C.$raise(gt(G,"UncaughtThrowError"),w)},s.$$arity=-1),r.def(J,"$open",i=function(g){var w=i.$$p,C=w||Fe,F,N,x=this;return w&&(i.$$p=null),w&&(i.$$p=null),F=r.slice.call(arguments,0,arguments.length),N=F,Ge(gt(G,"File"),"open",r.to_a(N),C.$to_proc())},i.$$arity=-1),r.def(J,"$yield_self",j=function(){var g,w=j.$$p,C=w||Fe,F=this;return w&&(j.$$p=null),C===Fe?Ge(F,"enum_for",["yield_self"],(g=function(){var N=g.$$s||this;return 1},g.$$s=F,g.$$arity=0,g)):r.yield1(C,F)},j.$$arity=0)}(Ze[0],Ze),function(Oe,ve,J){var G=zt(Oe,ve,"Object"),Ve=[G].concat(J);return G.$include(gt(Ve,"Kernel"))}(Ze[0],null,Ze)},Opal.modules["corelib/error"]=function(r){function Re(Oe,ve){return typeof Oe=="number"&&typeof ve=="number"?Oe+ve:Oe["$+"](ve)}function Je(Oe,ve){return typeof Oe=="number"&&typeof ve=="number"?Oe>ve:Oe["$>"](ve)}var Ze=r.top,Fe=[],he=r.nil,gt=r.const_get_qualified,Ce=r.const_get_relative,R=r.breaker,Gt=r.slice,B=r.klass,ke=r.send,st=r.truthy,Ge=r.module,zt=r.hash2;return r.add_stubs(["$new","$clone","$to_s","$empty?","$class","$raise","$+","$attr_reader","$[]","$>","$length","$inspect"]),function(Oe,ve,J){var G=B(Oe,ve,"Exception"),Ve=[G].concat(J),ft,Ye,pe,De,ze,ut,xt,At,ht;G.$$prototype.message=he;var pt;return r.defs(G,"$new",ft=function(St){var Rt,Et,Bt=this;Rt=r.slice.call(arguments,0,arguments.length),Et=Rt;var qt=Et.length>0?Et[0]:he,Ct=new Bt.$$constructor(qt);return Ct.name=Bt.$$name,Ct.message=qt,r.send(Ct,Ct.$initialize,Et),r.config.enable_stack_trace&&Error.captureStackTrace&&Error.captureStackTrace(Ct,pt),Ct},ft.$$arity=-1),pt=G.$new,r.defs(G,"$exception",Ye=function(Rt){var Et,Bt,qt=this;return Et=r.slice.call(arguments,0,arguments.length),Bt=Et,ke(qt,"new",r.to_a(Bt))},Ye.$$arity=-1),r.def(G,"$initialize",pe=function(Rt){var Et,Bt,qt=this;return Et=r.slice.call(arguments,0,arguments.length),Bt=Et,qt.message=Bt.length>0?Bt[0]:he},pe.$$arity=-1),r.def(G,"$backtrace",De=function(){var Rt=this;if(Rt.backtrace)return Rt.backtrace;var Et=Rt.stack;return typeof Et=="string"?Et.split(`
`).slice(0,15):Et?Et.slice(0,15):[]},De.$$arity=0),r.def(G,"$exception",ze=function(Rt){var Et=this;if(Rt==null&&(Rt=he),Rt===he||Et===Rt)return Et;var Bt=Et.$clone();return Bt.message=Rt,Bt},ze.$$arity=-1),r.def(G,"$message",ut=function(){var Rt=this;return Rt.$to_s()},ut.$$arity=0),r.def(G,"$inspect",xt=function(){var Rt=this,Et=he;return Et=Rt.$to_s(),st(Et["$empty?"]())?Rt.$class().$to_s():"#<"+Rt.$class().$to_s()+": "+Rt.$to_s()+">"},xt.$$arity=0),r.def(G,"$set_backtrace",At=function(Rt){var Et=this,Bt=!0,qt,Ct;if(Rt===he)Et.backtrace=he;else if(Rt.$$is_string)Et.backtrace=[Rt];else{if(Rt.$$is_array){for(qt=0,Ct=Rt.length;qt<Ct;qt++)if(!Rt[qt].$$is_string){Bt=!1;break}}else Bt=!1;Bt===!1&&Et.$raise(Ce(Ve,"TypeError"),"backtrace must be Array of String"),Et.backtrace=Rt}return Rt},At.$$arity=1),r.def(G,"$to_s",ht=function(){var Rt,Et,Bt=this;return st(Rt=st(Et=Bt.message)?Bt.message.$to_s():Et)?Rt:Bt.$class().$to_s()},ht.$$arity=0),he&&"to_s"}(Fe[0],Error,Fe),function(Oe,ve,J){var G=B(Oe,ve,"ScriptError"),Ve=[G].concat(J);return he}(Fe[0],Ce(Fe,"Exception"),Fe),function(Oe,ve,J){var G=B(Oe,ve,"SyntaxError"),Ve=[G].concat(J);return he}(Fe[0],Ce(Fe,"ScriptError"),Fe),function(Oe,ve,J){var G=B(Oe,ve,"LoadError"),Ve=[G].concat(J);return he}(Fe[0],Ce(Fe,"ScriptError"),Fe),function(Oe,ve,J){var G=B(Oe,ve,"NotImplementedError"),Ve=[G].concat(J);return he}(Fe[0],Ce(Fe,"ScriptError"),Fe),function(Oe,ve,J){var G=B(Oe,ve,"SystemExit"),Ve=[G].concat(J);return he}(Fe[0],Ce(Fe,"Exception"),Fe),function(Oe,ve,J){var G=B(Oe,ve,"NoMemoryError"),Ve=[G].concat(J);return he}(Fe[0],Ce(Fe,"Exception"),Fe),function(Oe,ve,J){var G=B(Oe,ve,"SignalException"),Ve=[G].concat(J);return he}(Fe[0],Ce(Fe,"Exception"),Fe),function(Oe,ve,J){var G=B(Oe,ve,"Interrupt"),Ve=[G].concat(J);return he}(Fe[0],Ce(Fe,"Exception"),Fe),function(Oe,ve,J){var G=B(Oe,ve,"SecurityError"),Ve=[G].concat(J);return he}(Fe[0],Ce(Fe,"Exception"),Fe),function(Oe,ve,J){var G=B(Oe,ve,"StandardError"),Ve=[G].concat(J);return he}(Fe[0],Ce(Fe,"Exception"),Fe),function(Oe,ve,J){var G=B(Oe,ve,"EncodingError"),Ve=[G].concat(J);return he}(Fe[0],Ce(Fe,"StandardError"),Fe),function(Oe,ve,J){var G=B(Oe,ve,"ZeroDivisionError"),Ve=[G].concat(J);return he}(Fe[0],Ce(Fe,"StandardError"),Fe),function(Oe,ve,J){var G=B(Oe,ve,"NameError"),Ve=[G].concat(J);return he}(Fe[0],Ce(Fe,"StandardError"),Fe),function(Oe,ve,J){var G=B(Oe,ve,"NoMethodError"),Ve=[G].concat(J);return he}(Fe[0],Ce(Fe,"NameError"),Fe),function(Oe,ve,J){var G=B(Oe,ve,"RuntimeError"),Ve=[G].concat(J);return he}(Fe[0],Ce(Fe,"StandardError"),Fe),function(Oe,ve,J){var G=B(Oe,ve,"FrozenError"),Ve=[G].concat(J);return he}(Fe[0],Ce(Fe,"RuntimeError"),Fe),function(Oe,ve,J){var G=B(Oe,ve,"LocalJumpError"),Ve=[G].concat(J);return he}(Fe[0],Ce(Fe,"StandardError"),Fe),function(Oe,ve,J){var G=B(Oe,ve,"TypeError"),Ve=[G].concat(J);return he}(Fe[0],Ce(Fe,"StandardError"),Fe),function(Oe,ve,J){var G=B(Oe,ve,"ArgumentError"),Ve=[G].concat(J);return he}(Fe[0],Ce(Fe,"StandardError"),Fe),function(Oe,ve,J){var G=B(Oe,ve,"IndexError"),Ve=[G].concat(J);return he}(Fe[0],Ce(Fe,"StandardError"),Fe),function(Oe,ve,J){var G=B(Oe,ve,"StopIteration"),Ve=[G].concat(J);return he}(Fe[0],Ce(Fe,"IndexError"),Fe),function(Oe,ve,J){var G=B(Oe,ve,"KeyError"),Ve=[G].concat(J);return he}(Fe[0],Ce(Fe,"IndexError"),Fe),function(Oe,ve,J){var G=B(Oe,ve,"RangeError"),Ve=[G].concat(J);return he}(Fe[0],Ce(Fe,"StandardError"),Fe),function(Oe,ve,J){var G=B(Oe,ve,"FloatDomainError"),Ve=[G].concat(J);return he}(Fe[0],Ce(Fe,"RangeError"),Fe),function(Oe,ve,J){var G=B(Oe,ve,"IOError"),Ve=[G].concat(J);return he}(Fe[0],Ce(Fe,"StandardError"),Fe),function(Oe,ve,J){var G=B(Oe,ve,"SystemCallError"),Ve=[G].concat(J);return he}(Fe[0],Ce(Fe,"StandardError"),Fe),function(Oe,ve){var J=Ge(Oe,"Errno"),G=[J].concat(ve);(function(Ve,ft,Ye){var pe=B(Ve,ft,"EINVAL"),De=[pe].concat(Ye),ze;return r.defs(pe,"$new",ze=function(ut){var xt=ze.$$p,At=xt||he,ht=this,pt=he;return xt&&(ze.$$p=null),ut==null&&(ut=he),pt="Invalid argument",st(ut)&&(pt=Re(pt," - "+ut)),ke(ht,r.find_super_dispatcher(ht,"new",ze,!1,ht.$$class.$$prototype),[pt],null)},ze.$$arity=-1),he&&"new"})(G[0],Ce(G,"SystemCallError"),G)}(Fe[0],Fe),function(Oe,ve,J){var G=B(Oe,ve,"UncaughtThrowError"),Ve=[G].concat(J),ft;return G.$$prototype.sym=he,G.$attr_reader("sym","arg"),r.def(G,"$initialize",ft=function(pe){var De=ft.$$p,ze=De||he,ut=this;return De&&(ft.$$p=null),ut.sym=pe["$[]"](0),st(Je(pe.$length(),1))&&(ut.arg=pe["$[]"](1)),ke(ut,r.find_super_dispatcher(ut,"initialize",ft,!1),["uncaught throw "+ut.sym.$inspect()],null)},ft.$$arity=1),he&&"initialize"}(Fe[0],Ce(Fe,"ArgumentError"),Fe),function(Oe,ve,J){var G=B(Oe,ve,"NameError"),Ve=[G].concat(J),ft;return G.$attr_reader("name"),r.def(G,"$initialize",ft=function(pe,De){var ze=ft.$$p,ut=ze||he,xt=this;return ze&&(ft.$$p=null),De==null&&(De=he),ke(xt,r.find_super_dispatcher(xt,"initialize",ft,!1),[pe],null),xt.name=De},ft.$$arity=-2),he&&"initialize"}(Fe[0],null,Fe),function(Oe,ve,J){var G=B(Oe,ve,"NoMethodError"),Ve=[G].concat(J),ft;return G.$attr_reader("args"),r.def(G,"$initialize",ft=function(pe,De,ze){var ut=ft.$$p,xt=ut||he,At=this;return ut&&(ft.$$p=null),De==null&&(De=he),ze==null&&(ze=[]),ke(At,r.find_super_dispatcher(At,"initialize",ft,!1),[pe,De],null),At.args=ze},ft.$$arity=-2),he&&"initialize"}(Fe[0],null,Fe),function(Oe,ve,J){var G=B(Oe,ve,"StopIteration"),Ve=[G].concat(J);return G.$attr_reader("result")}(Fe[0],null,Fe),function(Oe,ve,J){var G=B(Oe,ve,"KeyError"),Ve=[G].concat(J),ft,Ye,pe;return G.$$prototype.receiver=G.$$prototype.key=he,r.def(G,"$initialize",ft=function(ze,ut){var xt,At,ht=ft.$$p,pt=ht||he,St=this;if(ht&&(ft.$$p=null),ut==null)ut=zt([],{});else if(!ut.$$is_hash)throw r.ArgumentError.$new("expected kwargs");return xt=ut.$$smap.receiver,xt==null&&(xt=he),At=ut.$$smap.key,At==null&&(At=he),ke(St,r.find_super_dispatcher(St,"initialize",ft,!1),[ze],null),St.receiver=xt,St.key=At},ft.$$arity=-2),r.def(G,"$receiver",Ye=function(){var ze,ut=this;return st(ze=ut.receiver)?ze:ut.$raise(Ce(Ve,"ArgumentError"),"no receiver is available")},Ye.$$arity=0),r.def(G,"$key",pe=function(){var ze,ut=this;return st(ze=ut.key)?ze:ut.$raise(Ce(Ve,"ArgumentError"),"no key is available")},pe.$$arity=0),he&&"key"}(Fe[0],null,Fe),function(Oe,ve){var J=Ge(Oe,"JS"),G=[J].concat(ve);(function(Ve,ft,Ye){var pe=B(Ve,ft,"Error"),De=[pe].concat(Ye);return he})(G[0],null,G)}(Fe[0],Fe)},Opal.modules["corelib/constants"]=function(r){var Re=r.top,Je=[],Ze=r.nil,Fe=r.const_get_qualified,he=r.const_get_relative,gt=r.breaker,Ce=r.slice;return r.const_set(Je[0],"RUBY_PLATFORM","opal"),r.const_set(Je[0],"RUBY_ENGINE","opal"),r.const_set(Je[0],"RUBY_VERSION","2.5.1"),r.const_set(Je[0],"RUBY_ENGINE_VERSION","0.11.99.dev"),r.const_set(Je[0],"RUBY_RELEASE_DATE","2018-12-25"),r.const_set(Je[0],"RUBY_PATCHLEVEL",0),r.const_set(Je[0],"RUBY_REVISION",0),r.const_set(Je[0],"RUBY_COPYRIGHT","opal - Copyright (C) 2013-2018 Adam Beynon and the Opal contributors"),r.const_set(Je[0],"RUBY_DESCRIPTION","opal "+he(Je,"RUBY_ENGINE_VERSION")+" ("+he(Je,"RUBY_RELEASE_DATE")+" revision "+he(Je,"RUBY_REVISION")+")")},Opal.modules["opal/base"]=function(r){var Re=r.top,Je=[],Ze=r.nil,Fe=r.const_get_qualified,he=r.const_get_relative,gt=r.breaker,Ce=r.slice;return r.add_stubs(["$require"]),Re.$require("corelib/runtime"),Re.$require("corelib/helpers"),Re.$require("corelib/module"),Re.$require("corelib/class"),Re.$require("corelib/basic_object"),Re.$require("corelib/kernel"),Re.$require("corelib/error"),Re.$require("corelib/constants")},Opal.modules["corelib/nil"]=function(r){function Re(st,Ge){return typeof st=="number"&&typeof Ge=="number"?st>Ge:st["$>"](Ge)}var Je=r.top,Ze=[],Fe=r.nil,he=r.const_get_qualified,gt=r.const_get_relative,Ce=r.breaker,R=r.slice,Gt=r.klass,B=r.hash2,ke=r.truthy;return r.add_stubs(["$raise","$name","$new","$>","$length","$Rational"]),function(st,Ge,zt){var Oe=Gt(st,Ge,"NilClass"),ve=[Oe].concat(zt),J,G,Ve,ft,Ye,pe,De,ze,ut,xt,At,ht,pt,St,Rt,Et,Bt,qt;return Oe.$$prototype.$$meta=Oe,function(Ct,It){var Pt=[Ct].concat(It),Mt;return r.def(Ct,"$allocate",Mt=function(){var D=this;return D.$raise(gt(Pt,"TypeError"),"allocator undefined for "+D.$name())},Mt.$$arity=0),r.udef(Ct,"$new"),Fe}(r.get_singleton_class(Oe),ve),r.def(Oe,"$!",J=function(){var Ct=this;return!0},J.$$arity=0),r.def(Oe,"$&",G=function(Ct){var It=this;return!1},G.$$arity=1),r.def(Oe,"$|",Ve=function(Ct){var It=this;return Ct!==!1&&Ct!==Fe},Ve.$$arity=1),r.def(Oe,"$^",ft=function(Ct){var It=this;return Ct!==!1&&Ct!==Fe},ft.$$arity=1),r.def(Oe,"$==",Ye=function(Ct){var It=this;return Ct===Fe},Ye.$$arity=1),r.def(Oe,"$dup",pe=function(){var It=this;return Fe},pe.$$arity=0),r.def(Oe,"$clone",De=function(It){var Pt,Mt=this;if(It==null)It=B([],{});else if(!It.$$is_hash)throw r.ArgumentError.$new("expected kwargs");return Pt=It.$$smap.freeze,Pt==null&&(Pt=!0),Fe},De.$$arity=-1),r.def(Oe,"$inspect",ze=function(){var It=this;return"nil"},ze.$$arity=0),r.def(Oe,"$nil?",ut=function(){var Ct=this;return!0},ut.$$arity=0),r.def(Oe,"$singleton_class",xt=function(){var It=this;return gt(ve,"NilClass")},xt.$$arity=0),r.def(Oe,"$to_a",At=function(){var It=this;return[]},At.$$arity=0),r.def(Oe,"$to_h",ht=function(){var It=this;return r.hash()},ht.$$arity=0),r.def(Oe,"$to_i",pt=function(){var It=this;return 0},pt.$$arity=0),r.alias(Oe,"to_f","to_i"),r.def(Oe,"$to_s",St=function(){var It=this;return""},St.$$arity=0),r.def(Oe,"$to_c",Rt=function(){var It=this;return gt(ve,"Complex").$new(0,0)},Rt.$$arity=0),r.def(Oe,"$rationalize",Et=function(It){var Pt,Mt,jt=this;return Pt=r.slice.call(arguments,0,arguments.length),Mt=Pt,ke(Re(Mt.$length(),1))&&jt.$raise(gt(ve,"ArgumentError")),jt.$Rational(0,1)},Et.$$arity=-1),r.def(Oe,"$to_r",Bt=function(){var It=this;return It.$Rational(0,1)},Bt.$$arity=0),r.def(Oe,"$instance_variables",qt=function(){var It=this;return[]},qt.$$arity=0),Fe&&"instance_variables"}(Ze[0],null,Ze),r.const_set(Ze[0],"NIL",Fe)},Opal.modules["corelib/boolean"]=function(r){var Re=r.top,Je=[],Ze=r.nil,Fe=r.const_get_qualified,he=r.const_get_relative,gt=r.breaker,Ce=r.slice,R=r.klass,Gt=r.hash2;return r.add_stubs(["$raise","$name"]),function(B,ke,st){var Ge=R(B,ke,"Boolean"),zt=[Ge].concat(st),Oe,ve,J,G,Ve,ft,Ye,pe,De,ze;return r.defineProperty(Ge.$$prototype,"$$is_boolean",!0),r.defineProperty(Ge.$$prototype,"$$meta",Ge),function(ut,xt){var At=[ut].concat(xt),ht;return r.def(ut,"$allocate",ht=function(){var St=this;return St.$raise(he(At,"TypeError"),"allocator undefined for "+St.$name())},ht.$$arity=0),r.udef(ut,"$new"),Ze}(r.get_singleton_class(Ge),zt),r.def(Ge,"$__id__",Oe=function(){var xt=this;return xt.valueOf()?2:0},Oe.$$arity=0),r.alias(Ge,"object_id","__id__"),r.def(Ge,"$!",ve=function(){var ut=this;return ut!=!0},ve.$$arity=0),r.def(Ge,"$&",J=function(ut){var xt=this;return xt==!0?ut!==!1&&ut!==Ze:!1},J.$$arity=1),r.def(Ge,"$|",G=function(ut){var xt=this;return xt==!0?!0:ut!==!1&&ut!==Ze},G.$$arity=1),r.def(Ge,"$^",Ve=function(ut){var xt=this;return xt==!0?ut===!1||ut===Ze:ut!==!1&&ut!==Ze},Ve.$$arity=1),r.def(Ge,"$==",ft=function(ut){var xt=this;return xt==!0===ut.valueOf()},ft.$$arity=1),r.alias(Ge,"equal?","=="),r.alias(Ge,"eql?","=="),r.def(Ge,"$singleton_class",Ye=function(){var xt=this;return he(zt,"Boolean")},Ye.$$arity=0),r.def(Ge,"$to_s",pe=function(){var xt=this;return xt==!0?"true":"false"},pe.$$arity=0),r.def(Ge,"$dup",De=function(){var xt=this;return xt},De.$$arity=0),r.def(Ge,"$clone",ze=function(xt){var At,ht=this;if(xt==null)xt=Gt([],{});else if(!xt.$$is_hash)throw r.ArgumentError.$new("expected kwargs");return At=xt.$$smap.freeze,At==null&&(At=!0),ht},ze.$$arity=-1),Ze&&"clone"}(Je[0],Boolean,Je),r.const_set(Je[0],"TrueClass",he(Je,"Boolean")),r.const_set(Je[0],"FalseClass",he(Je,"Boolean")),r.const_set(Je[0],"TRUE",!0),r.const_set(Je[0],"FALSE",!1)},Opal.modules["corelib/comparable"]=function(r){function Re(st,Ge){return typeof st=="number"&&typeof Ge=="number"?st>Ge:st["$>"](Ge)}function Je(st,Ge){return typeof st=="number"&&typeof Ge=="number"?st<Ge:st["$<"](Ge)}var Ze=r.top,Fe=[],he=r.nil,gt=r.const_get_qualified,Ce=r.const_get_relative,R=r.breaker,Gt=r.slice,B=r.module,ke=r.truthy;return r.add_stubs(["$===","$>","$<","$equal?","$<=>","$normalize","$raise","$class"]),function(st,Ge){var zt=B(st,"Comparable"),Oe=[zt].concat(Ge),ve,J,G,Ve,ft,Ye,pe,De;r.defs(zt,"$normalize",ve=function(ut){var xt=this;return ke(Ce(Oe,"Integer")["$==="](ut))?ut:ke(Re(ut,0))?1:ke(Je(ut,0))?-1:0},ve.$$arity=1),r.def(zt,"$==",J=function(ze){var ut=this,xt=he;try{return ke(ut["$equal?"](ze))?!0:ut["$<=>"]==r.Kernel["$<=>"]?!1:ut.$$comparable?(delete ut.$$comparable,!1):ke(xt=ut["$<=>"](ze))?Ce(Oe,"Comparable").$normalize(xt)==0:!1}catch(At){if(r.rescue(At,[Ce(Oe,"StandardError")]))try{return!1}finally{r.pop_exception()}else throw At}},J.$$arity=1),r.def(zt,"$>",G=function(ze){var ut=this,xt=he;return ke(xt=ut["$<=>"](ze))||ut.$raise(Ce(Oe,"ArgumentError"),"comparison of "+ut.$class()+" with "+ze.$class()+" failed"),Ce(Oe,"Comparable").$normalize(xt)>0},G.$$arity=1),r.def(zt,"$>=",Ve=function(ze){var ut=this,xt=he;return ke(xt=ut["$<=>"](ze))||ut.$raise(Ce(Oe,"ArgumentError"),"comparison of "+ut.$class()+" with "+ze.$class()+" failed"),Ce(Oe,"Comparable").$normalize(xt)>=0},Ve.$$arity=1),r.def(zt,"$<",ft=function(ze){var ut=this,xt=he;return ke(xt=ut["$<=>"](ze))||ut.$raise(Ce(Oe,"ArgumentError"),"comparison of "+ut.$class()+" with "+ze.$class()+" failed"),Ce(Oe,"Comparable").$normalize(xt)<0},ft.$$arity=1),r.def(zt,"$<=",Ye=function(ze){var ut=this,xt=he;return ke(xt=ut["$<=>"](ze))||ut.$raise(Ce(Oe,"ArgumentError"),"comparison of "+ut.$class()+" with "+ze.$class()+" failed"),Ce(Oe,"Comparable").$normalize(xt)<=0},Ye.$$arity=1),r.def(zt,"$between?",pe=function(ze,ut){var xt=this;return!(Je(xt,ze)||Re(xt,ut))},pe.$$arity=2),r.def(zt,"$clamp",De=function(ut,xt){var At=this,ht=he;return ht=ut["$<=>"](xt),ke(ht)||At.$raise(Ce(Oe,"ArgumentError"),"comparison of "+ut.$class()+" with "+xt.$class()+" failed"),ke(Re(Ce(Oe,"Comparable").$normalize(ht),0))&&At.$raise(Ce(Oe,"ArgumentError"),"min argument must be smaller than max argument"),ke(Je(Ce(Oe,"Comparable").$normalize(At["$<=>"](ut)),0))?ut:ke(Re(Ce(Oe,"Comparable").$normalize(At["$<=>"](xt)),0))?xt:At},De.$$arity=2)}(Fe[0],Fe)},Opal.modules["corelib/regexp"]=function(r){var Re=r.top,Je=[],Ze=r.nil,Fe=r.const_get_qualified,he=r.const_get_relative,gt=r.breaker,Ce=r.slice,R=r.klass,Gt=r.send,B=r.truthy,ke=r.gvars;return r.add_stubs(["$nil?","$[]","$raise","$escape","$options","$to_str","$new","$join","$coerce_to!","$!","$match","$coerce_to?","$begin","$coerce_to","$=~","$attr_reader","$===","$inspect","$to_a"]),function(st,Ge,zt){var Oe=R(st,Ge,"RegexpError"),ve=[Oe].concat(zt);return Ze}(Je[0],he(Je,"StandardError"),Je),function(st,Ge,zt){var Oe=R(st,Ge,"Regexp"),ve=[Oe].concat(zt),J,G,Ve,ft,Ye,pe,De,ze,ut,xt;return r.const_set(ve[0],"IGNORECASE",1),r.const_set(ve[0],"EXTENDED",2),r.const_set(ve[0],"MULTILINE",4),r.defineProperty(Oe.$$prototype,"$$is_regexp",!0),function(At,ht){var pt=[At].concat(ht),St,Rt,Et,Bt,qt;return r.def(At,"$allocate",St=function(){var It=St.$$p,Pt=It||Ze,Mt=this,jt=Ze,D=Ze,se=Ze,le=Ze;for(It&&(St.$$p=null),se=0,le=arguments.length,D=new Array(le);se<le;se++)D[se]=arguments[se];return jt=Gt(Mt,r.find_super_dispatcher(Mt,"allocate",St,!1),D,It),jt.uninitialized=!0,jt},St.$$arity=0),r.def(At,"$escape",Rt=function(It){var Pt=this;return r.escape_regexp(It)},Rt.$$arity=1),r.def(At,"$last_match",Et=function(It){var Pt=this;return ke["~"]==null&&(ke["~"]=Ze),It==null&&(It=Ze),B(It["$nil?"]())?ke["~"]:ke["~"]["$[]"](It)},Et.$$arity=-1),r.alias(At,"quote","escape"),r.def(At,"$union",Bt=function(It){var Pt,Mt,jt=this;Pt=r.slice.call(arguments,0,arguments.length),Mt=Pt;var D,se,le,ge,Le;if(Mt.length==0)return/(?!)/;if(Mt.length==1&&Mt[0].$$is_regexp)return Mt[0];D=Mt[0].$$is_array,Mt.length>1&&D&&jt.$raise(he(pt,"TypeError"),"no implicit conversion of Array into String"),D&&(Mt=Mt[0]),ge=void 0,se=[];for(var Ue=0;Ue<Mt.length;Ue++)le=Mt[Ue],le.$$is_string?se.push(jt.$escape(le)):le.$$is_regexp?(Le=le.$options(),ge!=null&&ge!=Le&&jt.$raise(he(pt,"TypeError"),"All expressions must use the same options"),ge=Le,se.push("("+le.source+")")):se.push(jt.$escape(le.$to_str()));return jt.$new(se.$join("|"),ge)},Bt.$$arity=-1),r.def(At,"$new",qt=function(Ct,It){var Pt=this;if(Ct.$$is_regexp)return new RegExp(Ct);if(Ct=he(pt,"Opal")["$coerce_to!"](Ct,he(pt,"String"),"to_str"),Ct.charAt(Ct.length-1)==="\\"&&Ct.charAt(Ct.length-2)!=="\\"&&Pt.$raise(he(pt,"RegexpError"),"too short escape sequence: /"+Ct+"/"),It===void 0||It["$!"]())return new RegExp(Ct);if(It.$$is_number){var Mt="";he(pt,"IGNORECASE")&It&&(Mt+="i"),he(pt,"MULTILINE")&It&&(Mt+="m"),It=Mt}else It="i";return new RegExp(Ct,It)},qt.$$arity=-2),Ze&&"new"}(r.get_singleton_class(Oe),ve),r.def(Oe,"$==",J=function(At){var ht=this;return At instanceof RegExp&&ht.toString()===At.toString()},J.$$arity=1),r.def(Oe,"$===",G=function(At){var ht=this;return ht.$match(he(ve,"Opal")["$coerce_to?"](At,he(ve,"String"),"to_str"))!==Ze},G.$$arity=1),r.def(Oe,"$=~",Ve=function(At){var ht,pt=this;return ke["~"]==null&&(ke["~"]=Ze),B(ht=pt.$match(At))?ke["~"].$begin(0):ht},Ve.$$arity=1),r.alias(Oe,"eql?","=="),r.def(Oe,"$inspect",ft=function(){var ht=this,pt=/^\/(.*)\/([^\/]*)$/,St=ht.toString(),Rt=pt.exec(St);if(Rt){for(var Et=Rt[1],Bt=Rt[2],qt=Et.split(""),Ct=qt.length,It=!1,Pt="",Mt=0;Mt<Ct;Mt++){var jt=qt[Mt];!It&&jt=="/"&&(Pt=Pt.concat("\\")),Pt=Pt.concat(jt),jt=="\\"?It?It=!1:It=!0:It=!1}return"/"+Pt+"/"+Bt}else return St},ft.$$arity=0),r.def(Oe,"$match",Ye=function(ht,pt){var St=Ye.$$p,Rt=St||Ze,Et=this;if(ke["~"]==null&&(ke["~"]=Ze),St&&(Ye.$$p=null),St&&(Ye.$$p=null),Et.uninitialized&&Et.$raise(he(ve,"TypeError"),"uninitialized Regexp"),pt===void 0){if(ht===Ze)return ke["~"]=Ze;var Bt=Et.exec(he(ve,"Opal").$coerce_to(ht,he(ve,"String"),"to_str"));return Bt?(ke["~"]=he(ve,"MatchData").$new(Et,Bt),Rt===Ze?ke["~"]:r.yield1(Rt,ke["~"])):ke["~"]=Ze}if(pt=he(ve,"Opal").$coerce_to(pt,he(ve,"Integer"),"to_int"),ht===Ze||(ht=he(ve,"Opal").$coerce_to(ht,he(ve,"String"),"to_str"),pt<0&&(pt+=ht.length,pt<0)))return ke["~"]=Ze;for(var qt,Ct=r.global_regexp(Et);;){if(qt=Ct.exec(ht),qt===null)return ke["~"]=Ze;if(qt.index>=pt)return ke["~"]=he(ve,"MatchData").$new(Ct,qt),Rt===Ze?ke["~"]:r.yield1(Rt,ke["~"]);Ct.lastIndex=qt.index+1}},Ye.$$arity=-2),r.def(Oe,"$match?",pe=function(At,ht){var pt=this;if(pt.uninitialized&&pt.$raise(he(ve,"TypeError"),"uninitialized Regexp"),ht===void 0)return At===Ze?!1:pt.test(he(ve,"Opal").$coerce_to(At,he(ve,"String"),"to_str"));if(ht=he(ve,"Opal").$coerce_to(ht,he(ve,"Integer"),"to_int"),At===Ze||(At=he(ve,"Opal").$coerce_to(At,he(ve,"String"),"to_str"),ht<0&&(ht+=At.length,ht<0)))return!1;var St,Rt=r.global_regexp(pt);return St=Rt.exec(At),!(St===null||St.index<ht)},pe.$$arity=-2),r.def(Oe,"$~",De=function(){var At=this;return ke._==null&&(ke._=Ze),At["$=~"](ke._)},De.$$arity=0),r.def(Oe,"$source",ze=function(){var ht=this;return ht.source},ze.$$arity=0),r.def(Oe,"$options",ut=function(){var ht=this;ht.uninitialized&&ht.$raise(he(ve,"TypeError"),"uninitialized Regexp");var pt=0;return ht.multiline&&(pt|=he(ve,"MULTILINE")),ht.ignoreCase&&(pt|=he(ve,"IGNORECASE")),pt},ut.$$arity=0),r.def(Oe,"$casefold?",xt=function(){var At=this;return At.ignoreCase},xt.$$arity=0),r.alias(Oe,"to_s","source")}(Je[0],RegExp,Je),function(st,Ge,zt){var Oe=R(st,Ge,"MatchData"),ve=[Oe].concat(zt),J,G,Ve,ft,Ye,pe,De,ze,ut,xt,At,ht;return Oe.$$prototype.matches=Ze,Oe.$attr_reader("post_match","pre_match","regexp","string"),r.def(Oe,"$initialize",J=function(St,Rt){var Et=this;ke["~"]=Et,Et.regexp=St,Et.begin=Rt.index,Et.string=Rt.input,Et.pre_match=Rt.input.slice(0,Rt.index),Et.post_match=Rt.input.slice(Rt.index+Rt[0].length),Et.matches=[];for(var Bt=0,qt=Rt.length;Bt<qt;Bt++){var Ct=Rt[Bt];Ct==null?Et.matches.push(Ze):Et.matches.push(Ct)}},J.$$arity=2),r.def(Oe,"$[]",G=function(pt){var St,Rt,Et=this;return St=r.slice.call(arguments,0,arguments.length),Rt=St,Gt(Et.matches,"[]",r.to_a(Rt))},G.$$arity=-1),r.def(Oe,"$offset",Ve=function(St){var Rt=this;return St!==0&&Rt.$raise(he(ve,"ArgumentError"),"MatchData#offset only supports 0th element"),[Rt.begin,Rt.begin+Rt.matches[St].length]},Ve.$$arity=1),r.def(Oe,"$==",ft=function(pt){var St,Rt,Et,Bt,qt=this;return B(he(ve,"MatchData")["$==="](pt))?B(St=B(Rt=B(Et=B(Bt=qt.string==pt.string)?qt.regexp.toString()==pt.regexp.toString():Bt)?qt.pre_match==pt.pre_match:Et)?qt.post_match==pt.post_match:Rt)?qt.begin==pt.begin:St:!1},ft.$$arity=1),r.alias(Oe,"eql?","=="),r.def(Oe,"$begin",Ye=function(St){var Rt=this;return St!==0&&Rt.$raise(he(ve,"ArgumentError"),"MatchData#begin only supports 0th element"),Rt.begin},Ye.$$arity=1),r.def(Oe,"$end",pe=function(St){var Rt=this;return St!==0&&Rt.$raise(he(ve,"ArgumentError"),"MatchData#end only supports 0th element"),Rt.begin+Rt.matches[St].length},pe.$$arity=1),r.def(Oe,"$captures",De=function(){var St=this;return St.matches.slice(1)},De.$$arity=0),r.def(Oe,"$inspect",ze=function(){for(var St=this,Rt="#<MatchData "+St.matches[0].$inspect(),Et=1,Bt=St.matches.length;Et<Bt;Et++)Rt+=" "+Et+":"+St.matches[Et].$inspect();return Rt+">"},ze.$$arity=0),r.def(Oe,"$length",ut=function(){var St=this;return St.matches.length},ut.$$arity=0),r.alias(Oe,"size","length"),r.def(Oe,"$to_a",xt=function(){var St=this;return St.matches},xt.$$arity=0),r.def(Oe,"$to_s",At=function(){var St=this;return St.matches[0]},At.$$arity=0),r.def(Oe,"$values_at",ht=function(St){var Rt,Et,Bt=this;Rt=r.slice.call(arguments,0,arguments.length),Et=Rt;var qt,Ct,It,Pt=[];for(qt=0;qt<Et.length;qt++){if(Et[qt].$$is_range&&(Ct=Et[qt].$to_a(),Ct.unshift(qt,1),Array.prototype.splice.apply(Et,Ct)),It=he(ve,"Opal")["$coerce_to!"](Et[qt],he(ve,"Integer"),"to_int"),It<0&&(It+=Bt.matches.length,It<0)){Pt.push(Ze);continue}Pt.push(Bt.matches[It])}return Pt},ht.$$arity=-1),Ze&&"values_at"}(Je[0],null,Je)},Opal.modules["corelib/string"]=function(r){function Re(zt,Oe){return typeof zt=="number"&&typeof Oe=="number"?zt/Oe:zt["$/"](Oe)}function Je(zt,Oe){return typeof zt=="number"&&typeof Oe=="number"?zt+Oe:zt["$+"](Oe)}var Ze=r.top,Fe=[],he=r.nil,gt=r.const_get_qualified,Ce=r.const_get_relative,R=r.breaker,Gt=r.slice,B=r.klass,ke=r.truthy,st=r.send,Ge=r.gvars;return r.add_stubs(["$require","$include","$coerce_to?","$coerce_to","$raise","$===","$format","$to_s","$respond_to?","$to_str","$<=>","$==","$=~","$new","$force_encoding","$casecmp","$empty?","$ljust","$ceil","$/","$+","$rjust","$floor","$to_a","$each_char","$to_proc","$coerce_to!","$copy_singleton_methods","$initialize_clone","$initialize_dup","$enum_for","$size","$chomp","$[]","$to_i","$each_line","$class","$match","$match?","$captures","$proc","$succ","$escape"]),Ze.$require("corelib/comparable"),Ze.$require("corelib/regexp"),function(zt,Oe,ve){var J=B(zt,Oe,"String"),G=[J].concat(ve),Ve,ft,Ye,pe,De,ze,ut,xt,At,ht,pt,St,Rt,Et,Bt,qt,Ct,It,Pt,Mt,jt,D,se,le,ge,Le,Ue,qe,wt,Nt,Ft,Ut,Vt,Jt,Kt,Wt,Qt,$r,Ot,Xt,Ht,er,ar,or,cr,e,u,O,xe,Xe,ie,A,$e,$,n,y,W,oe,b,_,c,t,s,i,j,h,g,w,C,F,N,x,f,L,ae,Pe;J.$include(Ce(G,"Comparable")),r.defineProperty(J.$$prototype,"$$is_string",!0),r.defineProperty(J.$$prototype,"$$cast",function(ue){var S=this.$$class;return S.$$constructor===String?ue:new S.$$constructor(ue)}),r.def(J,"$__id__",Ve=function(){var S=this;return S.toString()},Ve.$$arity=0),r.alias(J,"object_id","__id__"),r.defs(J,"$try_convert",ft=function(S){var d=this;return Ce(G,"Opal")["$coerce_to?"](S,Ce(G,"String"),"to_str")},ft.$$arity=1),r.defs(J,"$new",Ye=function(ue){var S=this;return ue==null&&(ue=""),ue=Ce(G,"Opal").$coerce_to(ue,Ce(G,"String"),"to_str"),new S.$$constructor(ue)},Ye.$$arity=-1),r.def(J,"$initialize",pe=function(S){var d=this;return S===void 0?d:d.$raise(Ce(G,"NotImplementedError"),"Mutable strings are not supported in Opal.")},pe.$$arity=-1),r.def(J,"$%",De=function(ue){var S=this;return ke(Ce(G,"Array")["$==="](ue))?st(S,"format",[S].concat(r.to_a(ue))):S.$format(S,ue)},De.$$arity=1),r.def(J,"$*",ze=function(ue){var S=this;if(ue=Ce(G,"Opal").$coerce_to(ue,Ce(G,"Integer"),"to_int"),ue<0&&S.$raise(Ce(G,"ArgumentError"),"negative argument"),ue===0)return S.$$cast("");var d="",m=S.toString();for(m.length*ue>=1<<28&&S.$raise(Ce(G,"RangeError"),"multiply count must not overflow maximum string size");(ue&1)===1&&(d+=m),ue>>>=1,ue!==0;)m+=m;return S.$$cast(d)},ze.$$arity=1),r.def(J,"$+",ut=function(ue){var S=this;return ue=Ce(G,"Opal").$coerce_to(ue,Ce(G,"String"),"to_str"),S+ue.$to_s()},ut.$$arity=1),r.def(J,"$<=>",xt=function(ue){var S=this;if(ke(ue["$respond_to?"]("to_str")))return ue=ue.$to_str().$to_s(),S>ue?1:S<ue?-1:0;var d=ue["$<=>"](S);return d===he?he:d>0?-1:d<0?1:0},xt.$$arity=1),r.def(J,"$==",At=function(ue){var S=this;return ue.$$is_string?S.toString()===ue.toString():Ce(G,"Opal")["$respond_to?"](ue,"to_str")?ue["$=="](S):!1},At.$$arity=1),r.alias(J,"eql?","=="),r.alias(J,"===","=="),r.def(J,"$=~",ht=function(ue){var S=this;return ue.$$is_string&&S.$raise(Ce(G,"TypeError"),"type mismatch: String given"),ue["$=~"](S)},ht.$$arity=1),r.def(J,"$[]",pt=function(ue,S){var d=this,m=d.length,p;if(ue.$$is_range)return p=ue.excl,S=Ce(G,"Opal").$coerce_to(ue.end,Ce(G,"Integer"),"to_int"),ue=Ce(G,"Opal").$coerce_to(ue.begin,Ce(G,"Integer"),"to_int"),Math.abs(ue)>m?he:(ue<0&&(ue+=m),S<0&&(S+=m),p||(S+=1),S=S-ue,S<0&&(S=0),d.$$cast(d.substr(ue,S)));if(ue.$$is_string)return S!=null&&d.$raise(Ce(G,"TypeError")),d.indexOf(ue)!==-1?d.$$cast(ue):he;if(ue.$$is_regexp){var z=d.match(ue);return z===null?(Ge["~"]=he,he):(Ge["~"]=Ce(G,"MatchData").$new(ue,z),S==null?d.$$cast(z[0]):(S=Ce(G,"Opal").$coerce_to(S,Ce(G,"Integer"),"to_int"),S<0&&-S<z.length?d.$$cast(z[S+=z.length]):S>=0&&S<z.length?d.$$cast(z[S]):he))}return ue=Ce(G,"Opal").$coerce_to(ue,Ce(G,"Integer"),"to_int"),ue<0&&(ue+=m),S==null?ue>=m||ue<0?he:d.$$cast(d.substr(ue,1)):(S=Ce(G,"Opal").$coerce_to(S,Ce(G,"Integer"),"to_int"),S<0||ue>m||ue<0?he:d.$$cast(d.substr(ue,S)))},pt.$$arity=-2),r.alias(J,"byteslice","[]"),r.def(J,"$b",St=function(){var S=this;return S.$force_encoding("binary")},St.$$arity=0),r.def(J,"$capitalize",Rt=function(){var S=this;return S.$$cast(S.charAt(0).toUpperCase()+S.substr(1).toLowerCase())},Rt.$$arity=0),r.def(J,"$casecmp",Et=function(S){var d=this;if(!ke(S["$respond_to?"]("to_str")))return he;S=Ce(G,"Opal").$coerce_to(S,Ce(G,"String"),"to_str").$to_s();var m=/^[\x00-\x7F]*$/;return m.test(d)&&m.test(S)&&(d=d.toLowerCase(),S=S.toLowerCase()),d["$<=>"](S)},Et.$$arity=1),r.def(J,"$casecmp?",Bt=function(ue){var S=this,d=S.$casecmp(ue);return d===he?he:d===0},Bt.$$arity=1),r.def(J,"$center",qt=function(S,d){var m=this;if(d==null&&(d=" "),S=Ce(G,"Opal").$coerce_to(S,Ce(G,"Integer"),"to_int"),d=Ce(G,"Opal").$coerce_to(d,Ce(G,"String"),"to_str").$to_s(),ke(d["$empty?"]())&&m.$raise(Ce(G,"ArgumentError"),"zero width padding"),ke(S<=m.length))return m;var p=m.$ljust(Re(Je(S,m.length),2).$ceil(),d),z=m.$rjust(Re(Je(S,m.length),2).$floor(),d);return m.$$cast(z+p.slice(m.length))},qt.$$arity=-2),r.def(J,"$chars",Ct=function(){var S=Ct.$$p,d=S||he,m=this;return S&&(Ct.$$p=null),S&&(Ct.$$p=null),ke(d)?st(m,"each_char",[],d.$to_proc()):m.$each_char().$to_a()},Ct.$$arity=0),r.def(J,"$chomp",It=function(S){var d=this;if(Ge["/"]==null&&(Ge["/"]=he),S==null&&(S=Ge["/"]),ke(S===he||d.length===0))return d;S=Ce(G,"Opal")["$coerce_to!"](S,Ce(G,"String"),"to_str").$to_s();var m;if(S===`
`)m=d.replace(/\r?\n?$/,"");else if(S==="")m=d.replace(/(\r?\n)+$/,"");else if(d.length>=S.length){var p=d.substr(d.length-S.length,S.length);p===S&&(m=d.substr(0,d.length-S.length))}return m!=null?d.$$cast(m):d},It.$$arity=-1),r.def(J,"$chop",Pt=function(){var S=this,d=S.length,m;return d<=1?m="":S.charAt(d-1)===`
`&&S.charAt(d-2)==="\r"?m=S.substr(0,d-2):m=S.substr(0,d-1),S.$$cast(m)},Pt.$$arity=0),r.def(J,"$chr",Mt=function(){var S=this;return S.charAt(0)},Mt.$$arity=0),r.def(J,"$clone",jt=function(){var S=this,d=he;return d=S.slice(),d.$copy_singleton_methods(S),d.$initialize_clone(S),d},jt.$$arity=0),r.def(J,"$dup",D=function(){var S=this,d=he;return d=S.slice(),d.$initialize_dup(S),d},D.$$arity=0),r.def(J,"$count",se=function(S){var d,m,p=this;d=r.slice.call(arguments,0,arguments.length),m=d,m.length===0&&p.$raise(Ce(G,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var z=Ie(m);return z===null?0:p.length-p.replace(new RegExp(z,"g"),"").length},se.$$arity=-1),r.def(J,"$delete",le=function(ue){var S,d,m=this;S=r.slice.call(arguments,0,arguments.length),d=S,d.length===0&&m.$raise(Ce(G,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var p=Ie(d);return p===null?m:m.$$cast(m.replace(new RegExp(p,"g"),""))},le.$$arity=-1),r.def(J,"$delete_prefix",ge=function(S){var d=this;return S.$$is_string||(S=Ce(G,"Opal").$coerce_to(S,Ce(G,"String"),"to_str")),d.slice(0,S.length)===S?d.$$cast(d.slice(S.length)):d},ge.$$arity=1),r.def(J,"$delete_suffix",Le=function(S){var d=this;return S.$$is_string||(S=Ce(G,"Opal").$coerce_to(S,Ce(G,"String"),"to_str")),d.slice(d.length-S.length)===S?d.$$cast(d.slice(0,d.length-S.length)):d},Le.$$arity=1),r.def(J,"$downcase",Ue=function(){var S=this;return S.$$cast(S.toLowerCase())},Ue.$$arity=0),r.def(J,"$each_char",qe=function(){var S=qe.$$p,d=S||he,m,p=this;if(S&&(qe.$$p=null),S&&(qe.$$p=null),d===he)return st(p,"enum_for",["each_char"],(m=function(){var re=m.$$s||this;return re.$size()},m.$$s=p,m.$$arity=0,m));for(var z=0,Z=p.length;z<Z;z++)r.yield1(d,p.charAt(z));return p},qe.$$arity=0),r.def(J,"$each_line",wt=function(S){var d=wt.$$p,m=d||he,p=this;if(Ge["/"]==null&&(Ge["/"]=he),d&&(wt.$$p=null),d&&(wt.$$p=null),S==null&&(S=Ge["/"]),m===he)return p.$enum_for("each_line",S);if(S===he)return r.yield1(m,p),p;S=Ce(G,"Opal").$coerce_to(S,Ce(G,"String"),"to_str");var z,Z,re,ye,q,ee,V;if(S.length===0){for(z=p.split(/(\n{2,})/),Z=0,re=z.length;Z<re;Z+=2)if(z[Z]||z[Z+1]){var _e=(z[Z]||"")+(z[Z+1]||"");r.yield1(m,p.$$cast(_e))}return p}for(q=p.$chomp(S),ee=p.length!=q.length,V=q.split(S),Z=0,ye=V.length;Z<ye;Z++)Z<ye-1||ee?r.yield1(m,p.$$cast(V[Z]+S)):r.yield1(m,p.$$cast(V[Z]));return p},wt.$$arity=-1),r.def(J,"$empty?",Nt=function(){var ue=this;return ue.length===0},Nt.$$arity=0),r.def(J,"$end_with?",Ft=function(ue){var S,d,m=this;S=r.slice.call(arguments,0,arguments.length),d=S;for(var p=0,z=d.length;p<z;p++){var Z=Ce(G,"Opal").$coerce_to(d[p],Ce(G,"String"),"to_str").$to_s();if(m.length>=Z.length&&m.substr(m.length-Z.length,Z.length)==Z)return!0}return!1},Ft.$$arity=-1),r.alias(J,"equal?","==="),r.def(J,"$gsub",Ut=function(S,d){var m=Ut.$$p,p=m||he,z=this;if(m&&(Ut.$$p=null),m&&(Ut.$$p=null),d===void 0&&p===he)return z.$enum_for("gsub",S);var Z="",re=he,ye=0,q,ee;S.$$is_regexp?S=r.global_multiline_regexp(S):(S=Ce(G,"Opal").$coerce_to(S,Ce(G,"String"),"to_str"),S=new RegExp(S.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(var V;;){if(q=S.exec(z),q===null){Ge["~"]=he,Z+=z.slice(ye);break}re=Ce(G,"MatchData").$new(S,q),d===void 0?(V=S.lastIndex,ee=p(q[0]),S.lastIndex=V):d.$$is_hash?ee=d["$[]"](q[0]).$to_s():(d.$$is_string||(d=Ce(G,"Opal").$coerce_to(d,Ce(G,"String"),"to_str")),ee=d.replace(/([\\]+)([0-9+&`'])/g,function(_e,Me,Te){if(Me.length%2===0)return _e;switch(Te){case"+":for(var et=q.length-1;et>0;et--)if(q[et]!==void 0)return Me.slice(1)+q[et];return"";case"&":return Me.slice(1)+q[0];case"`":return Me.slice(1)+z.slice(0,q.index);case"'":return Me.slice(1)+z.slice(q.index+q[0].length);default:return Me.slice(1)+(q[Te]||"")}}).replace(/\\\\/g,"\\")),S.lastIndex===q.index?(Z+=ee+z.slice(ye,q.index+1),S.lastIndex+=1):Z+=z.slice(ye,q.index)+ee,ye=S.lastIndex}return Ge["~"]=re,z.$$cast(Z)},Ut.$$arity=-2),r.def(J,"$hash",Vt=function(){var S=this;return S.toString()},Vt.$$arity=0),r.def(J,"$hex",Jt=function(){var S=this;return S.$to_i(16)},Jt.$$arity=0),r.def(J,"$include?",Kt=function(ue){var S=this;return ue.$$is_string||(ue=Ce(G,"Opal").$coerce_to(ue,Ce(G,"String"),"to_str")),S.indexOf(ue)!==-1},Kt.$$arity=1),r.def(J,"$index",Wt=function(S,d){var m=this,p,z,Z;if(d===void 0)d=0;else if(d=Ce(G,"Opal").$coerce_to(d,Ce(G,"Integer"),"to_int"),d<0&&(d+=m.length,d<0))return he;if(S.$$is_regexp)for(Z=r.global_multiline_regexp(S);;){if(z=Z.exec(m),z===null){Ge["~"]=he,p=-1;break}if(z.index>=d){Ge["~"]=Ce(G,"MatchData").$new(Z,z),p=z.index;break}Z.lastIndex=z.index+1}else S=Ce(G,"Opal").$coerce_to(S,Ce(G,"String"),"to_str"),S.length===0&&d>m.length?p=-1:p=m.indexOf(S,d);return p===-1?he:p},Wt.$$arity=-2),r.def(J,"$inspect",Qt=function(){var S=this,d=/[\\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,m={"\x07":"\\a","\x1B":"\\e","\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\v":"\\v",'"':'\\"',"\\":"\\\\"},p=S.replace(d,function(z){return m[z]||"\\u"+("0000"+z.charCodeAt(0).toString(16).toUpperCase()).slice(-4)});return'"'+p.replace(/\#[\$\@\{]/g,"\\$&")+'"'},Qt.$$arity=0),r.def(J,"$intern",$r=function(){var S=this;return S.toString()},$r.$$arity=0),r.def(J,"$lines",Ot=function(S){var d=Ot.$$p,m=d||he,p=this,z=he;return Ge["/"]==null&&(Ge["/"]=he),d&&(Ot.$$p=null),d&&(Ot.$$p=null),S==null&&(S=Ge["/"]),z=st(p,"each_line",[S],m.$to_proc()),ke(m)?p:z.$to_a()},Ot.$$arity=-1),r.def(J,"$length",Xt=function(){var S=this;return S.length},Xt.$$arity=0),r.def(J,"$ljust",Ht=function(S,d){var m=this;if(d==null&&(d=" "),S=Ce(G,"Opal").$coerce_to(S,Ce(G,"Integer"),"to_int"),d=Ce(G,"Opal").$coerce_to(d,Ce(G,"String"),"to_str").$to_s(),ke(d["$empty?"]())&&m.$raise(Ce(G,"ArgumentError"),"zero width padding"),ke(S<=m.length))return m;var p=-1,z="";for(S-=m.length;++p<S;)z+=d;return m.$$cast(m+z.slice(0,S))},Ht.$$arity=-2),r.def(J,"$lstrip",er=function(){var S=this;return S.replace(/^\s*/,"")},er.$$arity=0),r.def(J,"$ascii_only?",ar=function(){var ue=this;return ue.match(/[ -~\n]*/)[0]===ue},ar.$$arity=0),r.def(J,"$match",or=function(S,d){var m=or.$$p,p=m||he,z,Z=this;return m&&(or.$$p=null),m&&(or.$$p=null),ke(ke(z=Ce(G,"String")["$==="](S))?z:S["$respond_to?"]("to_str"))&&(S=Ce(G,"Regexp").$new(S.$to_str())),ke(Ce(G,"Regexp")["$==="](S))||Z.$raise(Ce(G,"TypeError"),"wrong argument type "+S.$class()+" (expected Regexp)"),st(S,"match",[Z,d],p.$to_proc())},or.$$arity=-2),r.def(J,"$match?",cr=function(ue,S){var d,m=this;return ke(ke(d=Ce(G,"String")["$==="](ue))?d:ue["$respond_to?"]("to_str"))&&(ue=Ce(G,"Regexp").$new(ue.$to_str())),ke(Ce(G,"Regexp")["$==="](ue))||m.$raise(Ce(G,"TypeError"),"wrong argument type "+ue.$class()+" (expected Regexp)"),ue["$match?"](m,S)},cr.$$arity=-2),r.def(J,"$next",e=function(){var S=this,d=S.length;if(d===0)return S.$$cast("");for(var m=S,p=S.search(/[a-zA-Z0-9]/),z=!1,Z;d--;){if(Z=S.charCodeAt(d),Z>=48&&Z<=57||Z>=65&&Z<=90||Z>=97&&Z<=122)switch(Z){case 57:z=!0,Z=48;break;case 90:z=!0,Z=65;break;case 122:z=!0,Z=97;break;default:z=!1,Z+=1}else p===-1?Z===255?(z=!0,Z=0):(z=!1,Z+=1):z=!0;if(m=m.slice(0,d)+String.fromCharCode(Z)+m.slice(d+1),z&&(d===0||d===p)){switch(Z){case 65:break;case 97:break;default:Z+=1}d===0?m=String.fromCharCode(Z)+m:m=m.slice(0,d)+String.fromCharCode(Z)+m.slice(d),z=!1}if(!z)break}return S.$$cast(m)},e.$$arity=0),r.def(J,"$oct",u=function(){var S=this,d,m=S,p=8;return/^\s*_/.test(m)?0:(m=m.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(z,Z,re,ye){switch(ye.charAt(0)){case"+":case"-":return z;case"0":if(ye.charAt(1)==="x"&&re==="0x")return z}switch(re){case"0b":p=2;break;case"0":case"0o":p=8;break;case"0d":p=10;break;case"0x":p=16;break}return Z+ye}),d=parseInt(m.replace(/_(?!_)/g,""),p),isNaN(d)?0:d)},u.$$arity=0),r.def(J,"$ord",O=function(){var S=this;return S.charCodeAt(0)},O.$$arity=0),r.def(J,"$partition",xe=function(S){var d=this,m,p;return S.$$is_regexp?(p=S.exec(d),p===null?m=-1:(Ce(G,"MatchData").$new(S,p),S=p[0],m=p.index)):(S=Ce(G,"Opal").$coerce_to(S,Ce(G,"String"),"to_str"),m=d.indexOf(S)),m===-1?[d,"",""]:[d.slice(0,m),d.slice(m,m+S.length),d.slice(m+S.length)]},xe.$$arity=1),r.def(J,"$reverse",Xe=function(){var S=this;return S.split("").reverse().join("")},Xe.$$arity=0),r.def(J,"$rindex",ie=function(S,d){var m=this,p,z,Z,re;if(d===void 0)d=m.length;else if(d=Ce(G,"Opal").$coerce_to(d,Ce(G,"Integer"),"to_int"),d<0&&(d+=m.length,d<0))return he;if(S.$$is_regexp){for(z=null,Z=r.global_multiline_regexp(S);re=Z.exec(m),!(re===null||re.index>d);)z=re,Z.lastIndex=z.index+1;z===null?(Ge["~"]=he,p=-1):(Ce(G,"MatchData").$new(Z,z),p=z.index)}else S=Ce(G,"Opal").$coerce_to(S,Ce(G,"String"),"to_str"),p=m.lastIndexOf(S,d);return p===-1?he:p},ie.$$arity=-2),r.def(J,"$rjust",A=function(S,d){var m=this;if(d==null&&(d=" "),S=Ce(G,"Opal").$coerce_to(S,Ce(G,"Integer"),"to_int"),d=Ce(G,"Opal").$coerce_to(d,Ce(G,"String"),"to_str").$to_s(),ke(d["$empty?"]())&&m.$raise(Ce(G,"ArgumentError"),"zero width padding"),ke(S<=m.length))return m;var p=Math.floor(S-m.length),z=Math.floor(p/d.length),Z=Array(z+1).join(d),re=p-Z.length;return m.$$cast(Z+d.slice(0,re)+m)},A.$$arity=-2),r.def(J,"$rpartition",$e=function(S){var d=this,m,p,z,Z;if(S.$$is_regexp){for(p=null,z=r.global_multiline_regexp(S);Z=z.exec(d),Z!==null;)p=Z,z.lastIndex=p.index+1;p===null?m=-1:(Ce(G,"MatchData").$new(z,p),S=p[0],m=p.index)}else S=Ce(G,"Opal").$coerce_to(S,Ce(G,"String"),"to_str"),m=d.lastIndexOf(S);return m===-1?["","",d]:[d.slice(0,m),d.slice(m,m+S.length),d.slice(m+S.length)]},$e.$$arity=1),r.def(J,"$rstrip",$=function(){var S=this;return S.replace(/[\s\u0000]*$/,"")},$.$$arity=0),r.def(J,"$scan",n=function(S){var d=n.$$p,m=d||he,p=this;d&&(n.$$p=null),d&&(n.$$p=null);var z=[],Z=he,re;for(S.$$is_regexp?S=r.global_multiline_regexp(S):(S=Ce(G,"Opal").$coerce_to(S,Ce(G,"String"),"to_str"),S=new RegExp(S.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));(re=S.exec(p))!=null;)Z=Ce(G,"MatchData").$new(S,re),m===he?re.length==1?z.push(re[0]):z.push(Z.$captures()):re.length==1?m(re[0]):m.call(p,Z.$captures()),S.lastIndex===re.index&&(S.lastIndex+=1);return Ge["~"]=Z,m!==he?p:z},n.$$arity=1),r.alias(J,"size","length"),r.alias(J,"slice","[]"),r.def(J,"$split",y=function(S,d){var m,p=this;if(Ge[";"]==null&&(Ge[";"]=he),p.length===0)return[];if(d===void 0)d=0;else if(d=Ce(G,"Opal")["$coerce_to!"](d,Ce(G,"Integer"),"to_int"),d===1)return[p];(S===void 0||S===he)&&(S=ke(m=Ge[";"])?m:" ");var z=[],Z=p.toString(),re=0,ye,q,ee;if(S.$$is_regexp?S=r.global_multiline_regexp(S):(S=Ce(G,"Opal").$coerce_to(S,Ce(G,"String"),"to_str").$to_s(),S===" "?(S=/\s+/gm,Z=Z.replace(/^\s+/,"")):S=new RegExp(S.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm")),z=Z.split(S),z.length===1&&z[0]===Z)return[p.$$cast(z[0])];for(;(q=z.indexOf(void 0))!==-1;)z.splice(q,1);function V(){for(q=0;q<z.length;q++)z[q]=p.$$cast(z[q])}if(d===0){for(;z[z.length-1]==="";)z.length-=1;return V(),z}if(ye=S.exec(Z),d<0){if(ye!==null&&ye[0]===""&&S.source.indexOf("(?=")===-1)for(q=0,ee=ye.length;q<ee;q++)z.push("");return V(),z}if(ye!==null&&ye[0]==="")return z.splice(d-1,z.length-1,z.slice(d-1).join("")),V(),z;if(d>=z.length)return V(),z;for(q=0;ye!==null&&(q++,re=S.lastIndex,q+1!==d);)ye=S.exec(Z);return z.splice(d-1,z.length-1,Z.slice(re)),V(),z},y.$$arity=-1),r.def(J,"$squeeze",W=function(S){var d,m,p=this;if(d=r.slice.call(arguments,0,arguments.length),m=d,m.length===0)return p.$$cast(p.replace(/(.)\1+/g,"$1"));var z=Ie(m);return z===null?p:p.$$cast(p.replace(new RegExp("("+z+")\\1+","g"),"$1"))},W.$$arity=-1),r.def(J,"$start_with?",oe=function(ue){var S,d,m=this;S=r.slice.call(arguments,0,arguments.length),d=S;for(var p=0,z=d.length;p<z;p++){var Z=Ce(G,"Opal").$coerce_to(d[p],Ce(G,"String"),"to_str").$to_s();if(m.indexOf(Z)===0)return!0}return!1},oe.$$arity=-1),r.def(J,"$strip",b=function(){var S=this;return S.replace(/^\s*/,"").replace(/[\s\u0000]*$/,"")},b.$$arity=0),r.def(J,"$sub",_=function(S,d){var m=_.$$p,p=m||he,z=this;m&&(_.$$p=null),m&&(_.$$p=null),S.$$is_regexp||(S=Ce(G,"Opal").$coerce_to(S,Ce(G,"String"),"to_str"),S=new RegExp(S.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var Z,re=S.exec(z);return re===null?(Ge["~"]=he,Z=z.toString()):(Ce(G,"MatchData").$new(S,re),d===void 0?(p===he&&z.$raise(Ce(G,"ArgumentError"),"wrong number of arguments (1 for 2)"),Z=z.slice(0,re.index)+p(re[0])+z.slice(re.index+re[0].length)):d.$$is_hash?Z=z.slice(0,re.index)+d["$[]"](re[0]).$to_s()+z.slice(re.index+re[0].length):(d=Ce(G,"Opal").$coerce_to(d,Ce(G,"String"),"to_str"),d=d.replace(/([\\]+)([0-9+&`'])/g,function(ye,q,ee){if(q.length%2===0)return ye;switch(ee){case"+":for(var V=re.length-1;V>0;V--)if(re[V]!==void 0)return q.slice(1)+re[V];return"";case"&":return q.slice(1)+re[0];case"`":return q.slice(1)+z.slice(0,re.index);case"'":return q.slice(1)+z.slice(re.index+re[0].length);default:return q.slice(1)+(re[ee]||"")}}).replace(/\\\\/g,"\\"),Z=z.slice(0,re.index)+d+z.slice(re.index+re[0].length))),z.$$cast(Z)},_.$$arity=-2),r.alias(J,"succ","next"),r.def(J,"$sum",c=function(S){var d=this;S==null&&(S=16),S=Ce(G,"Opal").$coerce_to(S,Ce(G,"Integer"),"to_int");for(var m=0,p=d.length,z=0;z<p;z++)m+=d.charCodeAt(z);return S<=0?m:m&Math.pow(2,S)-1},c.$$arity=-1),r.def(J,"$swapcase",t=function(){var S=this,d=S.replace(/([a-z]+)|([A-Z]+)/g,function(m,p,z){return p?m.toUpperCase():m.toLowerCase()});return S.constructor===String?d:S.$class().$new(d)},t.$$arity=0),r.def(J,"$to_f",s=function(){var S=this;if(S.charAt(0)==="_")return 0;var d=parseFloat(S.replace(/_/g,""));return isNaN(d)||d==1/0||d==-1/0?0:d},s.$$arity=0),r.def(J,"$to_i",i=function(S){var d=this;S==null&&(S=10);var m,p=d.toLowerCase(),z=Ce(G,"Opal").$coerce_to(S,Ce(G,"Integer"),"to_int");return(z===1||z<0||z>36)&&d.$raise(Ce(G,"ArgumentError"),"invalid radix "+z),/^\s*_/.test(p)?0:(p=p.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(Z,re,ye,q){switch(q.charAt(0)){case"+":case"-":return Z;case"0":if(q.charAt(1)==="x"&&ye==="0x"&&(z===0||z===16))return Z}switch(ye){case"0b":if(z===0||z===2)return z=2,re+q;break;case"0":case"0o":if(z===0||z===8)return z=8,re+q;break;case"0d":if(z===0||z===10)return z=10,re+q;break;case"0x":if(z===0||z===16)return z=16,re+q;break}return Z}),m=parseInt(p.replace(/_(?!_)/g,""),z),isNaN(m)?0:m)},i.$$arity=-1),r.def(J,"$to_proc",j=function(){var S,d=j.$$p,m=d||he,p=this,z=he;return d&&(j.$$p=null),z=Je("$",p.valueOf()),st(p,"proc",[],(S=function(Z){var re=S.$$s||this,ye=S.$$p,q=ye||he,ee,V;ye&&(S.$$p=null),ee=r.slice.call(arguments,0,arguments.length),V=ee,V.length===0&&re.$raise(Ce(G,"ArgumentError"),"no receiver given");var _e=V[0];_e==null&&(_e=he);var Me=_e[z];return Me?(typeof q=="function"&&(Me.$$p=q),V.length===1?Me.call(_e):Me.apply(_e,V.slice(1))):_e.$method_missing.apply(_e,V)},S.$$s=p,S.$$arity=-1,S))},j.$$arity=0),r.def(J,"$to_s",h=function(){var S=this;return S.toString()},h.$$arity=0),r.alias(J,"to_str","to_s"),r.alias(J,"to_sym","intern"),r.def(J,"$tr",g=function(S,d){var m=this;if(S=Ce(G,"Opal").$coerce_to(S,Ce(G,"String"),"to_str").$to_s(),d=Ce(G,"Opal").$coerce_to(d,Ce(G,"String"),"to_str").$to_s(),S.length==0||S===d)return m;var p,z,Z,re,ye,q,ee,V={},_e=S.split(""),Me=_e.length,Te=d.split(""),et=Te.length,ct=!1,it=null;_e[0]==="^"&&_e.length>1&&(ct=!0,_e.shift(),it=Te[et-1],Me-=1);var Ne=[],Se=null;for(z=!1,p=0;p<Me;p++)if(re=_e[p],Se==null)Se=re,Ne.push(re);else if(re==="-")Se==="-"?(Ne.push("-"),Ne.push("-")):p==Me-1?Ne.push("-"):z=!0;else if(z){for(ye=Se.charCodeAt(0),q=re.charCodeAt(0),ye>q&&m.$raise(Ce(G,"ArgumentError"),'invalid range "'+String.fromCharCode(ye)+"-"+String.fromCharCode(q)+'" in string transliteration'),Z=ye+1;Z<q;Z++)Ne.push(String.fromCharCode(Z));Ne.push(re),z=null,Se=null}else Ne.push(re);if(_e=Ne,Me=_e.length,ct)for(p=0;p<Me;p++)V[_e[p]]=!0;else{if(et>0){var We=[],tt=null;for(z=!1,p=0;p<et;p++)if(re=Te[p],tt==null)tt=re,We.push(re);else if(re==="-")tt==="-"?(We.push("-"),We.push("-")):p==et-1?We.push("-"):z=!0;else if(z){for(ye=tt.charCodeAt(0),q=re.charCodeAt(0),ye>q&&m.$raise(Ce(G,"ArgumentError"),'invalid range "'+String.fromCharCode(ye)+"-"+String.fromCharCode(q)+'" in string transliteration'),Z=ye+1;Z<q;Z++)We.push(String.fromCharCode(Z));We.push(re),z=null,tt=null}else We.push(re);Te=We,et=Te.length}var Qe=Me-et;if(Qe>0){var nt=et>0?Te[et-1]:"";for(p=0;p<Qe;p++)Te.push(nt)}for(p=0;p<Me;p++)V[_e[p]]=Te[p]}var yt="";for(p=0,ee=m.length;p<ee;p++){re=m.charAt(p);var lt=V[re];ct?yt+=lt==null?it:re:yt+=lt??re}return m.$$cast(yt)},g.$$arity=2),r.def(J,"$tr_s",w=function(S,d){var m=this;if(S=Ce(G,"Opal").$coerce_to(S,Ce(G,"String"),"to_str").$to_s(),d=Ce(G,"Opal").$coerce_to(d,Ce(G,"String"),"to_str").$to_s(),S.length==0)return m;var p,z,Z,re,ye,q,ee,V={},_e=S.split(""),Me=_e.length,Te=d.split(""),et=Te.length,ct=!1,it=null;_e[0]==="^"&&_e.length>1&&(ct=!0,_e.shift(),it=Te[et-1],Me-=1);var Ne=[],Se=null;for(z=!1,p=0;p<Me;p++)if(re=_e[p],Se==null)Se=re,Ne.push(re);else if(re==="-")Se==="-"?(Ne.push("-"),Ne.push("-")):p==Me-1?Ne.push("-"):z=!0;else if(z){for(ye=Se.charCodeAt(0),q=re.charCodeAt(0),ye>q&&m.$raise(Ce(G,"ArgumentError"),'invalid range "'+String.fromCharCode(ye)+"-"+String.fromCharCode(q)+'" in string transliteration'),Z=ye+1;Z<q;Z++)Ne.push(String.fromCharCode(Z));Ne.push(re),z=null,Se=null}else Ne.push(re);if(_e=Ne,Me=_e.length,ct)for(p=0;p<Me;p++)V[_e[p]]=!0;else{if(et>0){var We=[],tt=null;for(z=!1,p=0;p<et;p++)if(re=Te[p],Se==null)Se=re,We.push(re);else if(re==="-")tt==="-"?(We.push("-"),We.push("-")):p==et-1?We.push("-"):z=!0;else if(z){for(ye=Se.charCodeAt(0),q=re.charCodeAt(0),ye>q&&m.$raise(Ce(G,"ArgumentError"),'invalid range "'+String.fromCharCode(ye)+"-"+String.fromCharCode(q)+'" in string transliteration'),Z=ye+1;Z<q;Z++)We.push(String.fromCharCode(Z));We.push(re),z=null,Se=null}else We.push(re);Te=We,et=Te.length}var Qe=Me-et;if(Qe>0){var nt=et>0?Te[et-1]:"";for(p=0;p<Qe;p++)Te.push(nt)}for(p=0;p<Me;p++)V[_e[p]]=Te[p]}var yt="",lt=null;for(p=0,ee=m.length;p<ee;p++){re=m.charAt(p);var K=V[re];ct?K==null?lt==null&&(yt+=it,lt=!0):(yt+=re,lt=null):K!=null?(lt==null||lt!==K)&&(yt+=K,lt=K):(yt+=re,lt=null)}return m.$$cast(yt)},w.$$arity=2),r.def(J,"$upcase",C=function(){var S=this;return S.$$cast(S.toUpperCase())},C.$$arity=0),r.def(J,"$upto",F=function(S,d){var m=F.$$p,p=m||he,z=this;if(m&&(F.$$p=null),m&&(F.$$p=null),d==null&&(d=!1),p===he)return z.$enum_for("upto",S,d);S=Ce(G,"Opal").$coerce_to(S,Ce(G,"String"),"to_str");var Z,re,ye=z.toString();if(ye.length===1&&S.length===1)for(Z=ye.charCodeAt(0),re=S.charCodeAt(0);Z<=re&&!(d&&Z===re);)p(String.fromCharCode(Z)),Z+=1;else if(parseInt(ye,10).toString()===ye&&parseInt(S,10).toString()===S)for(Z=parseInt(ye,10),re=parseInt(S,10);Z<=re&&!(d&&Z===re);)p(Z.toString()),Z+=1;else for(;ye.length<=S.length&&ye<=S&&!(d&&ye===S);)p(ye),ye=ye.$succ();return z},F.$$arity=-2);function Ie(ue){function S(V){var _e="",Me,Te=V.length,et,ct,it,Ne,Se;for(Me=0;Me<Te;Me++)if(et=V.charAt(Me),et==="-"&&Me>0&&Me<Te-1&&!ct){for(it=V.charCodeAt(Me-1),Ne=V.charCodeAt(Me+1),it>Ne&&J.$raise(Ce(G,"ArgumentError"),'invalid range "'+it+"-"+Ne+'" in string transliteration'),Se=it+1;Se<Ne+1;Se++)_e+=String.fromCharCode(Se);ct=!0,Me++}else ct=et==="\\",_e+=et;return _e}function d(V,_e){if(V.length===0)return _e;var Me="",Te,et=V.length,ct;for(Te=0;Te<et;Te++)ct=V.charAt(Te),_e.indexOf(ct)!==-1&&(Me+=ct);return Me}var m,p,z,Z,re,ye,q="",ee="";for(m=0,p=ue.length;m<p;m++)z=Ce(G,"Opal").$coerce_to(ue[m],Ce(G,"String"),"to_str"),Z=z.charAt(0)==="^"&&z.length>1,z=S(Z?z.slice(1):z),Z?ee=d(ee,z):q=d(q,z);if(q.length>0&&ee.length>0){for(ye="",m=0,p=q.length;m<p;m++)re=q.charAt(m),ee.indexOf(re)===-1&&(ye+=re);q=ye,ee=""}return q.length>0?"["+Ce(G,"Regexp").$escape(q)+"]":ee.length>0?"[^"+Ce(G,"Regexp").$escape(ee)+"]":null}return r.def(J,"$instance_variables",N=function(){var S=this;return[]},N.$$arity=0),r.defs(J,"$_load",x=function(S){var d,m,p=this;return d=r.slice.call(arguments,0,arguments.length),m=d,st(p,"new",r.to_a(m))},x.$$arity=-1),r.def(J,"$unicode_normalize",f=function(S){var d=this;return d.toString()},f.$$arity=-1),r.def(J,"$unicode_normalized?",L=function(ue){var S=this;return!0},L.$$arity=-1),r.def(J,"$unpack",ae=function(S){var d=this;return d.$raise("To use String#unpack, you must first require 'corelib/string/unpack'.")},ae.$$arity=1),r.def(J,"$unpack1",Pe=function(S){var d=this;return d.$raise("To use String#unpack1, you must first require 'corelib/string/unpack'.")},Pe.$$arity=1),he&&"unpack1"}(Fe[0],String,Fe),r.const_set(Fe[0],"Symbol",Ce(Fe,"String"))},Opal.modules["corelib/enumerable"]=function(r){function Re(Ye,pe){return typeof Ye=="number"&&typeof pe=="number"?Ye>pe:Ye["$>"](pe)}function Je(Ye,pe){return typeof Ye=="number"&&typeof pe=="number"?Ye*pe:Ye["$*"](pe)}function Ze(Ye,pe){return typeof Ye=="number"&&typeof pe=="number"?Ye<pe:Ye["$<"](pe)}function Fe(Ye,pe){return typeof Ye=="number"&&typeof pe=="number"?Ye+pe:Ye["$+"](pe)}function he(Ye,pe){return typeof Ye=="number"&&typeof pe=="number"?Ye-pe:Ye["$-"](pe)}function gt(Ye,pe){return typeof Ye=="number"&&typeof pe=="number"?Ye/pe:Ye["$/"](pe)}function Ce(Ye,pe){return typeof Ye=="number"&&typeof pe=="number"?Ye<=pe:Ye["$<="](pe)}var R=r.top,Gt=[],B=r.nil,ke=r.const_get_qualified,st=r.const_get_relative,Ge=r.breaker,zt=r.slice,Oe=r.module,ve=r.truthy,J=r.send,G=r.falsy,Ve=r.hash2,ft=r.lambda;return r.add_stubs(["$each","$public_send","$destructure","$to_enum","$enumerator_size","$new","$yield","$raise","$slice_when","$!","$enum_for","$flatten","$map","$warn","$proc","$==","$nil?","$respond_to?","$coerce_to!","$>","$*","$coerce_to","$try_convert","$<","$+","$-","$ceil","$/","$size","$__send__","$length","$<=","$[]","$push","$<<","$[]=","$===","$inspect","$<=>","$first","$reverse","$sort","$to_proc","$compare","$call","$dup","$to_a","$sort!","$map!","$key?","$values","$zip"]),function(Ye,pe){var De=Oe(Ye,"Enumerable"),ze=[De].concat(pe),ut,xt,At,ht,pt,St,Rt,Et,Bt,qt,Ct,It,Pt,Mt,jt,D,se,le,ge,Le,Ue,qe,wt,Nt,Ft,Ut,Vt,Jt,Kt,Wt,Qt,$r,Ot,Xt,Ht,er,ar,or,cr,e,u,O,xe,Xe,ie,A,$e,$;function n(y){return y.length===0&&(y=[B]),y.length>1&&(y=[y]),y}r.def(De,"$all?",ut=function(y){try{var W=ut.$$p,oe=W||B,b,_,c,t=this;return W&&(ut.$$p=null),W&&(ut.$$p=null),ve(y!==void 0)?J(t,"each",[],(b=function(s){var i=b.$$s||this,j,h,g=B;if(j=r.slice.call(arguments,0,arguments.length),h=j,g=n(h),ve(J(y,"public_send",["==="].concat(r.to_a(g)))))return B;r.ret(!1)},b.$$s=t,b.$$arity=-1,b)):oe!==B?J(t,"each",[],(_=function(s){var i=_.$$s||this,j,h;if(j=r.slice.call(arguments,0,arguments.length),h=j,ve(r.yieldX(oe,r.to_a(h))))return B;r.ret(!1)},_.$$s=t,_.$$arity=-1,_)):J(t,"each",[],(c=function(s){var i=c.$$s||this,j,h;if(j=r.slice.call(arguments,0,arguments.length),h=j,ve(st(ze,"Opal").$destructure(h)))return B;r.ret(!1)},c.$$s=t,c.$$arity=-1,c)),!0}catch(s){if(s===r.returner)return s.$v;throw s}},ut.$$arity=-1),r.def(De,"$any?",xt=function(y){try{var W=xt.$$p,oe=W||B,b,_,c,t=this;return W&&(xt.$$p=null),W&&(xt.$$p=null),ve(y!==void 0)?J(t,"each",[],(b=function(s){var i=b.$$s||this,j,h,g=B;if(j=r.slice.call(arguments,0,arguments.length),h=j,g=n(h),ve(J(y,"public_send",["==="].concat(r.to_a(g)))))r.ret(!0);else return B},b.$$s=t,b.$$arity=-1,b)):oe!==B?J(t,"each",[],(_=function(s){var i=_.$$s||this,j,h;if(j=r.slice.call(arguments,0,arguments.length),h=j,ve(r.yieldX(oe,r.to_a(h))))r.ret(!0);else return B},_.$$s=t,_.$$arity=-1,_)):J(t,"each",[],(c=function(s){var i=c.$$s||this,j,h;if(j=r.slice.call(arguments,0,arguments.length),h=j,ve(st(ze,"Opal").$destructure(h)))r.ret(!0);else return B},c.$$s=t,c.$$arity=-1,c)),!1}catch(s){if(s===r.returner)return s.$v;throw s}},xt.$$arity=-1),r.def(De,"$chunk",At=function(){var W=At.$$p,oe=W||B,b,_,c=this;return W&&(At.$$p=null),W&&(At.$$p=null),oe===B?J(c,"to_enum",["chunk"],(b=function(){var t=b.$$s||this;return t.$enumerator_size()},b.$$s=c,b.$$arity=0,b)):J(ke("::","Enumerator"),"new",[],(_=function(t){var s=_.$$s||this;t==null&&(t=B);var i=B,j=[];function h(){j.length>0&&t.$yield(i,j)}s.$each.$$p=function(g){var w=r.yield1(oe,g);w===B?(h(),j=[],i=B):(i===B||i===w?j.push(g):(h(),j=[g]),i=w)},s.$each(),h()},_.$$s=c,_.$$arity=1,_))},At.$$arity=0),r.def(De,"$chunk_while",ht=function(){var W=ht.$$p,oe=W||B,b,_=this;return W&&(ht.$$p=null),W&&(ht.$$p=null),oe!==B||_.$raise(st(ze,"ArgumentError"),"no block given"),J(_,"slice_when",[],(b=function(c,t){var s=b.$$s||this;return c==null&&(c=B),t==null&&(t=B),r.yieldX(oe,[c,t])["$!"]()},b.$$s=_,b.$$arity=2,b))},ht.$$arity=0),r.def(De,"$collect",pt=function(){var W=pt.$$p,oe=W||B,b,_=this;if(W&&(pt.$$p=null),W&&(pt.$$p=null),oe===B)return J(_,"enum_for",["collect"],(b=function(){var t=b.$$s||this;return t.$enumerator_size()},b.$$s=_,b.$$arity=0,b));var c=[];return _.$each.$$p=function(){var t=r.yieldX(oe,arguments);c.push(t)},_.$each(),c},pt.$$arity=0),r.def(De,"$collect_concat",St=function(){var W=St.$$p,oe=W||B,b,_,c=this;return W&&(St.$$p=null),W&&(St.$$p=null),oe===B?J(c,"enum_for",["collect_concat"],(b=function(){var t=b.$$s||this;return t.$enumerator_size()},b.$$s=c,b.$$arity=0,b)):J(c,"map",[],(_=function(t){var s=_.$$s||this;return t==null&&(t=B),r.yield1(oe,t)},_.$$s=c,_.$$arity=1,_)).$flatten(1)},St.$$arity=0),r.def(De,"$count",Rt=function(W){var oe=Rt.$$p,b=oe||B,_,c,t,s=this,i=B;return oe&&(Rt.$$p=null),oe&&(Rt.$$p=null),i=0,W!=null&&b!==B&&s.$warn("warning: given block not used"),ve(W!=null)?b=J(s,"proc",[],(_=function(j){var h=_.$$s||this,g,w;return g=r.slice.call(arguments,0,arguments.length),w=g,st(ze,"Opal").$destructure(w)["$=="](W)},_.$$s=s,_.$$arity=-1,_)):ve(b["$nil?"]())&&(b=J(s,"proc",[],(c=function(){var j=c.$$s||this;return!0},c.$$s=s,c.$$arity=0,c))),J(s,"each",[],(t=function(j){var h=t.$$s||this,g,w;return g=r.slice.call(arguments,0,arguments.length),w=g,ve(r.yieldX(b,w))?i++:B},t.$$s=s,t.$$arity=-1,t)),i},Rt.$$arity=-1),r.def(De,"$cycle",Et=function(W){var oe=Et.$$p,b=oe||B,_,c=this;if(oe&&(Et.$$p=null),oe&&(Et.$$p=null),W==null&&(W=B),b===B)return J(c,"enum_for",["cycle",W],(_=function(){var g=_.$$s||this;return ve(W["$nil?"]())?ve(g["$respond_to?"]("size"))?ke(st(ze,"Float"),"INFINITY"):B:(W=st(ze,"Opal")["$coerce_to!"](W,st(ze,"Integer"),"to_int"),ve(Re(W,0))?Je(g.$enumerator_size(),W):0)},_.$$s=c,_.$$arity=0,_));if(!ve(W["$nil?"]())){if(W=st(ze,"Opal")["$coerce_to!"](W,st(ze,"Integer"),"to_int"),ve(W<=0))return B}var t,s=[],i,j,h;if(c.$each.$$p=function(){var g=st(ze,"Opal").$destructure(arguments),w=r.yield1(b,g);s.push(g)},c.$each(),t!==void 0)return t;if(s.length===0)return B;if(W===B)for(;;)for(i=0,j=s.length;i<j;i++)h=r.yield1(b,s[i]);else for(;W>1;){for(i=0,j=s.length;i<j;i++)h=r.yield1(b,s[i]);W--}},Et.$$arity=-1),r.def(De,"$detect",Bt=function(W){try{var oe=Bt.$$p,b=oe||B,_,c=this;return oe&&(Bt.$$p=null),oe&&(Bt.$$p=null),b===B?c.$enum_for("detect",W):(J(c,"each",[],(_=function(t){var s=_.$$s||this,i,j,h=B;if(i=r.slice.call(arguments,0,arguments.length),j=i,h=st(ze,"Opal").$destructure(j),ve(r.yield1(b,h)))r.ret(h);else return B},_.$$s=c,_.$$arity=-1,_)),W!==void 0?typeof W=="function"?W():W:B)}catch(t){if(t===r.returner)return t.$v;throw t}},Bt.$$arity=-1),r.def(De,"$drop",qt=function(W){var oe=this;W=st(ze,"Opal").$coerce_to(W,st(ze,"Integer"),"to_int"),ve(W<0)&&oe.$raise(st(ze,"ArgumentError"),"attempt to drop negative size");var b=[],_=0;return oe.$each.$$p=function(){W<=_&&b.push(st(ze,"Opal").$destructure(arguments)),_++},oe.$each(),b},qt.$$arity=1),r.def(De,"$drop_while",Ct=function(){var W=Ct.$$p,oe=W||B,b=this;if(W&&(Ct.$$p=null),W&&(Ct.$$p=null),oe===B)return b.$enum_for("drop_while");var _=[],c=!0;return b.$each.$$p=function(){var t=st(ze,"Opal").$destructure(arguments);if(c){var s=r.yield1(oe,t);G(s)&&(c=!1,_.push(t))}else _.push(t)},b.$each(),_},Ct.$$arity=0),r.def(De,"$each_cons",It=function(W){var oe=It.$$p,b=oe||B,_,c=this;if(oe&&(It.$$p=null),oe&&(It.$$p=null),ve(arguments.length!=1)&&c.$raise(st(ze,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)"),W=st(ze,"Opal").$try_convert(W,st(ze,"Integer"),"to_int"),ve(W<=0)&&c.$raise(st(ze,"ArgumentError"),"invalid size"),b===B)return J(c,"enum_for",["each_cons",W],(_=function(){var i=_.$$s||this,j,h=B;return h=i.$enumerator_size(),ve(h["$nil?"]())?B:ve(ve(j=h["$=="](0))?j:Ze(h,W))?0:Fe(he(h,W),1)},_.$$s=c,_.$$arity=0,_));var t=[],s=B;return c.$each.$$p=function(){var i=st(ze,"Opal").$destructure(arguments);t.push(i),t.length>W&&t.shift(),t.length==W&&r.yield1(b,t.slice(0,W))},c.$each(),s},It.$$arity=1),r.def(De,"$each_entry",Pt=function(W){var oe=Pt.$$p,b=oe||B,_,c,t,s=this;return oe&&(Pt.$$p=null),oe&&(Pt.$$p=null),_=r.slice.call(arguments,0,arguments.length),c=_,b===B?J(s,"to_enum",["each_entry"].concat(r.to_a(c)),(t=function(){var i=t.$$s||this;return i.$enumerator_size()},t.$$s=s,t.$$arity=0,t)):(s.$each.$$p=function(){var i=st(ze,"Opal").$destructure(arguments);r.yield1(b,i)},s.$each.apply(s,c),s)},Pt.$$arity=-1),r.def(De,"$each_slice",Mt=function(W){var oe=Mt.$$p,b=oe||B,_,c=this;if(oe&&(Mt.$$p=null),oe&&(Mt.$$p=null),W=st(ze,"Opal").$coerce_to(W,st(ze,"Integer"),"to_int"),ve(W<=0)&&c.$raise(st(ze,"ArgumentError"),"invalid slice size"),b===B)return J(c,"enum_for",["each_slice",W],(_=function(){var i=_.$$s||this;return ve(i["$respond_to?"]("size"))?gt(i.$size(),W).$ceil():B},_.$$s=c,_.$$arity=0,_));var t,s=[];return c.$each.$$p=function(){var i=st(ze,"Opal").$destructure(arguments);s.push(i),s.length===W&&(r.yield1(b,s),s=[])},c.$each(),t!==void 0?t:(s.length>0&&r.yield1(b,s),B)},Mt.$$arity=1),r.def(De,"$each_with_index",jt=function(W){var oe=jt.$$p,b=oe||B,_,c,t,s=this;if(oe&&(jt.$$p=null),oe&&(jt.$$p=null),_=r.slice.call(arguments,0,arguments.length),c=_,b===B)return J(s,"enum_for",["each_with_index"].concat(r.to_a(c)),(t=function(){var h=t.$$s||this;return h.$enumerator_size()},t.$$s=s,t.$$arity=0,t));var i,j=0;return s.$each.$$p=function(){var h=st(ze,"Opal").$destructure(arguments);b(h,j),j++},s.$each.apply(s,c),i!==void 0?i:s},jt.$$arity=-1),r.def(De,"$each_with_object",D=function(W){var oe=D.$$p,b=oe||B,_,c=this;if(oe&&(D.$$p=null),oe&&(D.$$p=null),b===B)return J(c,"enum_for",["each_with_object",W],(_=function(){var s=_.$$s||this;return s.$enumerator_size()},_.$$s=c,_.$$arity=0,_));var t;return c.$each.$$p=function(){var s=st(ze,"Opal").$destructure(arguments);b(s,W)},c.$each(),t!==void 0?t:W},D.$$arity=1),r.def(De,"$entries",se=function(W){var oe,b,_=this;oe=r.slice.call(arguments,0,arguments.length),b=oe;var c=[];return _.$each.$$p=function(){c.push(st(ze,"Opal").$destructure(arguments))},_.$each.apply(_,b),c},se.$$arity=-1),r.alias(De,"find","detect"),r.def(De,"$find_all",le=function(){var W=le.$$p,oe=W||B,b,_=this;if(W&&(le.$$p=null),W&&(le.$$p=null),oe===B)return J(_,"enum_for",["find_all"],(b=function(){var t=b.$$s||this;return t.$enumerator_size()},b.$$s=_,b.$$arity=0,b));var c=[];return _.$each.$$p=function(){var t=st(ze,"Opal").$destructure(arguments),s=r.yield1(oe,t);ve(s)&&c.push(t)},_.$each(),c},le.$$arity=0),r.def(De,"$find_index",ge=function(W){try{var oe=ge.$$p,b=oe||B,_,c,t=this,s=B;return oe&&(ge.$$p=null),oe&&(ge.$$p=null),ve(W===void 0&&b===B)?t.$enum_for("find_index"):(W!=null&&b!==B&&t.$warn("warning: given block not used"),s=0,ve(W!=null)?J(t,"each",[],(_=function(i){var j=_.$$s||this,h,g;return h=r.slice.call(arguments,0,arguments.length),g=h,st(ze,"Opal").$destructure(g)["$=="](W)&&r.ret(s),s+=1},_.$$s=t,_.$$arity=-1,_)):J(t,"each",[],(c=function(i){var j=c.$$s||this,h,g;return h=r.slice.call(arguments,0,arguments.length),g=h,ve(r.yieldX(b,r.to_a(g)))&&r.ret(s),s+=1},c.$$s=t,c.$$arity=-1,c)),B)}catch(i){if(i===r.returner)return i.$v;throw i}},ge.$$arity=-1),r.def(De,"$first",Le=function(W){try{var oe,b,_=this,c=B,t=B;return ve(W===void 0)?J(_,"each",[],(oe=function(s){var i=oe.$$s||this;s==null&&(s=B),r.ret(s)},oe.$$s=_,oe.$$arity=1,oe)):(c=[],W=st(ze,"Opal").$coerce_to(W,st(ze,"Integer"),"to_int"),ve(W<0)&&_.$raise(st(ze,"ArgumentError"),"attempt to take negative size"),ve(W==0)?[]:(t=0,J(_,"each",[],(b=function(s){var i=b.$$s||this,j,h;if(j=r.slice.call(arguments,0,arguments.length),h=j,c.push(st(ze,"Opal").$destructure(h)),ve(W<=++t))r.ret(c);else return B},b.$$s=_,b.$$arity=-1,b)),c))}catch(s){if(s===r.returner)return s.$v;throw s}},Le.$$arity=-1),r.alias(De,"flat_map","collect_concat"),r.def(De,"$grep",Ue=function(W){var oe=Ue.$$p,b=oe||B,_,c=this,t=B;return oe&&(Ue.$$p=null),oe&&(Ue.$$p=null),t=[],J(c,"each",[],(_=function(s){var i=_.$$s||this,j,h,g=B;return j=r.slice.call(arguments,0,arguments.length),h=j,g=n(h),ve(J(W,"__send__",["==="].concat(r.to_a(g))))?(b!==B?(ve(Re(h.$length(),1))&&(h=[h]),h=r.yieldX(b,r.to_a(h))):ve(Ce(h.$length(),1))&&(h=h["$[]"](0)),t.$push(h)):B},_.$$s=c,_.$$arity=-1,_)),t},Ue.$$arity=1),r.def(De,"$grep_v",qe=function(W){var oe=qe.$$p,b=oe||B,_,c=this,t=B;return oe&&(qe.$$p=null),oe&&(qe.$$p=null),t=[],J(c,"each",[],(_=function(s){var i=_.$$s||this,j,h,g=B;return j=r.slice.call(arguments,0,arguments.length),h=j,g=n(h),ve(J(W,"__send__",["==="].concat(r.to_a(g))))?B:(b!==B?(ve(Re(h.$length(),1))&&(h=[h]),h=r.yieldX(b,r.to_a(h))):ve(Ce(h.$length(),1))&&(h=h["$[]"](0)),t.$push(h))},_.$$s=c,_.$$arity=-1,_)),t},qe.$$arity=1),r.def(De,"$group_by",wt=function(){var W=wt.$$p,oe=W||B,b,_,c=this,t=B,s=B;if(W&&(wt.$$p=null),W&&(wt.$$p=null),oe===B)return J(c,"enum_for",["group_by"],(b=function(){var j=b.$$s||this;return j.$enumerator_size()},b.$$s=c,b.$$arity=0,b));t=Ve([],{});var i;return c.$each.$$p=function(){var j=st(ze,"Opal").$destructure(arguments),h=r.yield1(oe,j);(ve(_=t["$[]"](h))?_:(s=[h,[]],J(t,"[]=",r.to_a(s)),s[he(s.length,1)]))["$<<"](j)},c.$each(),i!==void 0?i:t},wt.$$arity=0),r.def(De,"$include?",Nt=function(y){try{var W,oe=this;return J(oe,"each",[],(W=function(b){var _=W.$$s||this,c,t;if(c=r.slice.call(arguments,0,arguments.length),t=c,st(ze,"Opal").$destructure(t)["$=="](y))r.ret(!0);else return B},W.$$s=oe,W.$$arity=-1,W)),!1}catch(b){if(b===r.returner)return b.$v;throw b}},Nt.$$arity=1),r.def(De,"$inject",Ft=function(W,oe){var b=Ft.$$p,_=b||B,c=this;b&&(Ft.$$p=null),b&&(Ft.$$p=null);var t=W;return _!==B&&oe===void 0?c.$each.$$p=function(){var s=st(ze,"Opal").$destructure(arguments);if(t===void 0){t=s;return}s=r.yieldX(_,[t,s]),t=s}:(oe===void 0&&(st(ze,"Symbol")["$==="](W)||c.$raise(st(ze,"TypeError"),""+W.$inspect()+" is not a Symbol"),oe=W,t=void 0),c.$each.$$p=function(){var s=st(ze,"Opal").$destructure(arguments);if(t===void 0){t=s;return}t=t.$__send__(oe,s)}),c.$each(),t??B},Ft.$$arity=-1),r.def(De,"$lazy",Ut=function(){var W,oe=this;return J(ke(st(ze,"Enumerator"),"Lazy"),"new",[oe,oe.$enumerator_size()],(W=function(b,_){var c=W.$$s||this,t,s;return b==null&&(b=B),t=r.slice.call(arguments,1,arguments.length),s=t,J(b,"yield",r.to_a(s))},W.$$s=oe,W.$$arity=-2,W))},Ut.$$arity=0),r.def(De,"$enumerator_size",Vt=function(){var W=this;return ve(W["$respond_to?"]("size"))?W.$size():B},Vt.$$arity=0),r.alias(De,"map","collect"),r.def(De,"$max",Jt=function(W){var oe=Jt.$$p,b=oe||B,_=this;if(oe&&(Jt.$$p=null),oe&&(Jt.$$p=null),W===void 0||W===B){var c,t;return _.$each.$$p=function(){var s=st(ze,"Opal").$destructure(arguments);if(c===void 0){c=s;return}b!==B?t=r.yieldX(b,[s,c]):t=s["$<=>"](c),t===B&&_.$raise(st(ze,"ArgumentError"),"comparison failed"),t>0&&(c=s)},_.$each(),c===void 0?B:c}return W=st(ze,"Opal").$coerce_to(W,st(ze,"Integer"),"to_int"),J(_,"sort",[],b.$to_proc()).$reverse().$first(W)},Jt.$$arity=-1),r.def(De,"$max_by",Kt=function(){var W=Kt.$$p,oe=W||B,b,_=this;if(W&&(Kt.$$p=null),W&&(Kt.$$p=null),!ve(oe))return J(_,"enum_for",["max_by"],(b=function(){var s=b.$$s||this;return s.$enumerator_size()},b.$$s=_,b.$$arity=0,b));var c,t;return _.$each.$$p=function(){var s=st(ze,"Opal").$destructure(arguments),i=r.yield1(oe,s);if(c===void 0){c=s,t=i;return}i["$<=>"](t)>0&&(c=s,t=i)},_.$each(),c===void 0?B:c},Kt.$$arity=0),r.alias(De,"member?","include?"),r.def(De,"$min",Wt=function(){var W=Wt.$$p,oe=W||B,b=this;W&&(Wt.$$p=null),W&&(Wt.$$p=null);var _;return oe!==B?b.$each.$$p=function(){var c=st(ze,"Opal").$destructure(arguments);if(_===void 0){_=c;return}var t=oe(c,_);t===B&&b.$raise(st(ze,"ArgumentError"),"comparison failed"),t<0&&(_=c)}:b.$each.$$p=function(){var c=st(ze,"Opal").$destructure(arguments);if(_===void 0){_=c;return}st(ze,"Opal").$compare(c,_)<0&&(_=c)},b.$each(),_===void 0?B:_},Wt.$$arity=0),r.def(De,"$min_by",Qt=function(){var W=Qt.$$p,oe=W||B,b,_=this;if(W&&(Qt.$$p=null),W&&(Qt.$$p=null),!ve(oe))return J(_,"enum_for",["min_by"],(b=function(){var s=b.$$s||this;return s.$enumerator_size()},b.$$s=_,b.$$arity=0,b));var c,t;return _.$each.$$p=function(){var s=st(ze,"Opal").$destructure(arguments),i=r.yield1(oe,s);if(c===void 0){c=s,t=i;return}i["$<=>"](t)<0&&(c=s,t=i)},_.$each(),c===void 0?B:c},Qt.$$arity=0),r.def(De,"$minmax",$r=function(){var W=$r.$$p,oe=W||B,b,_,c=this;W&&($r.$$p=null),W&&($r.$$p=null),oe=ve(b=oe)?b:J(c,"proc",[],(_=function(j,h){var g=_.$$s||this;return j==null&&(j=B),h==null&&(h=B),j["$<=>"](h)},_.$$s=c,_.$$arity=2,_));var t=B,s=B,i=!0;return c.$each.$$p=function(){var j=st(ze,"Opal").$destructure(arguments);if(i)t=s=j,i=!1;else{var h=oe.$call(t,j);h===B?c.$raise(st(ze,"ArgumentError"),"comparison failed"):h>0&&(t=j);var g=oe.$call(s,j);g===B?c.$raise(st(ze,"ArgumentError"),"comparison failed"):g<0&&(s=j)}},c.$each(),[t,s]},$r.$$arity=0),r.def(De,"$minmax_by",Ot=function(){var W=Ot.$$p,oe=W||B,b=this;return W&&(Ot.$$p=null),W&&(Ot.$$p=null),b.$raise(st(ze,"NotImplementedError"))},Ot.$$arity=0),r.def(De,"$none?",Xt=function(y){try{var W=Xt.$$p,oe=W||B,b,_,c,t=this;return W&&(Xt.$$p=null),W&&(Xt.$$p=null),ve(y!==void 0)?J(t,"each",[],(b=function(s){var i=b.$$s||this,j,h,g=B;if(j=r.slice.call(arguments,0,arguments.length),h=j,g=n(h),ve(J(y,"public_send",["==="].concat(r.to_a(g)))))r.ret(!1);else return B},b.$$s=t,b.$$arity=-1,b)):oe!==B?J(t,"each",[],(_=function(s){var i=_.$$s||this,j,h;if(j=r.slice.call(arguments,0,arguments.length),h=j,ve(r.yieldX(oe,r.to_a(h))))r.ret(!1);else return B},_.$$s=t,_.$$arity=-1,_)):J(t,"each",[],(c=function(s){var i=c.$$s||this,j,h,g=B;if(j=r.slice.call(arguments,0,arguments.length),h=j,g=st(ze,"Opal").$destructure(h),ve(g))r.ret(!1);else return B},c.$$s=t,c.$$arity=-1,c)),!0}catch(s){if(s===r.returner)return s.$v;throw s}},Xt.$$arity=-1),r.def(De,"$one?",Ht=function(y){try{var W=Ht.$$p,oe=W||B,b,_,c,t=this,s=B;return W&&(Ht.$$p=null),W&&(Ht.$$p=null),s=0,ve(y!==void 0)?J(t,"each",[],(b=function(i){var j=b.$$s||this,h,g,w=B;if(h=r.slice.call(arguments,0,arguments.length),g=h,w=n(g),ve(J(y,"public_send",["==="].concat(r.to_a(w)))))if(s=Fe(s,1),ve(Re(s,1)))r.ret(!1);else return B;else return B},b.$$s=t,b.$$arity=-1,b)):oe!==B?J(t,"each",[],(_=function(i){var j=_.$$s||this,h,g;if(h=r.slice.call(arguments,0,arguments.length),g=h,!ve(r.yieldX(oe,r.to_a(g))))return B;if(s=Fe(s,1),ve(Re(s,1)))r.ret(!1);else return B},_.$$s=t,_.$$arity=-1,_)):J(t,"each",[],(c=function(i){var j=c.$$s||this,h,g;if(h=r.slice.call(arguments,0,arguments.length),g=h,!ve(st(ze,"Opal").$destructure(g)))return B;if(s=Fe(s,1),ve(Re(s,1)))r.ret(!1);else return B},c.$$s=t,c.$$arity=-1,c)),s["$=="](1)}catch(i){if(i===r.returner)return i.$v;throw i}},Ht.$$arity=-1),r.def(De,"$partition",er=function(){var W=er.$$p,oe=W||B,b,_=this;if(W&&(er.$$p=null),W&&(er.$$p=null),oe===B)return J(_,"enum_for",["partition"],(b=function(){var i=b.$$s||this;return i.$enumerator_size()},b.$$s=_,b.$$arity=0,b));var c=[],t=[],s;return _.$each.$$p=function(){var i=st(ze,"Opal").$destructure(arguments),j=r.yield1(oe,i);ve(j)?c.push(i):t.push(i)},_.$each(),[c,t]},er.$$arity=0),r.alias(De,"reduce","inject"),r.def(De,"$reject",ar=function(){var W=ar.$$p,oe=W||B,b,_=this;if(W&&(ar.$$p=null),W&&(ar.$$p=null),oe===B)return J(_,"enum_for",["reject"],(b=function(){var t=b.$$s||this;return t.$enumerator_size()},b.$$s=_,b.$$arity=0,b));var c=[];return _.$each.$$p=function(){var t=st(ze,"Opal").$destructure(arguments),s=r.yield1(oe,t);G(s)&&c.push(t)},_.$each(),c},ar.$$arity=0),r.def(De,"$reverse_each",or=function(){var W=or.$$p,oe=W||B,b,_=this;if(W&&(or.$$p=null),W&&(or.$$p=null),oe===B)return J(_,"enum_for",["reverse_each"],(b=function(){var s=b.$$s||this;return s.$enumerator_size()},b.$$s=_,b.$$arity=0,b));var c=[];_.$each.$$p=function(){c.push(arguments)},_.$each();for(var t=c.length-1;t>=0;t--)r.yieldX(oe,c[t]);return c},or.$$arity=0),r.alias(De,"select","find_all"),r.def(De,"$slice_before",cr=function(W){var oe=cr.$$p,b=oe||B,_,c=this;return oe&&(cr.$$p=null),oe&&(cr.$$p=null),ve(W===void 0&&b===B)&&c.$raise(st(ze,"ArgumentError"),"both pattern and block are given"),ve(W!==void 0&&b!==B||arguments.length>1)&&c.$raise(st(ze,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),J(st(ze,"Enumerator"),"new",[],(_=function(t){var s=_.$$s||this;t==null&&(t=B);var i=[];b!==B?W===void 0?s.$each.$$p=function(){var j=st(ze,"Opal").$destructure(arguments),h=r.yield1(b,j);ve(h)&&i.length>0&&(t["$<<"](i),i=[]),i.push(j)}:s.$each.$$p=function(){var j=st(ze,"Opal").$destructure(arguments),h=b(j,W.$dup());ve(h)&&i.length>0&&(t["$<<"](i),i=[]),i.push(j)}:s.$each.$$p=function(){var j=st(ze,"Opal").$destructure(arguments),h=W["$==="](j);ve(h)&&i.length>0&&(t["$<<"](i),i=[]),i.push(j)},s.$each(),i.length>0&&t["$<<"](i)},_.$$s=c,_.$$arity=1,_))},cr.$$arity=-1),r.def(De,"$slice_after",e=function(W){var oe=e.$$p,b=oe||B,_,c,t=this;return oe&&(e.$$p=null),oe&&(e.$$p=null),ve(W===void 0&&b===B)&&t.$raise(st(ze,"ArgumentError"),"both pattern and block are given"),ve(W!==void 0&&b!==B||arguments.length>1)&&t.$raise(st(ze,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),ve(W!==void 0)&&(b=J(t,"proc",[],(_=function(s){var i=_.$$s||this;return s==null&&(s=B),W["$==="](s)},_.$$s=t,_.$$arity=1,_))),J(st(ze,"Enumerator"),"new",[],(c=function(s){var i=c.$$s||this;s==null&&(s=B);var j;i.$each.$$p=function(){var h=st(ze,"Opal").$destructure(arguments),g=r.yield1(b,h);j==null&&(j=[]),ve(g)?(j.push(h),s.$yield(j),j=null):j.push(h)},i.$each(),j!=null&&s.$yield(j)},c.$$s=t,c.$$arity=1,c))},e.$$arity=-1),r.def(De,"$slice_when",u=function(){var W=u.$$p,oe=W||B,b,_=this;return W&&(u.$$p=null),W&&(u.$$p=null),oe!==B||_.$raise(st(ze,"ArgumentError"),"wrong number of arguments (0 for 1)"),J(st(ze,"Enumerator"),"new",[],(b=function(c){var t=b.$$s||this;c==null&&(c=B);var s=B,i=B;t.$each_cons.$$p=function(){var j=st(ze,"Opal").$destructure(arguments),h=j[0],g=j[1],w=r.yieldX(oe,[h,g]);i=g,s===B&&(s=[]),ve(w)?(s.push(h),c.$yield(s),s=[]):s.push(h)},t.$each_cons(2),s!==B&&(s.push(i),c.$yield(s))},b.$$s=_,b.$$arity=1,b))},u.$$arity=0),r.def(De,"$sort",O=function(){var W=O.$$p,oe=W||B,b,_=this,c=B;return W&&(O.$$p=null),W&&(O.$$p=null),c=_.$to_a(),oe!==B||(oe=ft((b=function(t,s){var i=b.$$s||this;return t==null&&(t=B),s==null&&(s=B),t["$<=>"](s)},b.$$s=_,b.$$arity=2,b))),J(c,"sort",[],oe.$to_proc())},O.$$arity=0),r.def(De,"$sort_by",xe=function(){var W=xe.$$p,oe=W||B,b,_,c,t,s=this,i=B;return W&&(xe.$$p=null),W&&(xe.$$p=null),oe===B?J(s,"enum_for",["sort_by"],(b=function(){var j=b.$$s||this;return j.$enumerator_size()},b.$$s=s,b.$$arity=0,b)):(i=J(s,"map",[],(_=function(){var j=_.$$s||this,h=B;return h=st(ze,"Opal").$destructure(arguments),[r.yield1(oe,h),h]},_.$$s=s,_.$$arity=0,_)),J(i,"sort!",[],(c=function(j,h){var g=c.$$s||this;return j==null&&(j=B),h==null&&(h=B),j[0]["$<=>"](h[0])},c.$$s=s,c.$$arity=2,c)),J(i,"map!",[],(t=function(j){var h=t.$$s||this;return j==null&&(j=B),j[1]},t.$$s=s,t.$$arity=1,t)))},xe.$$arity=0),r.def(De,"$sum",Xe=function(W){var oe,b=Xe.$$p,_=b||B,c=this,t=B;return b&&(Xe.$$p=null),W==null&&(W=0),t=W,J(c,"each",[],(oe=function(s){var i=oe.$$s||this,j,h,g=B;return j=r.slice.call(arguments,0,arguments.length),h=j,g=function(){return _!==B?r.yieldX(_,r.to_a(h)):st(ze,"Opal").$destructure(h)}(),t=Fe(t,g)},oe.$$s=c,oe.$$arity=-1,oe)),t},Xe.$$arity=-1),r.def(De,"$take",ie=function(W){var oe=this;return oe.$first(W)},ie.$$arity=1),r.def(De,"$take_while",A=function(){try{var W=A.$$p,oe=W||B,b,_=this,c=B;return W&&(A.$$p=null),W&&(A.$$p=null),ve(oe)?(c=[],J(_,"each",[],(b=function(t){var s=b.$$s||this,i,j,h=B;return i=r.slice.call(arguments,0,arguments.length),j=i,h=st(ze,"Opal").$destructure(j),ve(r.yield1(oe,h))||r.ret(c),c.push(h)},b.$$s=_,b.$$arity=-1,b))):_.$enum_for("take_while")}catch(t){if(t===r.returner)return t.$v;throw t}},A.$$arity=0),r.def(De,"$uniq",$e=function(){var W=$e.$$p,oe=W||B,b,_=this,c=B;return W&&($e.$$p=null),W&&($e.$$p=null),c=Ve([],{}),J(_,"each",[],(b=function(t){var s=b.$$s||this,i,j,h=B,g=B,w=B;return i=r.slice.call(arguments,0,arguments.length),j=i,h=st(ze,"Opal").$destructure(j),g=function(){return oe!==B?r.yield1(oe,h):h}(),ve(c["$key?"](g))?B:(w=[g,h],J(c,"[]=",r.to_a(w)),w[he(w.length,1)])},b.$$s=_,b.$$arity=-1,b)),c.$values()},$e.$$arity=0),r.alias(De,"to_a","entries"),r.def(De,"$zip",$=function(W){var oe=$.$$p,b=oe||B,_,c,t=this;return oe&&($.$$p=null),oe&&($.$$p=null),_=r.slice.call(arguments,0,arguments.length),c=_,J(t.$to_a(),"zip",r.to_a(c))},$.$$arity=-1)}(Gt[0],Gt)},Opal.modules["corelib/enumerator"]=function(r){function Re(zt,Oe){return typeof zt=="number"&&typeof Oe=="number"?zt+Oe:zt["$+"](Oe)}function Je(zt,Oe){return typeof zt=="number"&&typeof Oe=="number"?zt<Oe:zt["$<"](Oe)}var Ze=r.top,Fe=[],he=r.nil,gt=r.const_get_qualified,Ce=r.const_get_relative,R=r.breaker,Gt=r.slice,B=r.klass,ke=r.truthy,st=r.send,Ge=r.falsy;return r.add_stubs(["$require","$include","$allocate","$new","$to_proc","$coerce_to","$nil?","$empty?","$+","$class","$__send__","$===","$call","$enum_for","$size","$destructure","$inspect","$any?","$[]","$raise","$yield","$each","$enumerator_size","$respond_to?","$try_convert","$<","$for"]),Ze.$require("corelib/enumerable"),function(zt,Oe,ve){var J=B(zt,Oe,"Enumerator"),G=[J].concat(ve),Ve,ft,Ye,pe,De,ze;return J.$$prototype.size=J.$$prototype.args=J.$$prototype.object=J.$$prototype.method=he,J.$include(Ce(G,"Enumerable")),J.$$prototype.$$is_enumerator=!0,r.defs(J,"$for",Ve=function(ut,xt,At){var ht=Ve.$$p,pt=ht||he,St,Rt,Et,Bt=this;ht&&(Ve.$$p=null),ht&&(Ve.$$p=null),St=r.slice.call(arguments,1,arguments.length),St.length>0&&(Rt=St[0],St.splice(0,1)),Rt==null&&(Rt="each"),Et=St;var qt=Bt.$allocate();return qt.object=ut,qt.size=pt,qt.method=Rt,qt.args=Et,qt},Ve.$$arity=-2),r.def(J,"$initialize",ft=function(xt){var At=ft.$$p,ht=At||he,pt,St=this;return At&&(ft.$$p=null),At&&(ft.$$p=null),pt=r.slice.call(arguments,0,arguments.length),ke(ht)?(St.object=st(Ce(G,"Generator"),"new",[],ht.$to_proc()),St.method="each",St.args=[],St.size=arguments[0]||he,ke(St.size)?St.size=Ce(G,"Opal").$coerce_to(St.size,Ce(G,"Integer"),"to_int"):he):(St.object=arguments[0],St.method=arguments[1]||"each",St.args=Gt.call(arguments,2),St.size=he)},ft.$$arity=-1),r.def(J,"$each",Ye=function(xt){var At=Ye.$$p,ht=At||he,pt,St,Rt,Et=this;return At&&(Ye.$$p=null),At&&(Ye.$$p=null),pt=r.slice.call(arguments,0,arguments.length),St=pt,ke(ke(Rt=ht["$nil?"]())?St["$empty?"]():Rt)?Et:(St=Re(Et.args,St),ke(ht["$nil?"]())?st(Et.$class(),"new",[Et.object,Et.method].concat(r.to_a(St))):st(Et.object,"__send__",[Et.method].concat(r.to_a(St)),ht.$to_proc()))},Ye.$$arity=-1),r.def(J,"$size",pe=function(){var xt=this;return ke(Ce(G,"Proc")["$==="](xt.size))?st(xt.size,"call",r.to_a(xt.args)):xt.size},pe.$$arity=0),r.def(J,"$with_index",De=function(xt){var At=De.$$p,ht=At||he,pt,St=this;if(At&&(De.$$p=null),At&&(De.$$p=null),xt==null&&(xt=0),xt=function(){return ke(xt)?Ce(G,"Opal").$coerce_to(xt,Ce(G,"Integer"),"to_int"):0}(),!ke(ht))return st(St,"enum_for",["with_index",xt],(pt=function(){var Bt=pt.$$s||this;return Bt.$size()},pt.$$s=St,pt.$$arity=0,pt));var Rt,Et=xt;return St.$each.$$p=function(){var Bt=Ce(G,"Opal").$destructure(arguments),qt=ht(Bt,Et);return Et++,qt},St.$each()},De.$$arity=-1),r.alias(J,"with_object","each_with_object"),r.def(J,"$inspect",ze=function(){var xt=this,At=he;return At="#<"+xt.$class()+": "+xt.object.$inspect()+":"+xt.method,ke(xt.args["$any?"]())&&(At=Re(At,"("+xt.args.$inspect()["$[]"](Ce(G,"Range").$new(1,-2))+")")),Re(At,">")},ze.$$arity=0),function(ut,xt,At){var ht=B(ut,xt,"Generator"),pt=[ht].concat(At),St,Rt;return ht.$$prototype.block=he,ht.$include(Ce(pt,"Enumerable")),r.def(ht,"$initialize",St=function(){var Bt=St.$$p,qt=Bt||he,Ct=this;return Bt&&(St.$$p=null),Bt&&(St.$$p=null),ke(qt)||Ct.$raise(Ce(pt,"LocalJumpError"),"no block given"),Ct.block=qt},St.$$arity=0),r.def(ht,"$each",Rt=function(Bt){var qt=Rt.$$p,Ct=qt||he,It,Pt,Mt=this,jt=he;qt&&(Rt.$$p=null),qt&&(Rt.$$p=null),It=r.slice.call(arguments,0,arguments.length),Pt=It,jt=st(Ce(pt,"Yielder"),"new",[],Ct.$to_proc());try{Pt.unshift(jt),r.yieldX(Mt.block,Pt)}catch(D){if(D===R)return R.$v;throw D}return Mt},Rt.$$arity=-1),he&&"each"}(G[0],null,G),function(ut,xt,At){var ht=B(ut,xt,"Yielder"),pt=[ht].concat(At),St,Rt,Et;return ht.$$prototype.block=he,r.def(ht,"$initialize",St=function(){var qt=St.$$p,Ct=qt||he,It=this;return qt&&(St.$$p=null),qt&&(St.$$p=null),It.block=Ct},St.$$arity=0),r.def(ht,"$yield",Rt=function(Bt){var qt,Ct,It=this;qt=r.slice.call(arguments,0,arguments.length),Ct=qt;var Pt=r.yieldX(It.block,Ct);if(Pt===R)throw R;return Pt},Rt.$$arity=-1),r.def(ht,"$<<",Et=function(Bt){var qt,Ct,It=this;return qt=r.slice.call(arguments,0,arguments.length),Ct=qt,st(It,"yield",r.to_a(Ct)),It},Et.$$arity=-1),he&&"<<"}(G[0],null,G),function(ut,xt,At){var ht=B(ut,xt,"Lazy"),pt=[ht].concat(At),St,Rt,Et,Bt,qt,Ct,It,Pt,Mt,jt,D,se,le;return ht.$$prototype.enumerator=he,function(ge,Le,Ue){var qe=B(ge,Le,"StopLazyError"),wt=[qe].concat(Ue);return he}(pt[0],Ce(pt,"Exception"),pt),r.def(ht,"$initialize",St=function(Le,Ue){var qe=St.$$p,wt=qe||he,Nt,Ft=this;return qe&&(St.$$p=null),qe&&(St.$$p=null),Ue==null&&(Ue=he),wt!==he||Ft.$raise(Ce(pt,"ArgumentError"),"tried to call lazy new without a block"),Ft.enumerator=Le,st(Ft,r.find_super_dispatcher(Ft,"initialize",St,!1),[Ue],(Nt=function(Ut,Vt){var Jt=Nt.$$s||this,Kt,Wt,Qt;Ut==null&&(Ut=he),Kt=r.slice.call(arguments,1,arguments.length),Wt=Kt;try{return st(Le,"each",r.to_a(Wt),(Qt=function($r){var Ot=Qt.$$s||this,Xt,Ht;Xt=r.slice.call(arguments,0,arguments.length),Ht=Xt,Ht.unshift(Ut),r.yieldX(wt,Ht)},Qt.$$s=Jt,Qt.$$arity=-1,Qt))}catch($r){if(r.rescue($r,[Ce(pt,"Exception")]))try{return he}finally{r.pop_exception()}else throw $r}},Nt.$$s=Ft,Nt.$$arity=-2,Nt))},St.$$arity=-2),r.alias(ht,"force","to_a"),r.def(ht,"$lazy",Rt=function(){var Le=this;return Le},Rt.$$arity=0),r.def(ht,"$collect",Et=function(){var Le=Et.$$p,Ue=Le||he,qe,wt=this;return Le&&(Et.$$p=null),Le&&(Et.$$p=null),ke(Ue)||wt.$raise(Ce(pt,"ArgumentError"),"tried to call lazy map without a block"),st(Ce(pt,"Lazy"),"new",[wt,wt.$enumerator_size()],(qe=function(Nt,Ft){var Ut=qe.$$s||this,Vt,Jt;Nt==null&&(Nt=he),Vt=r.slice.call(arguments,1,arguments.length),Jt=Vt;var Kt=r.yieldX(Ue,Jt);Nt.$yield(Kt)},qe.$$s=wt,qe.$$arity=-2,qe))},Et.$$arity=0),r.def(ht,"$collect_concat",Bt=function(){var Le=Bt.$$p,Ue=Le||he,qe,wt=this;return Le&&(Bt.$$p=null),Le&&(Bt.$$p=null),ke(Ue)||wt.$raise(Ce(pt,"ArgumentError"),"tried to call lazy map without a block"),st(Ce(pt,"Lazy"),"new",[wt,he],(qe=function(Nt,Ft){var Ut=qe.$$s||this,Vt,Jt,Kt,Wt;Nt==null&&(Nt=he),Vt=r.slice.call(arguments,1,arguments.length),Jt=Vt;var Qt=r.yieldX(Ue,Jt);if(Qt["$respond_to?"]("force")&&Qt["$respond_to?"]("each"))st(Qt,"each",[],(Kt=function(Ot){var Xt=Kt.$$s||this;return Ot==null&&(Ot=he),Nt.$yield(Ot)},Kt.$$s=Ut,Kt.$$arity=1,Kt));else{var $r=Ce(pt,"Opal").$try_convert(Qt,Ce(pt,"Array"),"to_ary");$r===he?Nt.$yield(Qt):st(Qt,"each",[],(Wt=function(Ot){var Xt=Wt.$$s||this;return Ot==null&&(Ot=he),Nt.$yield(Ot)},Wt.$$s=Ut,Wt.$$arity=1,Wt))}},qe.$$s=wt,qe.$$arity=-2,qe))},Bt.$$arity=0),r.def(ht,"$drop",qt=function(Le){var Ue,qe=this,wt=he,Nt=he,Ft=he;return Le=Ce(pt,"Opal").$coerce_to(Le,Ce(pt,"Integer"),"to_int"),ke(Je(Le,0))&&qe.$raise(Ce(pt,"ArgumentError"),"attempt to drop negative size"),wt=qe.$enumerator_size(),Nt=function(){return ke(Ce(pt,"Integer")["$==="](wt))&&ke(Je(Le,wt))?Le:wt}(),Ft=0,st(Ce(pt,"Lazy"),"new",[qe,Nt],(Ue=function(Ut,Vt){var Jt=Ue.$$s||this,Kt,Wt;return Ut==null&&(Ut=he),Kt=r.slice.call(arguments,1,arguments.length),Wt=Kt,ke(Je(Ft,Le))?Ft=Re(Ft,1):st(Ut,"yield",r.to_a(Wt))},Ue.$$s=qe,Ue.$$arity=-2,Ue))},qt.$$arity=1),r.def(ht,"$drop_while",Ct=function(){var Le=Ct.$$p,Ue=Le||he,qe,wt=this,Nt=he;return Le&&(Ct.$$p=null),Le&&(Ct.$$p=null),ke(Ue)||wt.$raise(Ce(pt,"ArgumentError"),"tried to call lazy drop_while without a block"),Nt=!0,st(Ce(pt,"Lazy"),"new",[wt,he],(qe=function(Ft,Ut){var Vt=qe.$$s||this,Jt,Kt;if(Ft==null&&(Ft=he),Jt=r.slice.call(arguments,1,arguments.length),Kt=Jt,ke(Nt)){var Wt=r.yieldX(Ue,Kt);Ge(Wt)&&(Nt=!1,st(Ft,"yield",r.to_a(Kt)))}else return st(Ft,"yield",r.to_a(Kt))},qe.$$s=wt,qe.$$arity=-2,qe))},Ct.$$arity=0),r.def(ht,"$enum_for",It=function(Le,Ue){var qe=It.$$p,wt=qe||he,Nt,Ft,Ut,Vt=this;return qe&&(It.$$p=null),qe&&(It.$$p=null),Nt=r.slice.call(arguments,0,arguments.length),Nt.length>0&&(Ft=Nt[0],Nt.splice(0,1)),Ft==null&&(Ft="each"),Ut=Nt,st(Vt.$class(),"for",[Vt,Ft].concat(r.to_a(Ut)),wt.$to_proc())},It.$$arity=-1),r.def(ht,"$find_all",Pt=function(){var Le=Pt.$$p,Ue=Le||he,qe,wt=this;return Le&&(Pt.$$p=null),Le&&(Pt.$$p=null),ke(Ue)||wt.$raise(Ce(pt,"ArgumentError"),"tried to call lazy select without a block"),st(Ce(pt,"Lazy"),"new",[wt,he],(qe=function(Nt,Ft){var Ut=qe.$$s||this,Vt,Jt;Nt==null&&(Nt=he),Vt=r.slice.call(arguments,1,arguments.length),Jt=Vt;var Kt=r.yieldX(Ue,Jt);ke(Kt)&&st(Nt,"yield",r.to_a(Jt))},qe.$$s=wt,qe.$$arity=-2,qe))},Pt.$$arity=0),r.alias(ht,"flat_map","collect_concat"),r.def(ht,"$grep",Mt=function(Le){var Ue=Mt.$$p,qe=Ue||he,wt,Nt,Ft=this;return Ue&&(Mt.$$p=null),Ue&&(Mt.$$p=null),ke(qe)?st(Ce(pt,"Lazy"),"new",[Ft,he],(wt=function(Ut,Vt){var Jt=wt.$$s||this,Kt,Wt;Ut==null&&(Ut=he),Kt=r.slice.call(arguments,1,arguments.length),Wt=Kt;var Qt=Ce(pt,"Opal").$destructure(Wt),$r=Le["$==="](Qt);ke($r)&&($r=r.yield1(qe,Qt),Ut.$yield(r.yield1(qe,Qt)))},wt.$$s=Ft,wt.$$arity=-2,wt)):st(Ce(pt,"Lazy"),"new",[Ft,he],(Nt=function(Ut,Vt){var Jt=Nt.$$s||this,Kt,Wt;Ut==null&&(Ut=he),Kt=r.slice.call(arguments,1,arguments.length),Wt=Kt;var Qt=Ce(pt,"Opal").$destructure(Wt),$r=Le["$==="](Qt);ke($r)&&Ut.$yield(Qt)},Nt.$$s=Ft,Nt.$$arity=-2,Nt))},Mt.$$arity=1),r.alias(ht,"map","collect"),r.alias(ht,"select","find_all"),r.def(ht,"$reject",jt=function(){var Le=jt.$$p,Ue=Le||he,qe,wt=this;return Le&&(jt.$$p=null),Le&&(jt.$$p=null),ke(Ue)||wt.$raise(Ce(pt,"ArgumentError"),"tried to call lazy reject without a block"),st(Ce(pt,"Lazy"),"new",[wt,he],(qe=function(Nt,Ft){var Ut=qe.$$s||this,Vt,Jt;Nt==null&&(Nt=he),Vt=r.slice.call(arguments,1,arguments.length),Jt=Vt;var Kt=r.yieldX(Ue,Jt);Ge(Kt)&&st(Nt,"yield",r.to_a(Jt))},qe.$$s=wt,qe.$$arity=-2,qe))},jt.$$arity=0),r.def(ht,"$take",D=function(Le){var Ue,qe=this,wt=he,Nt=he,Ft=he;return Le=Ce(pt,"Opal").$coerce_to(Le,Ce(pt,"Integer"),"to_int"),ke(Je(Le,0))&&qe.$raise(Ce(pt,"ArgumentError"),"attempt to take negative size"),wt=qe.$enumerator_size(),Nt=function(){return ke(Ce(pt,"Integer")["$==="](wt))&&ke(Je(Le,wt))?Le:wt}(),Ft=0,st(Ce(pt,"Lazy"),"new",[qe,Nt],(Ue=function(Ut,Vt){var Jt=Ue.$$s||this,Kt,Wt;return Ut==null&&(Ut=he),Kt=r.slice.call(arguments,1,arguments.length),Wt=Kt,ke(Je(Ft,Le))?(st(Ut,"yield",r.to_a(Wt)),Ft=Re(Ft,1)):Jt.$raise(Ce(pt,"StopLazyError"))},Ue.$$s=qe,Ue.$$arity=-2,Ue))},D.$$arity=1),r.def(ht,"$take_while",se=function(){var Le=se.$$p,Ue=Le||he,qe,wt=this;return Le&&(se.$$p=null),Le&&(se.$$p=null),ke(Ue)||wt.$raise(Ce(pt,"ArgumentError"),"tried to call lazy take_while without a block"),st(Ce(pt,"Lazy"),"new",[wt,he],(qe=function(Nt,Ft){var Ut=qe.$$s||this,Vt,Jt;Nt==null&&(Nt=he),Vt=r.slice.call(arguments,1,arguments.length),Jt=Vt;var Kt=r.yieldX(Ue,Jt);ke(Kt)?st(Nt,"yield",r.to_a(Jt)):Ut.$raise(Ce(pt,"StopLazyError"))},qe.$$s=wt,qe.$$arity=-2,qe))},se.$$arity=0),r.alias(ht,"to_enum","enum_for"),r.def(ht,"$inspect",le=function(){var Le=this;return"#<"+Le.$class()+": "+Le.enumerator.$inspect()+">"},le.$$arity=0),he&&"inspect"}(G[0],J,G)}(Fe[0],null,Fe)},Opal.modules["corelib/numeric"]=function(r){function Re(ve,J){return typeof ve=="number"&&typeof J=="number"?ve-J:ve["$-"](J)}function Je(ve,J){return typeof ve=="number"&&typeof J=="number"?ve*J:ve["$*"](J)}function Ze(ve,J){return typeof ve=="number"&&typeof J=="number"?ve<J:ve["$<"](J)}function Fe(ve,J){return typeof ve=="number"&&typeof J=="number"?ve/J:ve["$/"](J)}function he(ve,J){return typeof ve=="number"&&typeof J=="number"?ve>J:ve["$>"](J)}var gt=r.top,Ce=[],R=r.nil,Gt=r.const_get_qualified,B=r.const_get_relative,ke=r.breaker,st=r.slice,Ge=r.klass,zt=r.truthy,Oe=r.hash2;return r.add_stubs(["$require","$include","$instance_of?","$class","$Float","$respond_to?","$coerce","$__send__","$===","$raise","$equal?","$-","$*","$div","$<","$-@","$ceil","$to_f","$denominator","$to_r","$==","$floor","$/","$%","$Complex","$zero?","$numerator","$abs","$arg","$coerce_to!","$round","$to_i","$truncate","$>"]),gt.$require("corelib/comparable"),function(ve,J,G){var Ve=Ge(ve,J,"Numeric"),ft=[Ve].concat(G),Ye,pe,De,ze,ut,xt,At,ht,pt,St,Rt,Et,Bt,qt,Ct,It,Pt,Mt,jt,D,se,le,ge,Le,Ue,qe,wt,Nt,Ft,Ut,Vt,Jt,Kt,Wt,Qt,$r,Ot;return Ve.$include(B(ft,"Comparable")),r.def(Ve,"$coerce",Ye=function(Ht){var er=this;return zt(Ht["$instance_of?"](er.$class()))?[Ht,er]:[er.$Float(Ht),er.$Float(er)]},Ye.$$arity=1),r.def(Ve,"$__coerced__",pe=function(Ht,er){var ar,or,cr=this,e=R,u=R,O=R;return zt(er["$respond_to?"]("coerce"))?(or=er.$coerce(cr),ar=r.to_ary(or),e=ar[0]==null?R:ar[0],u=ar[1]==null?R:ar[1],e.$__send__(Ht,u)):function(){return O=Ht,"+"["$==="](O)||"-"["$==="](O)||"*"["$==="](O)||"/"["$==="](O)||"%"["$==="](O)||"&"["$==="](O)||"|"["$==="](O)||"^"["$==="](O)||"**"["$==="](O)?cr.$raise(B(ft,"TypeError"),""+er.$class()+" can't be coerced into Numeric"):">"["$==="](O)||">="["$==="](O)||"<"["$==="](O)||"<="["$==="](O)||"<=>"["$==="](O)?cr.$raise(B(ft,"ArgumentError"),"comparison of "+cr.$class()+" with "+er.$class()+" failed"):R}()},pe.$$arity=2),r.def(Ve,"$<=>",De=function(Xt){var Ht=this;return zt(Ht["$equal?"](Xt))?0:R},De.$$arity=1),r.def(Ve,"$+@",ze=function(){var Xt=this;return Xt},ze.$$arity=0),r.def(Ve,"$-@",ut=function(){var Xt=this;return Re(0,Xt)},ut.$$arity=0),r.def(Ve,"$%",xt=function(Xt){var Ht=this;return Re(Ht,Je(Xt,Ht.$div(Xt)))},xt.$$arity=1),r.def(Ve,"$abs",At=function(){var Ht=this;return Ze(Ht,0)?Ht["$-@"]():Ht},At.$$arity=0),r.def(Ve,"$abs2",ht=function(){var Ht=this;return Je(Ht,Ht)},ht.$$arity=0),r.def(Ve,"$angle",pt=function(){var Ht=this;return Ze(Ht,0)?Gt(B(ft,"Math"),"PI"):0},pt.$$arity=0),r.alias(Ve,"arg","angle"),r.def(Ve,"$ceil",St=function(Ht){var er=this;return Ht==null&&(Ht=0),er.$to_f().$ceil(Ht)},St.$$arity=-1),r.def(Ve,"$conj",Rt=function(){var Ht=this;return Ht},Rt.$$arity=0),r.alias(Ve,"conjugate","conj"),r.def(Ve,"$denominator",Et=function(){var Ht=this;return Ht.$to_r().$denominator()},Et.$$arity=0),r.def(Ve,"$div",Bt=function(Ht){var er=this;return Ht["$=="](0)&&er.$raise(B(ft,"ZeroDivisionError"),"divided by o"),Fe(er,Ht).$floor()},Bt.$$arity=1),r.def(Ve,"$divmod",qt=function(Ht){var er=this;return[er.$div(Ht),er["$%"](Ht)]},qt.$$arity=1),r.def(Ve,"$fdiv",Ct=function(Ht){var er=this;return Fe(er.$to_f(),Ht)},Ct.$$arity=1),r.def(Ve,"$floor",It=function(Ht){var er=this;return Ht==null&&(Ht=0),er.$to_f().$floor(Ht)},It.$$arity=-1),r.def(Ve,"$i",Pt=function(){var Ht=this;return Ht.$Complex(0,Ht)},Pt.$$arity=0),r.def(Ve,"$imag",Mt=function(){var Ht=this;return 0},Mt.$$arity=0),r.alias(Ve,"imaginary","imag"),r.def(Ve,"$integer?",jt=function(){var Xt=this;return!1},jt.$$arity=0),r.alias(Ve,"magnitude","abs"),r.alias(Ve,"modulo","%"),r.def(Ve,"$nonzero?",D=function(){var Xt=this;return zt(Xt["$zero?"]())?R:Xt},D.$$arity=0),r.def(Ve,"$numerator",se=function(){var Ht=this;return Ht.$to_r().$numerator()},se.$$arity=0),r.alias(Ve,"phase","arg"),r.def(Ve,"$polar",le=function(){var Ht=this;return[Ht.$abs(),Ht.$arg()]},le.$$arity=0),r.def(Ve,"$quo",ge=function(Ht){var er=this;return Fe(B(ft,"Opal")["$coerce_to!"](er,B(ft,"Rational"),"to_r"),Ht)},ge.$$arity=1),r.def(Ve,"$real",Le=function(){var Ht=this;return Ht},Le.$$arity=0),r.def(Ve,"$real?",Ue=function(){var Xt=this;return!0},Ue.$$arity=0),r.def(Ve,"$rect",qe=function(){var Ht=this;return[Ht,0]},qe.$$arity=0),r.alias(Ve,"rectangular","rect"),r.def(Ve,"$round",wt=function(Ht){var er=this;return er.$to_f().$round(Ht)},wt.$$arity=-1),r.def(Ve,"$to_c",Nt=function(){var Ht=this;return Ht.$Complex(Ht,0)},Nt.$$arity=0),r.def(Ve,"$to_int",Ft=function(){var Ht=this;return Ht.$to_i()},Ft.$$arity=0),r.def(Ve,"$truncate",Ut=function(Ht){var er=this;return Ht==null&&(Ht=0),er.$to_f().$truncate(Ht)},Ut.$$arity=-1),r.def(Ve,"$zero?",Vt=function(){var Xt=this;return Xt["$=="](0)},Vt.$$arity=0),r.def(Ve,"$positive?",Jt=function(){var Xt=this;return he(Xt,0)},Jt.$$arity=0),r.def(Ve,"$negative?",Kt=function(){var Xt=this;return Ze(Xt,0)},Kt.$$arity=0),r.def(Ve,"$dup",Wt=function(){var Ht=this;return Ht},Wt.$$arity=0),r.def(Ve,"$clone",Qt=function(Ht){var er,ar=this;if(Ht==null)Ht=Oe([],{});else if(!Ht.$$is_hash)throw r.ArgumentError.$new("expected kwargs");return er=Ht.$$smap.freeze,er==null&&(er=!0),ar},Qt.$$arity=-1),r.def(Ve,"$finite?",$r=function(){var Xt=this;return!0},$r.$$arity=0),r.def(Ve,"$infinite?",Ot=function(){var Xt=this;return R},Ot.$$arity=0),R&&"infinite?"}(Ce[0],null,Ce)},Opal.modules["corelib/array"]=function(r){function Re(G,Ve){return typeof G=="number"&&typeof Ve=="number"?G>Ve:G["$>"](Ve)}function Je(G,Ve){return typeof G=="number"&&typeof Ve=="number"?G*Ve:G["$*"](Ve)}function Ze(G,Ve){return typeof G=="number"&&typeof Ve=="number"?G>=Ve:G["$>="](Ve)}function Fe(G,Ve){return typeof G=="number"&&typeof Ve=="number"?G<Ve:G["$<"](Ve)}function he(G,Ve){return typeof G=="number"&&typeof Ve=="number"?G-Ve:G["$-"](Ve)}var gt=r.top,Ce=[],R=r.nil,Gt=r.const_get_qualified,B=r.const_get_relative,ke=r.breaker,st=r.slice,Ge=r.klass,zt=r.truthy,Oe=r.hash2,ve=r.send,J=r.gvars;return r.add_stubs(["$require","$include","$to_a","$warn","$raise","$replace","$respond_to?","$to_ary","$coerce_to","$coerce_to?","$===","$join","$to_str","$class","$hash","$<=>","$==","$object_id","$inspect","$enum_for","$bsearch_index","$to_proc","$nil?","$coerce_to!","$>","$*","$enumerator_size","$empty?","$size","$map","$equal?","$dup","$each","$[]","$dig","$eql?","$length","$begin","$end","$exclude_end?","$flatten","$__id__","$to_s","$new","$max","$min","$!","$>=","$**","$delete_if","$reverse","$rotate","$rand","$at","$keep_if","$shuffle!","$<","$sort","$sort_by","$!=","$times","$[]=","$-","$<<","$values","$is_a?","$last","$first","$upto","$reject","$pristine","$singleton_class"]),gt.$require("corelib/enumerable"),gt.$require("corelib/numeric"),function(G,Ve,ft){var Ye=Ge(G,Ve,"Array"),pe=[Ye].concat(ft),De,ze,ut,xt,At,ht,pt,St,Rt,Et,Bt,qt,Ct,It,Pt,Mt,jt,D,se,le,ge,Le,Ue,qe,wt,Nt,Ft,Ut,Vt,Jt,Kt,Wt,Qt,$r,Ot,Xt,Ht,er,ar,or,cr,e,u,O,xe,Xe,ie,A,$e,$,n,y,W,oe,b,_,c,t,s,i,j,h,g,w,C,F,N,x,f,L,ae,Pe,Ie,ue,S,d,m,p,z,Z,re,ye,q,ee,V,_e,Me,Te,et,ct,it,Ne,Se;Ye.$include(B(pe,"Enumerable")),r.defineProperty(Ye.$$prototype,"$$is_array",!0);function We(K){for(var l=K[0],v=1,I=K.length;v<I;v++)K[v-1]=K[v];return K.pop(),l}function tt(K,l){return l.$$name===r.Array?K:l.$allocate().$replace(K.$to_a())}r.defs(Ye,"$[]",De=function(K){var l,v,I=this;return l=r.slice.call(arguments,0,arguments.length),v=l,tt(v,I)},De.$$arity=-1),r.def(Ye,"$initialize",ze=function(l,v){var I=ze.$$p,U=I||R,P=this;if(I&&(ze.$$p=null),I&&(ze.$$p=null),l==null&&(l=R),v==null&&(v=R),v!==R&&U!==R&&P.$warn("warning: block supersedes default value argument"),l>Gt(B(pe,"Integer"),"MAX")&&P.$raise(B(pe,"ArgumentError"),"array size too big"),arguments.length>2&&P.$raise(B(pe,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)"),arguments.length===0)return P.splice(0,P.length),P;if(arguments.length===1){if(l.$$is_array)return P.$replace(l.$to_a()),P;if(l["$respond_to?"]("to_ary"))return P.$replace(l.$to_ary()),P}l=B(pe,"Opal").$coerce_to(l,B(pe,"Integer"),"to_int"),l<0&&P.$raise(B(pe,"ArgumentError"),"negative array size"),P.splice(0,P.length);var de,be;if(U===R)for(de=0;de<l;de++)P.push(v);else for(de=0,be;de<l;de++)be=U(de),P[de]=be;return P},ze.$$arity=-1),r.defs(Ye,"$try_convert",ut=function(l){var v=this;return B(pe,"Opal")["$coerce_to?"](l,B(pe,"Array"),"to_ary")},ut.$$arity=1),r.def(Ye,"$&",xt=function(K){var l=this;K=function(){return zt(B(pe,"Array")["$==="](K))?K.$to_a():B(pe,"Opal").$coerce_to(K,B(pe,"Array"),"to_ary").$to_a()}();var v=[],I=Oe([],{}),U,P,de;for(U=0,P=K.length;U<P;U++)r.hash_put(I,K[U],!0);for(U=0,P=l.length;U<P;U++)de=l[U],r.hash_delete(I,de)!==void 0&&v.push(de);return v},xt.$$arity=1),r.def(Ye,"$|",At=function(K){var l=this;K=function(){return zt(B(pe,"Array")["$==="](K))?K.$to_a():B(pe,"Opal").$coerce_to(K,B(pe,"Array"),"to_ary").$to_a()}();var v=Oe([],{}),I,U,P;for(I=0,U=l.length;I<U;I++)r.hash_put(v,l[I],!0);for(I=0,U=K.length;I<U;I++)r.hash_put(v,K[I],!0);return v.$keys()},At.$$arity=1),r.def(Ye,"$*",ht=function(K){var l=this;if(zt(K["$respond_to?"]("to_str")))return l.$join(K.$to_str());K=B(pe,"Opal").$coerce_to(K,B(pe,"Integer"),"to_int"),zt(K<0)&&l.$raise(B(pe,"ArgumentError"),"negative argument");for(var v=[],I=l.$to_a(),U=0;U<K;U++)v=v.concat(I);return tt(v,l.$class())},ht.$$arity=1),r.def(Ye,"$+",pt=function(K){var l=this;return K=function(){return zt(B(pe,"Array")["$==="](K))?K.$to_a():B(pe,"Opal").$coerce_to(K,B(pe,"Array"),"to_ary").$to_a()}(),l.concat(K)},pt.$$arity=1),r.def(Ye,"$-",St=function(K){var l=this;if(K=function(){return zt(B(pe,"Array")["$==="](K))?K.$to_a():B(pe,"Opal").$coerce_to(K,B(pe,"Array"),"to_ary").$to_a()}(),zt(l.length===0))return[];if(zt(K.length===0))return l.slice();var v=[],I=Oe([],{}),U,P,de;for(U=0,P=K.length;U<P;U++)r.hash_put(I,K[U],!0);for(U=0,P=l.length;U<P;U++)de=l[U],r.hash_get(I,de)===void 0&&v.push(de);return v},St.$$arity=1),r.def(Ye,"$<<",Rt=function(K){var l=this;return l.push(K),l},Rt.$$arity=1),r.def(Ye,"$<=>",Et=function(K){var l=this;if(zt(B(pe,"Array")["$==="](K)))K=K.$to_a();else if(zt(K["$respond_to?"]("to_ary")))K=K.$to_ary().$to_a();else return R;if(l.$hash()===K.$hash())return 0;for(var v=Math.min(l.length,K.length),I=0;I<v;I++){var U=l[I]["$<=>"](K[I]);if(U!==0)return U}return l.length["$<=>"](K.length)},Et.$$arity=1),r.def(Ye,"$==",Bt=function(K){var l=this,v={};function I(U,P){var de,be,je,Be;if(U===P)return!0;if(!P.$$is_array)return B(pe,"Opal")["$respond_to?"](P,"to_ary")?P["$=="](U):!1;if(U.$$constructor!==Array&&(U=U.$to_a()),P.$$constructor!==Array&&(P=P.$to_a()),U.length!==P.length)return!1;for(v[U.$object_id()]=!0,de=0,be=U.length;de<be;de++)if(je=U[de],Be=P[de],je.$$is_array){if(Be.$$is_array&&Be.length!==je.length||!v.hasOwnProperty(je.$object_id())&&!I(je,Be))return!1}else if(!je["$=="](Be))return!1;return!0}return I(l,K)},Bt.$$arity=1);function Qe(K,l){var v=K.length,I,U,P,de;return I=l.excl,U=r.Opal.$coerce_to(l.begin,r.Integer,"to_int"),P=r.Opal.$coerce_to(l.end,r.Integer,"to_int"),U<0&&(U+=v,U<0)||U>v?R:P<0&&(P+=v,P<0)?[]:(I||(P+=1),de=K.slice(U,P),tt(de,K.$class()))}function nt(K,l,v){var I=K.length,U,P,de,be;return l=r.Opal.$coerce_to(l,r.Integer,"to_int"),l<0&&(l+=I,l<0)?R:v===void 0?l>=I||l<0?R:K[l]:(v=r.Opal.$coerce_to(v,r.Integer,"to_int"),v<0||l>I||l<0?R:(be=K.slice(l,l+v),tt(be,K.$class())))}r.def(Ye,"$[]",qt=function(K,l){var v=this;return K.$$is_range?Qe(v,K):nt(v,K,l)},qt.$$arity=-2),r.def(Ye,"$[]=",Ct=function(K,l,v){var I=this,U=R,P=R,de,be=I.length;if(zt(B(pe,"Range")["$==="](K))){U=function(){return zt(B(pe,"Array")["$==="](l))?l.$to_a():zt(l["$respond_to?"]("to_ary"))?l.$to_ary().$to_a():[l]}();var je=K.excl,Be=B(pe,"Opal").$coerce_to(K.begin,B(pe,"Integer"),"to_int"),Ke=B(pe,"Opal").$coerce_to(K.end,B(pe,"Integer"),"to_int");if(Be<0&&(Be+=be,Be<0&&I.$raise(B(pe,"RangeError"),""+K.$inspect()+" out of range")),Ke<0&&(Ke+=be),je||(Ke+=1),Be>be)for(de=be;de<Be;de++)I[de]=R;return Ke<0?I.splice.apply(I,[Be,0].concat(U)):I.splice.apply(I,[Be,Ke-Be].concat(U)),l}else{zt(v===void 0)?P=1:(P=l,l=v,U=function(){return zt(B(pe,"Array")["$==="](l))?l.$to_a():zt(l["$respond_to?"]("to_ary"))?l.$to_ary().$to_a():[l]}());var we;if(K=B(pe,"Opal").$coerce_to(K,B(pe,"Integer"),"to_int"),P=B(pe,"Opal").$coerce_to(P,B(pe,"Integer"),"to_int"),K<0&&(we=K,K+=be,K<0&&I.$raise(B(pe,"IndexError"),"index "+we+" too small for array; minimum "+-I.length)),P<0&&I.$raise(B(pe,"IndexError"),"negative length ("+P+")"),K>be)for(de=be;de<K;de++)I[de]=R;return v===void 0?I[K]=l:I.splice.apply(I,[K,P].concat(U)),l}},Ct.$$arity=-3),r.def(Ye,"$any?",It=function(K){var l=It.$$p,v=l||R,I=this,U=R,P=R,de=R;for(l&&(It.$$p=null),P=0,de=arguments.length,U=new Array(de);P<de;P++)U[P]=arguments[P];return l&&(It.$$p=null),I.length===0?!1:ve(I,r.find_super_dispatcher(I,"any?",It,!1),U,l)},It.$$arity=-1),r.def(Ye,"$assoc",Pt=function(l){for(var v=this,I=0,U=v.length,P;I<U;I++)if(P=v[I],P.length&&P[0]["$=="](l))return P;return R},Pt.$$arity=1),r.def(Ye,"$at",Mt=function(l){var v=this;return l=B(pe,"Opal").$coerce_to(l,B(pe,"Integer"),"to_int"),l<0&&(l+=v.length),l<0||l>=v.length?R:v[l]},Mt.$$arity=1),r.def(Ye,"$bsearch_index",jt=function(){var l=jt.$$p,v=l||R,I=this;if(l&&(jt.$$p=null),l&&(jt.$$p=null),v===R)return I.$enum_for("bsearch_index");for(var U=0,P=I.length,de,be,je,Be=!1,Ke=R;U<P;){if(de=U+Math.floor((P-U)/2),be=I[de],je=r.yield1(v,be),je===!0)Ke=de,Be=!0;else if(je===!1||je===R)Be=!1;else if(je.$$is_number){if(je===0)return de;Be=je<0}else I.$raise(B(pe,"TypeError"),"wrong argument type "+je.$class()+" (must be numeric, true, false or nil)");Be?P=de:U=de+1}return Ke},jt.$$arity=0),r.def(Ye,"$bsearch",D=function(){var l=D.$$p,v=l||R,I=this,U=R;return l&&(D.$$p=null),l&&(D.$$p=null),v===R?I.$enum_for("bsearch"):(U=ve(I,"bsearch_index",[],v.$to_proc()),U!=null&&U.$$is_number?I[U]:U)},D.$$arity=0),r.def(Ye,"$cycle",se=function(l){var v=se.$$p,I=v||R,U,P,de=this;if(v&&(se.$$p=null),v&&(se.$$p=null),l==null&&(l=R),I===R)return ve(de,"enum_for",["cycle",l],(U=function(){var Ke=U.$$s||this;return zt(l["$nil?"]())?Gt(B(pe,"Float"),"INFINITY"):(l=B(pe,"Opal")["$coerce_to!"](l,B(pe,"Integer"),"to_int"),zt(Re(l,0))?Je(Ke.$enumerator_size(),l):0)},U.$$s=de,U.$$arity=0,U));if(zt(zt(P=de["$empty?"]())?P:l["$=="](0)))return R;var be,je,Be;if(l===R)for(;;)for(be=0,je=de.length;be<je;be++)Be=r.yield1(I,de[be]);else{if(l=B(pe,"Opal")["$coerce_to!"](l,B(pe,"Integer"),"to_int"),l<=0)return de;for(;l>0;){for(be=0,je=de.length;be<je;be++)Be=r.yield1(I,de[be]);l--}}return de},se.$$arity=-1),r.def(Ye,"$clear",le=function(){var l=this;return l.splice(0,l.length),l},le.$$arity=0),r.def(Ye,"$count",ge=function(l){var v=ge.$$p,I=v||R,U,P=this,de=R,be=R,je=R;for(v&&(ge.$$p=null),be=0,je=arguments.length,de=new Array(je);be<je;be++)de[be]=arguments[be];return v&&(ge.$$p=null),l==null&&(l=R),zt(zt(U=l)?U:I)?ve(P,r.find_super_dispatcher(P,"count",ge,!1),de,v):P.$size()},ge.$$arity=-1),r.def(Ye,"$initialize_copy",Le=function(l){var v=this;return v.$replace(l)},Le.$$arity=1),r.def(Ye,"$collect",Ue=function(){var l=Ue.$$p,v=l||R,I,U=this;if(l&&(Ue.$$p=null),l&&(Ue.$$p=null),v===R)return ve(U,"enum_for",["collect"],(I=function(){var Be=I.$$s||this;return Be.$size()},I.$$s=U,I.$$arity=0,I));for(var P=[],de=0,be=U.length;de<be;de++){var je=r.yield1(v,U[de]);P.push(je)}return P},Ue.$$arity=0),r.def(Ye,"$collect!",qe=function(){var K=qe.$$p,l=K||R,v,I=this;if(K&&(qe.$$p=null),K&&(qe.$$p=null),l===R)return ve(I,"enum_for",["collect!"],(v=function(){var be=v.$$s||this;return be.$size()},v.$$s=I,v.$$arity=0,v));for(var U=0,P=I.length;U<P;U++){var de=r.yield1(l,I[U]);I[U]=de}return I},qe.$$arity=0);function yt(K,l){return K===l||l===0?1:l>0&&K>l?yt(K-1,l-1)+yt(K-1,l):0}r.def(Ye,"$combination",wt=function(l){var v,I=wt.$$p,U=I||R,P=this,de=R;if(I&&(wt.$$p=null),de=B(pe,"Opal")["$coerce_to!"](l,B(pe,"Integer"),"to_int"),U===R)return ve(P,"enum_for",["combination",de],(v=function(){var vt=v.$$s||this;return yt(vt.length,de)},v.$$s=P,v.$$arity=0,v));var be,je,Be,Ke,we,ot,at;if(de===0)r.yield1(U,[]);else if(de===1)for(be=0,je=P.length;be<je;be++)r.yield1(U,[P[be]]);else if(de===P.length)r.yield1(U,P.slice());else if(de>=0&&de<P.length){for(Be=[],be=0;be<=de+1;be++)Be.push(0);for(Ke=[],we=0,ot=!1,Be[0]=-1;!ot;){for(Ke[we]=P[Be[we+1]];we<de-1;)we++,at=Be[we+1]=Be[we]+1,Ke[we]=P[at];r.yield1(U,Ke.slice()),we++;do ot=we===0,Be[we]++,we--;while(Be[we+1]+de===P.length+we+1)}}return P},wt.$$arity=1),r.def(Ye,"$repeated_combination",Nt=function(l){var v,I=Nt.$$p,U=I||R,P=this,de=R;if(I&&(Nt.$$p=null),de=B(pe,"Opal")["$coerce_to!"](l,B(pe,"Integer"),"to_int"),U===R)return ve(P,"enum_for",["repeated_combination",de],(v=function(){var je=v.$$s||this;return yt(je.length+de-1,de)},v.$$s=P,v.$$arity=0,v));function be(je,Be,Ke,we){if(Ke.length==je){var ot=Ke.slice();r.yield1(U,ot);return}for(var at=Be;at<we.length;at++)Ke.push(we[at]),be(je,at,Ke,we),Ke.pop()}return de>=0&&be(de,0,[],P),P},Nt.$$arity=1),r.def(Ye,"$compact",Ft=function(){for(var l=this,v=[],I=0,U=l.length,P;I<U;I++)(P=l[I])!==R&&v.push(P);return v},Ft.$$arity=0),r.def(Ye,"$compact!",Ut=function(){for(var K=this,l=K.length,v=0,I=K.length;v<I;v++)K[v]===R&&(K.splice(v,1),I--,v--);return K.length===l?R:K},Ut.$$arity=0),r.def(Ye,"$concat",Vt=function(l){var v,I,U,P,de=this;return v=r.slice.call(arguments,0,arguments.length),I=v,I=ve(I,"map",[],(U=function(be){var je=U.$$s||this;return be==null&&(be=R),be=function(){return zt(B(pe,"Array")["$==="](be))?be.$to_a():B(pe,"Opal").$coerce_to(be,B(pe,"Array"),"to_ary").$to_a()}(),zt(be["$equal?"](je))&&(be=be.$dup()),be},U.$$s=de,U.$$arity=1,U)),ve(I,"each",[],(P=function(be){var je=P.$$s||this;be==null&&(be=R);for(var Be=0,Ke=be.length;Be<Ke;Be++)je.push(be[Be])},P.$$s=de,P.$$arity=1,P)),de},Vt.$$arity=-1),r.def(Ye,"$delete",Jt=function(K){var l=Jt.$$p,v=l||R,I=this;l&&(Jt.$$p=null);for(var U=I.length,P=0,de=U;P<de;P++)I[P]["$=="](K)&&(I.splice(P,1),de--,P--);return I.length===U?v!==R?r.yieldX(v,[]):R:K},Jt.$$arity=1),r.def(Ye,"$delete_at",Kt=function(l){var v=this;if(l=B(pe,"Opal").$coerce_to(l,B(pe,"Integer"),"to_int"),l<0&&(l+=v.length),l<0||l>=v.length)return R;var I=v[l];return v.splice(l,1),I},Kt.$$arity=1),r.def(Ye,"$delete_if",Wt=function(){var l=Wt.$$p,v=l||R,I,U=this;if(l&&(Wt.$$p=null),l&&(Wt.$$p=null),v===R)return ve(U,"enum_for",["delete_if"],(I=function(){var je=I.$$s||this;return je.$size()},I.$$s=U,I.$$arity=0,I));for(var P=0,de=U.length,be;P<de;P++)be=v(U[P]),be!==!1&&be!==R&&(U.splice(P,1),de--,P--);return U},Wt.$$arity=0),r.def(Ye,"$dig",Qt=function(l,v){var I,U,P=this,de=R;return I=r.slice.call(arguments,1,arguments.length),U=I,de=P["$[]"](l),de===R||U.length===0?de:(zt(de["$respond_to?"]("dig"))||P.$raise(B(pe,"TypeError"),""+de.$class()+" does not have #dig method"),ve(de,"dig",r.to_a(U)))},Qt.$$arity=-2),r.def(Ye,"$drop",$r=function(l){var v=this;return l<0&&v.$raise(B(pe,"ArgumentError")),v.slice(l)},$r.$$arity=1),r.def(Ye,"$dup",Ot=function(){var l=Ot.$$p,v=l||R,I=this,U=R,P=R,de=R;for(l&&(Ot.$$p=null),P=0,de=arguments.length,U=new Array(de);P<de;P++)U[P]=arguments[P];return I.$$class===r.Array&&I.$$class.$allocate.$$pristine&&I.$copy_instance_variables.$$pristine&&I.$initialize_dup.$$pristine?I.slice(0):ve(I,r.find_super_dispatcher(I,"dup",Ot,!1),U,l)},Ot.$$arity=0),r.def(Ye,"$each",Xt=function(){var l=Xt.$$p,v=l||R,I,U=this;if(l&&(Xt.$$p=null),l&&(Xt.$$p=null),v===R)return ve(U,"enum_for",["each"],(I=function(){var je=I.$$s||this;return je.$size()},I.$$s=U,I.$$arity=0,I));for(var P=0,de=U.length;P<de;P++)var be=r.yield1(v,U[P]);return U},Xt.$$arity=0),r.def(Ye,"$each_index",Ht=function(){var l=Ht.$$p,v=l||R,I,U=this;if(l&&(Ht.$$p=null),l&&(Ht.$$p=null),v===R)return ve(U,"enum_for",["each_index"],(I=function(){var je=I.$$s||this;return je.$size()},I.$$s=U,I.$$arity=0,I));for(var P=0,de=U.length;P<de;P++)var be=r.yield1(v,P);return U},Ht.$$arity=0),r.def(Ye,"$empty?",er=function(){var K=this;return K.length===0},er.$$arity=0),r.def(Ye,"$eql?",ar=function(K){var l=this,v={};function I(U,P){var de,be,je,Be;if(!P.$$is_array||(P=P.$to_a(),U.length!==P.length))return!1;for(v[U.$object_id()]=!0,de=0,be=U.length;de<be;de++)if(je=U[de],Be=P[de],je.$$is_array){if(Be.$$is_array&&Be.length!==je.length||!v.hasOwnProperty(je.$object_id())&&!I(je,Be))return!1}else if(!je["$eql?"](Be))return!1;return!0}return I(l,K)},ar.$$arity=1),r.def(Ye,"$fetch",or=function(l,v){var I=or.$$p,U=I||R,P=this;I&&(or.$$p=null),I&&(or.$$p=null);var de=l;if(l=B(pe,"Opal").$coerce_to(l,B(pe,"Integer"),"to_int"),l<0&&(l+=P.length),l>=0&&l<P.length)return P[l];if(U!==R&&v!=null&&P.$warn("warning: block supersedes default value argument"),U!==R)return U(de);if(v!=null)return v;P.length===0?P.$raise(B(pe,"IndexError"),"index "+de+" outside of array bounds: 0...0"):P.$raise(B(pe,"IndexError"),"index "+de+" outside of array bounds: -"+P.length+"..."+P.length)},or.$$arity=-2),r.def(Ye,"$fill",cr=function(l){var v=cr.$$p,I=v||R,U,P,de,be,je=this,Be=R,Ke=R,we=R,ot=R,at=R;v&&(cr.$$p=null),v&&(cr.$$p=null),U=r.slice.call(arguments,0,arguments.length),P=U;var vt,Dt,bt;if(zt(I)?(zt(P.length>2)&&je.$raise(B(pe,"ArgumentError"),"wrong number of arguments ("+P.$length()+" for 0..2)"),be=P,de=r.to_ary(be),Be=de[0]==null?R:de[0],Ke=de[1]==null?R:de[1]):(zt(P.length==0)?je.$raise(B(pe,"ArgumentError"),"wrong number of arguments (0 for 1..3)"):zt(P.length>3)&&je.$raise(B(pe,"ArgumentError"),"wrong number of arguments ("+P.$length()+" for 1..3)"),be=P,de=r.to_ary(be),we=de[0]==null?R:de[0],Be=de[1]==null?R:de[1],Ke=de[2]==null?R:de[2]),zt(B(pe,"Range")["$==="](Be))){if(zt(Ke)&&je.$raise(B(pe,"TypeError"),"length invalid with range"),ot=B(pe,"Opal").$coerce_to(Be.$begin(),B(pe,"Integer"),"to_int"),zt(ot<0)&&(ot+=this.length),zt(ot<0)&&je.$raise(B(pe,"RangeError"),""+Be.$inspect()+" out of range"),at=B(pe,"Opal").$coerce_to(Be.$end(),B(pe,"Integer"),"to_int"),zt(at<0)&&(at+=this.length),zt(Be["$exclude_end?"]())||(at+=1),zt(at<=ot))return je}else if(zt(Be))if(ot=B(pe,"Opal").$coerce_to(Be,B(pe,"Integer"),"to_int"),zt(ot<0)&&(ot+=this.length),zt(ot<0)&&(ot=0),zt(Ke)){if(at=B(pe,"Opal").$coerce_to(Ke,B(pe,"Integer"),"to_int"),zt(at==0))return je;at+=ot}else at=this.length;else ot=0,at=this.length;if(zt(ot>this.length))for(vt=this.length;vt<at;vt++)je[vt]=R;if(zt(at>this.length)&&(this.length=at),zt(I))for(Dt=this.length;ot<at;ot++)bt=I(ot),je[ot]=bt;else for(Dt=this.length;ot<at;ot++)je[ot]=we;return je},cr.$$arity=-1),r.def(Ye,"$first",e=function(l){var v=this;return l==null?v.length===0?R:v[0]:(l=B(pe,"Opal").$coerce_to(l,B(pe,"Integer"),"to_int"),l<0&&v.$raise(B(pe,"ArgumentError"),"negative array size"),v.slice(0,l))},e.$$arity=-1),r.def(Ye,"$flatten",u=function(l){var v=this;function I(U,P){var de=[],be,je,Be,Ke;for(U=U.$to_a(),be=0,je=U.length;be<je;be++){if(Be=U[be],!B(pe,"Opal")["$respond_to?"](Be,"to_ary",!0)){de.push(Be);continue}if(Ke=Be.$to_ary(),Ke===R){de.push(Be);continue}switch(Ke.$$is_array||v.$raise(B(pe,"TypeError")),Ke===v&&v.$raise(B(pe,"ArgumentError")),P){case void 0:de=de.concat(I(Ke));break;case 0:de.push(Ke);break;default:de.push.apply(de,I(Ke,P-1))}}return de}return l!==void 0&&(l=B(pe,"Opal").$coerce_to(l,B(pe,"Integer"),"to_int")),tt(I(v,l),v.$class())},u.$$arity=-1),r.def(Ye,"$flatten!",O=function(K){var l=this,v=l.$flatten(K);if(l.length==v.length){for(var I=0,U=l.length;I<U&&l[I]===v[I];I++);if(I==U)return R}return l.$replace(v),l},O.$$arity=-1),r.def(Ye,"$hash",xe=function(){var l=this,v=r.hash_ids===void 0,I=["A"],U=l.$object_id(),P,de,be;try{if(v&&(r.hash_ids=Object.create(null)),r.hash_ids[U])return"self";for(be in r.hash_ids)if(P=r.hash_ids[be],l["$eql?"](P))return"self";for(r.hash_ids[U]=l,de=0;de<l.length;de++)P=l[de],I.push(P.$hash());return I.join(",")}finally{v&&(r.hash_ids=void 0)}},xe.$$arity=0),r.def(Ye,"$include?",Xe=function(K){for(var l=this,v=0,I=l.length;v<I;v++)if(l[v]["$=="](K))return!0;return!1},Xe.$$arity=1),r.def(Ye,"$index",ie=function(l){var v=ie.$$p,I=v||R,U=this;v&&(ie.$$p=null),v&&(ie.$$p=null);var P,de,be;if(l!=null&&I!==R&&U.$warn("warning: given block not used"),l!=null){for(P=0,de=U.length;P<de;P++)if(U[P]["$=="](l))return P}else if(I!==R){for(P=0,de=U.length;P<de;P++)if(be=I(U[P]),be!==!1&&be!==R)return P}else return U.$enum_for("index");return R},ie.$$arity=-1),r.def(Ye,"$insert",A=function(l,v){var I,U,P=this;if(I=r.slice.call(arguments,1,arguments.length),U=I,l=B(pe,"Opal").$coerce_to(l,B(pe,"Integer"),"to_int"),U.length>0){if(l<0&&(l+=P.length+1,l<0&&P.$raise(B(pe,"IndexError"),""+l+" is out of bounds")),l>P.length)for(var de=P.length;de<l;de++)P.push(R);P.splice.apply(P,[l,0].concat(U))}return P},A.$$arity=-2),r.def(Ye,"$inspect",$e=function(){for(var l=this,v=[],I=l.$__id__(),U=0,P=l.length;U<P;U++){var de=l["$[]"](U);de.$__id__()===I?v.push("[...]"):v.push(de.$inspect())}return"["+v.join(", ")+"]"},$e.$$arity=0),r.def(Ye,"$join",$=function(l){var v=this;if(J[","]==null&&(J[","]=R),l==null&&(l=R),zt(v.length===0))return"";zt(l===R)&&(l=J[","]);var I=[],U,P,de,be;for(U=0,P=v.length;U<P;U++){if(de=v[U],B(pe,"Opal")["$respond_to?"](de,"to_str")&&(be=de.$to_str(),be!==R)){I.push(be.$to_s());continue}if(B(pe,"Opal")["$respond_to?"](de,"to_ary")&&(be=de.$to_ary(),be===v&&v.$raise(B(pe,"ArgumentError")),be!==R)){I.push(be.$join(l));continue}if(B(pe,"Opal")["$respond_to?"](de,"to_s")&&(be=de.$to_s(),be!==R)){I.push(be);continue}v.$raise(B(pe,"NoMethodError").$new(""+r.inspect(de)+" doesn't respond to #to_str, #to_ary or #to_s","to_str"))}return l===R?I.join(""):I.join(B(pe,"Opal")["$coerce_to!"](l,B(pe,"String"),"to_str").$to_s())},$.$$arity=-1),r.def(Ye,"$keep_if",n=function(){var l=n.$$p,v=l||R,I,U=this;if(l&&(n.$$p=null),l&&(n.$$p=null),v===R)return ve(U,"enum_for",["keep_if"],(I=function(){var je=I.$$s||this;return je.$size()},I.$$s=U,I.$$arity=0,I));for(var P=0,de=U.length,be;P<de;P++)be=v(U[P]),(be===!1||be===R)&&(U.splice(P,1),de--,P--);return U},n.$$arity=0),r.def(Ye,"$last",y=function(l){var v=this;return l==null?v.length===0?R:v[v.length-1]:(l=B(pe,"Opal").$coerce_to(l,B(pe,"Integer"),"to_int"),l<0&&v.$raise(B(pe,"ArgumentError"),"negative array size"),l>v.length&&(l=v.length),v.slice(v.length-l,v.length))},y.$$arity=-1),r.def(Ye,"$length",W=function(){var l=this;return l.length},W.$$arity=0),r.alias(Ye,"map","collect"),r.alias(Ye,"map!","collect!"),r.def(Ye,"$max",oe=function(l){var v=oe.$$p,I=v||R,U=this;return v&&(oe.$$p=null),v&&(oe.$$p=null),ve(U.$each(),"max",[l],I.$to_proc())},oe.$$arity=-1),r.def(Ye,"$min",b=function(){var l=b.$$p,v=l||R,I=this;return l&&(b.$$p=null),l&&(b.$$p=null),ve(I.$each(),"min",[],v.$to_proc())},b.$$arity=0);function lt(K,l){for(var v=l>=0?1:0;l;)v*=K,K--,l--;return v}return r.def(Ye,"$permutation",_=function(l){var v=_.$$p,I=v||R,U,P=this,de=R,be=R;if(v&&(_.$$p=null),v&&(_.$$p=null),I===R)return ve(P,"enum_for",["permutation",l],(U=function(){var ot=U.$$s||this;return lt(ot.length,l===void 0?ot.length:l)},U.$$s=P,U.$$arity=0,U));var je,Be,Ke;if(l===void 0?l=P.length:l=B(pe,"Opal").$coerce_to(l,B(pe,"Integer"),"to_int"),!(l<0||P.length<l))if(l===0)r.yield1(I,[]);else if(l===1)for(var we=0;we<P.length;we++)r.yield1(I,[P[we]]);else de=B(pe,"Array").$new(l),be=B(pe,"Array").$new(P.length,!1),je=function(ot,at,vt,Dt,bt){P=this;for(var ce=0;ce<P.length;ce++)if(Dt["$[]"](ce)["$!"]())if(at[vt]=ce,vt<ot-1)Dt[ce]=!0,je.call(P,ot,at,vt+1,Dt,bt),Dt[ce]=!1;else{Ke=[];for(var Ee=0;Ee<at.length;Ee++)Ke.push(P[at[Ee]]);r.yield1(bt,Ke)}},I!==R?(Be=P.slice(),je.call(Be,l,de,0,be,I)):je.call(P,l,de,0,be,I);return P},_.$$arity=-1),r.def(Ye,"$repeated_permutation",c=function(l){var v,I=c.$$p,U=I||R,P=this,de=R;if(I&&(c.$$p=null),de=B(pe,"Opal")["$coerce_to!"](l,B(pe,"Integer"),"to_int"),U===R)return ve(P,"enum_for",["repeated_permutation",de],(v=function(){var je=v.$$s||this;return zt(Ze(de,0))?je.$size()["$**"](de):0},v.$$s=P,v.$$arity=0,v));function be(je,Be,Ke){if(Be.length==je){var we=Be.slice();r.yield1(U,we);return}for(var ot=0;ot<Ke.length;ot++)Be.push(Ke[ot]),be(je,Be,Ke),Be.pop()}return be(de,[],P.slice()),P},c.$$arity=1),r.def(Ye,"$pop",t=function(l){var v=this;return zt(l===void 0)?zt(v.length===0)?R:v.pop():(l=B(pe,"Opal").$coerce_to(l,B(pe,"Integer"),"to_int"),zt(l<0)&&v.$raise(B(pe,"ArgumentError"),"negative array size"),zt(v.length===0)?[]:zt(l>v.length)?v.splice(0,v.length):v.splice(v.length-l,v.length))},t.$$arity=-1),r.def(Ye,"$product",s=function(l){var v=s.$$p,I=v||R,U,P,de=this;v&&(s.$$p=null),v&&(s.$$p=null),U=r.slice.call(arguments,0,arguments.length),P=U;var be=I!==R?null:[],je=P.length+1,Be=new Array(je),Ke=new Array(je),we=new Array(je),ot,at,vt,Dt,bt=1;for(we[0]=de,ot=1;ot<je;ot++)we[ot]=B(pe,"Opal").$coerce_to(P[ot-1],B(pe,"Array"),"to_ary");for(ot=0;ot<je;ot++){if(Dt=we[ot].length,Dt===0)return be||de;bt*=Dt,bt>2147483647&&de.$raise(B(pe,"RangeError"),"too big to product"),Ke[ot]=Dt,Be[ot]=0}e:for(;;){for(vt=[],ot=0;ot<je;ot++)vt.push(we[ot][Be[ot]]);for(be?be.push(vt):r.yield1(I,vt),at=je-1,Be[at]++;Be[at]===Ke[at];){if(Be[at]=0,--at<0)break e;Be[at]++}}return be||de},s.$$arity=-1),r.def(Ye,"$push",i=function(l){var v,I,U=this;v=r.slice.call(arguments,0,arguments.length),I=v;for(var P=0,de=I.length;P<de;P++)U.push(I[P]);return U},i.$$arity=-1),r.alias(Ye,"append","push"),r.def(Ye,"$rassoc",j=function(l){for(var v=this,I=0,U=v.length,P;I<U;I++)if(P=v[I],P.length&&P[1]!==void 0&&P[1]["$=="](l))return P;return R},j.$$arity=1),r.def(Ye,"$reject",h=function(){var l=h.$$p,v=l||R,I,U=this;if(l&&(h.$$p=null),l&&(h.$$p=null),v===R)return ve(U,"enum_for",["reject"],(I=function(){var Be=I.$$s||this;return Be.$size()},I.$$s=U,I.$$arity=0,I));for(var P=[],de=0,be=U.length,je;de<be;de++)je=v(U[de]),(je===!1||je===R)&&P.push(U[de]);return P},h.$$arity=0),r.def(Ye,"$reject!",g=function(){var K=g.$$p,l=K||R,v,I=this,U=R;return K&&(g.$$p=null),K&&(g.$$p=null),l===R?ve(I,"enum_for",["reject!"],(v=function(){var P=v.$$s||this;return P.$size()},v.$$s=I,v.$$arity=0,v)):(U=I.$length(),ve(I,"delete_if",[],l.$to_proc()),I.$length()["$=="](U)?R:I)},g.$$arity=0),r.def(Ye,"$replace",w=function(l){var v=this;return l=function(){return zt(B(pe,"Array")["$==="](l))?l.$to_a():B(pe,"Opal").$coerce_to(l,B(pe,"Array"),"to_ary").$to_a()}(),v.splice(0,v.length),v.push.apply(v,l),v},w.$$arity=1),r.def(Ye,"$reverse",C=function(){var l=this;return l.slice(0).reverse()},C.$$arity=0),r.def(Ye,"$reverse!",F=function(){var K=this;return K.reverse()},F.$$arity=0),r.def(Ye,"$reverse_each",N=function(){var l=N.$$p,v=l||R,I,U=this;return l&&(N.$$p=null),l&&(N.$$p=null),v===R?ve(U,"enum_for",["reverse_each"],(I=function(){var P=I.$$s||this;return P.$size()},I.$$s=U,I.$$arity=0,I)):(ve(U.$reverse(),"each",[],v.$to_proc()),U)},N.$$arity=0),r.def(Ye,"$rindex",x=function(l){var v=x.$$p,I=v||R,U=this;v&&(x.$$p=null),v&&(x.$$p=null);var P,de;if(l!=null&&I!==R&&U.$warn("warning: given block not used"),l!=null){for(P=U.length-1;P>=0&&!(P>=U.length);P--)if(U[P]["$=="](l))return P}else if(I!==R){for(P=U.length-1;P>=0&&!(P>=U.length);P--)if(de=I(U[P]),de!==!1&&de!==R)return P}else if(l==null)return U.$enum_for("rindex");return R},x.$$arity=-1),r.def(Ye,"$rotate",f=function(l){var v=this;l==null&&(l=1),l=B(pe,"Opal").$coerce_to(l,B(pe,"Integer"),"to_int");var I,U,P,de;return v.length===1?v.slice():v.length===0?[]:(I=v.slice(),U=l%I.length,P=I.slice(U),de=I.slice(0,U),P.concat(de))},f.$$arity=-1),r.def(Ye,"$rotate!",L=function(K){var l=this,v=R;return K==null&&(K=1),l.length===0||l.length===1?l:(K=B(pe,"Opal").$coerce_to(K,B(pe,"Integer"),"to_int"),v=l.$rotate(K),l.$replace(v))},L.$$arity=-1),function(K,l,v){var I=Ge(K,l,"SampleRandom"),U=[I].concat(v),P,de;return I.$$prototype.rng=R,r.def(I,"$initialize",P=function(je){var Be=this;return Be.rng=je},P.$$arity=1),r.def(I,"$rand",de=function(je){var Be=this,Ke=R;return Ke=B(U,"Opal").$coerce_to(Be.rng.$rand(je),B(U,"Integer"),"to_int"),zt(Ke<0)&&Be.$raise(B(U,"RangeError"),"random value must be >= 0"),zt(Ke<je)||Be.$raise(B(U,"RangeError"),"random value must be less than Array size"),Ke},de.$$arity=1),R&&"rand"}(pe[0],null,pe),r.def(Ye,"$sample",ae=function(l,v){var I,U=this,P=R,de=R;if(zt(l===void 0))return U.$at(B(pe,"Kernel").$rand(U.length));if(zt(v===void 0)?zt(P=B(pe,"Opal")["$coerce_to?"](l,B(pe,"Hash"),"to_hash"))?(v=P,l=R):(v=R,l=B(pe,"Opal").$coerce_to(l,B(pe,"Integer"),"to_int")):(l=B(pe,"Opal").$coerce_to(l,B(pe,"Integer"),"to_int"),v=B(pe,"Opal").$coerce_to(v,B(pe,"Hash"),"to_hash")),zt(zt(I=l)?l<0:I)&&U.$raise(B(pe,"ArgumentError"),"count must be greater than 0"),zt(v)&&(de=v["$[]"]("random")),de=function(){return zt(zt(I=de)?de["$respond_to?"]("rand"):I)?B(pe,"SampleRandom").$new(de):B(pe,"Kernel")}(),!zt(l))return U[de.$rand(U.length)];var be,je,Be,Ke,we,ot,at,vt;switch(l>U.length&&(l=U.length),l){case 0:return[];case 1:return[U[de.$rand(U.length)]];case 2:return Ke=de.$rand(U.length),we=de.$rand(U.length),Ke===we&&(we=Ke===0?Ke+1:Ke-1),[U[Ke],U[we]];break;default:if(U.length/l>3){for(be=!1,je=0,Be=B(pe,"Array").$new(l),Ke=1,Be[0]=de.$rand(U.length);Ke<l;){for(ot=de.$rand(U.length),we=0;we<Ke;){for(;ot===Be[we];){if(je++,je>100){be=!0;break}ot=de.$rand(U.length)}if(be)break;we++}if(be)break;Be[Ke]=ot,Ke++}if(!be){for(Ke=0;Ke<l;)Be[Ke]=U[Be[Ke]],Ke++;return Be}}Be=U.slice();for(var Dt=0;Dt<l;Dt++)at=de.$rand(U.length),vt=Be[Dt],Be[Dt]=Be[at],Be[at]=vt;return l===U.length?Be:Be["$[]"](0,l)}},ae.$$arity=-1),r.def(Ye,"$select",Pe=function(){var l=Pe.$$p,v=l||R,I,U=this;if(l&&(Pe.$$p=null),l&&(Pe.$$p=null),v===R)return ve(U,"enum_for",["select"],(I=function(){var Ke=I.$$s||this;return Ke.$size()},I.$$s=U,I.$$arity=0,I));for(var P=[],de=0,be=U.length,je,Be;de<be;de++)je=U[de],Be=r.yield1(v,je),r.truthy(Be)&&P.push(je);return P},Pe.$$arity=0),r.def(Ye,"$select!",Ie=function(){var K=Ie.$$p,l=K||R,v,I=this;if(K&&(Ie.$$p=null),K&&(Ie.$$p=null),l===R)return ve(I,"enum_for",["select!"],(v=function(){var P=v.$$s||this;return P.$size()},v.$$s=I,v.$$arity=0,v));var U=I.length;return ve(I,"keep_if",[],l.$to_proc()),I.length===U?R:I},Ie.$$arity=0),r.def(Ye,"$shift",ue=function(l){var v=this;return zt(l===void 0)?zt(v.length===0)?R:We(v):(l=B(pe,"Opal").$coerce_to(l,B(pe,"Integer"),"to_int"),zt(l<0)&&v.$raise(B(pe,"ArgumentError"),"negative array size"),zt(v.length===0)?[]:v.splice(0,l))},ue.$$arity=-1),r.alias(Ye,"size","length"),r.def(Ye,"$shuffle",S=function(l){var v=this;return v.$dup().$to_a()["$shuffle!"](l)},S.$$arity=-1),r.def(Ye,"$shuffle!",d=function(K){var l=this,v,I=l.length,U,P;for(K!==void 0&&(K=B(pe,"Opal")["$coerce_to?"](K,B(pe,"Hash"),"to_hash"),K!==R&&(K=K["$[]"]("random"),K!==R&&K["$respond_to?"]("rand")&&(v=K)));I;)v?(U=v.$rand(I).$to_int(),U<0&&l.$raise(B(pe,"RangeError"),"random number too small "+U),U>=I&&l.$raise(B(pe,"RangeError"),"random number too big "+U)):U=l.$rand(I),P=l[--I],l[I]=l[U],l[U]=P;return l},d.$$arity=-1),r.alias(Ye,"slice","[]"),r.def(Ye,"$slice!",m=function(K,l){var v=this,I=R,U=R,P=R,de=R,be=R;if(I=R,zt(l===void 0))if(zt(B(pe,"Range")["$==="](K))){U=K,I=v["$[]"](U),P=B(pe,"Opal").$coerce_to(U.$begin(),B(pe,"Integer"),"to_int"),de=B(pe,"Opal").$coerce_to(U.$end(),B(pe,"Integer"),"to_int"),P<0&&(P+=v.length),de<0?de+=v.length:de>=v.length&&(de=v.length-1,U.excl&&(de+=1));var je=de-P;U.excl?de-=1:je+=1,P<v.length&&P>=0&&de<v.length&&de>=0&&je>0&&v.splice(P,je)}else{if(be=B(pe,"Opal").$coerce_to(K,B(pe,"Integer"),"to_int"),be<0&&(be+=v.length),be<0||be>=v.length)return R;I=v[be],be===0?v.shift():v.splice(be,1)}else{if(be=B(pe,"Opal").$coerce_to(K,B(pe,"Integer"),"to_int"),l=B(pe,"Opal").$coerce_to(l,B(pe,"Integer"),"to_int"),l<0)return R;var Be=be+l;I=v["$[]"](be,l),be<0&&(be+=v.length),be+l>v.length&&(l=v.length-be),be<v.length&&be>=0&&v.splice(be,l)}return I},m.$$arity=-2),r.def(Ye,"$sort",p=function(){var l=p.$$p,v=l||R,I=this;return l&&(p.$$p=null),l&&(p.$$p=null),zt(I.length>1)?(v===R&&(v=function(U,P){return U["$<=>"](P)}),I.slice().sort(function(U,P){var de=v(U,P);return de===R&&I.$raise(B(pe,"ArgumentError"),"comparison of "+U.$inspect()+" with "+P.$inspect()+" failed"),Re(de,0)?1:Fe(de,0)?-1:0})):I},p.$$arity=0),r.def(Ye,"$sort!",z=function(){var K=z.$$p,l=K||R,v=this;K&&(z.$$p=null),K&&(z.$$p=null);var I;l!==R?I=ve(v.slice(),"sort",[],l.$to_proc()):I=v.slice().$sort(),v.length=0;for(var U=0,P=I.length;U<P;U++)v.push(I[U]);return v},z.$$arity=0),r.def(Ye,"$sort_by!",Z=function(){var K=Z.$$p,l=K||R,v,I=this;return K&&(Z.$$p=null),K&&(Z.$$p=null),l===R?ve(I,"enum_for",["sort_by!"],(v=function(){var U=v.$$s||this;return U.$size()},v.$$s=I,v.$$arity=0,v)):I.$replace(ve(I,"sort_by",[],l.$to_proc()))},Z.$$arity=0),r.def(Ye,"$take",re=function(l){var v=this;return l<0&&v.$raise(B(pe,"ArgumentError")),v.slice(0,l)},re.$$arity=1),r.def(Ye,"$take_while",ye=function(){var l=ye.$$p,v=l||R,I=this;l&&(ye.$$p=null),l&&(ye.$$p=null);for(var U=[],P=0,de=I.length,be,je;P<de;P++){if(be=I[P],je=v(be),je===!1||je===R)return U;U.push(be)}return U},ye.$$arity=0),r.def(Ye,"$to_a",q=function(){var l=this;return l},q.$$arity=0),r.alias(Ye,"to_ary","to_a"),r.def(Ye,"$to_h",ee=function(){var l=this,v,I=l.length,U,P,de,be=Oe([],{});for(v=0;v<I;v++)U=B(pe,"Opal")["$coerce_to?"](l[v],B(pe,"Array"),"to_ary"),U.$$is_array||l.$raise(B(pe,"TypeError"),"wrong element type "+U.$class()+" at "+v+" (expected array)"),U.length!==2&&l.$raise(B(pe,"ArgumentError"),"wrong array length at "+v+" (expected 2, was "+U.$length()+")"),P=U[0],de=U[1],r.hash_put(be,P,de);return be},ee.$$arity=0),r.alias(Ye,"to_s","inspect"),r.def(Ye,"$transpose",V=function(){var l,v=this,I=R,U=R;return zt(v["$empty?"]())?[]:(I=[],U=R,ve(v,"each",[],(l=function(P){var de=l.$$s||this,be,je;return P==null&&(P=R),P=function(){return zt(B(pe,"Array")["$==="](P))?P.$to_a():B(pe,"Opal").$coerce_to(P,B(pe,"Array"),"to_ary").$to_a()}(),U=zt(be=U)?be:P.length,zt(P.length["$!="](U))&&de.$raise(B(pe,"IndexError"),"element size differs ("+P.length+" should be "+U+")"),ve(P.length,"times",[],(je=function(Be){var Ke=je.$$s||this,we,ot=R,at=R;return Be==null&&(Be=R),ot=zt(we=I["$[]"](Be))?we:(at=[Be,[]],ve(I,"[]=",r.to_a(at)),at[he(at.length,1)]),ot["$<<"](P.$at(Be))},je.$$s=de,je.$$arity=1,je))},l.$$s=v,l.$$arity=1,l)),I)},V.$$arity=0),r.def(Ye,"$uniq",_e=function(){var l=_e.$$p,v=l||R,I=this;l&&(_e.$$p=null),l&&(_e.$$p=null);var U=Oe([],{}),P,de,be,je;if(v===R)for(P=0,de=I.length;P<de;P++)be=I[P],r.hash_get(U,be)===void 0&&r.hash_put(U,be,be);else for(P=0,de=I.length;P<de;P++)be=I[P],je=r.yield1(v,be),r.hash_get(U,je)===void 0&&r.hash_put(U,je,be);return tt(U.$values(),I.$class())},_e.$$arity=0),r.def(Ye,"$uniq!",Me=function(){var K=Me.$$p,l=K||R,v=this;K&&(Me.$$p=null),K&&(Me.$$p=null);var I=v.length,U=Oe([],{}),P,de,be,je;for(P=0,de=I;P<de;P++){if(be=v[P],je=l===R?be:r.yield1(l,be),r.hash_get(U,je)===void 0){r.hash_put(U,je,be);continue}v.splice(P,1),de--,P--}return v.length===I?R:v},Me.$$arity=0),r.def(Ye,"$unshift",Te=function(l){var v,I,U=this;v=r.slice.call(arguments,0,arguments.length),I=v;for(var P=I.length-1;P>=0;P--)U.unshift(I[P]);return U},Te.$$arity=-1),r.alias(Ye,"prepend","unshift"),r.def(Ye,"$values_at",et=function(l){var v,I,U,P=this,de=R;return v=r.slice.call(arguments,0,arguments.length),I=v,de=[],ve(I,"each",[],(U=function(be){var je=U.$$s||this,Be,Ke=R,we=R,ot=R;return be==null&&(be=R),zt(be["$is_a?"](B(pe,"Range")))?(Ke=B(pe,"Opal").$coerce_to(be.$last(),B(pe,"Integer"),"to_int"),we=B(pe,"Opal").$coerce_to(be.$first(),B(pe,"Integer"),"to_int"),we<0?(we=we+je.length,R):(Ke<0&&(Ke=Ke+je.length),be["$exclude_end?"]()&&Ke--,Ke<we?R:ve(we,"upto",[Ke],(Be=function(at){var vt=Be.$$s||this;return at==null&&(at=R),de["$<<"](vt.$at(at))},Be.$$s=je,Be.$$arity=1,Be)))):(ot=B(pe,"Opal").$coerce_to(be,B(pe,"Integer"),"to_int"),de["$<<"](je.$at(ot)))},U.$$s=P,U.$$arity=1,U)),de},et.$$arity=-1),r.def(Ye,"$zip",ct=function(l){var v=ct.$$p,I=v||R,U,P,de,be=this;v&&(ct.$$p=null),v&&(ct.$$p=null),U=r.slice.call(arguments,0,arguments.length),P=U;var je=[],Be=be.length,Ke,we,ot,at,vt;for(at=0,vt=P.length;at<vt;at++)if(we=P[at],!we.$$is_array){if(we.$$is_enumerator){we.$size()===1/0?P[at]=we.$take(Be):P[at]=we.$to_a();continue}P[at]=(zt(de=B(pe,"Opal")["$coerce_to?"](we,B(pe,"Array"),"to_ary"))?de:B(pe,"Opal")["$coerce_to!"](we,B(pe,"Enumerator"),"each")).$to_a()}for(ot=0;ot<Be;ot++){for(Ke=[be[ot]],at=0,vt=P.length;at<vt;at++)we=P[at][ot],we==null&&(we=R),Ke[at+1]=we;je[ot]=Ke}if(I!==R){for(ot=0;ot<Be;ot++)I(je[ot]);return R}return je},ct.$$arity=-1),r.defs(Ye,"$inherited",it=function(l){var v=this;l.$$prototype.$to_a=function(){return this.slice(0,this.length)}},it.$$arity=1),r.def(Ye,"$instance_variables",Ne=function(){var l,v=Ne.$$p,I=v||R,U=this,P=R,de=R,be=R;for(v&&(Ne.$$p=null),de=0,be=arguments.length,P=new Array(be);de<be;de++)P[de]=arguments[de];return ve(ve(U,r.find_super_dispatcher(U,"instance_variables",Ne,!1),P,v),"reject",[],(l=function(je){var Be=l.$$s||this,Ke;return je==null&&(je=R),zt(Ke=/^@\d+$/.test(je))?Ke:je["$=="]("@length")},l.$$s=U,l.$$arity=1,l))},Ne.$$arity=0),B(pe,"Opal").$pristine(Ye.$singleton_class(),"allocate"),B(pe,"Opal").$pristine(Ye,"copy_instance_variables","initialize_dup"),r.def(Ye,"$pack",Se=function(l){var v,I,U=this;return v=r.slice.call(arguments,0,arguments.length),I=v,U.$raise("To use Array#pack, you must first require 'corelib/array/pack'.")},Se.$$arity=-1),R&&"pack"}(Ce[0],Array,Ce)},Opal.modules["corelib/hash"]=function(r){function Re(Oe,ve){return typeof Oe=="number"&&typeof ve=="number"?Oe>=ve:Oe["$>="](ve)}function Je(Oe,ve){return typeof Oe=="number"&&typeof ve=="number"?Oe>ve:Oe["$>"](ve)}function Ze(Oe,ve){return typeof Oe=="number"&&typeof ve=="number"?Oe-ve:Oe["$-"](ve)}var Fe=r.top,he=[],gt=r.nil,Ce=r.const_get_qualified,R=r.const_get_relative,Gt=r.breaker,B=r.slice,ke=r.klass,st=r.send,Ge=r.hash2,zt=r.truthy;return r.add_stubs(["$require","$include","$coerce_to?","$[]","$merge!","$allocate","$raise","$coerce_to!","$each","$fetch","$>=","$>","$==","$compare_by_identity","$lambda?","$abs","$arity","$enum_for","$size","$respond_to?","$class","$dig","$new","$inspect","$map","$to_proc","$flatten","$eql?","$default","$dup","$default_proc","$default_proc=","$-","$default=","$proc"]),Fe.$require("corelib/enumerable"),function(Oe,ve,J){var G=ke(Oe,ve,"Hash"),Ve=[G].concat(J),ft,Ye,pe,De,ze,ut,xt,At,ht,pt,St,Rt,Et,Bt,qt,Ct,It,Pt,Mt,jt,D,se,le,ge,Le,Ue,qe,wt,Nt,Ft,Ut,Vt,Jt,Kt,Wt,Qt,$r,Ot,Xt,Ht,er,ar,or,cr,e,u,O,xe,Xe,ie,A,$e,$,n,y,W,oe,b,_,c,t,s;G.$include(R(Ve,"Enumerable")),G.$$prototype.$$is_hash=!0,r.defs(G,"$[]",ft=function(j){var h,g,w=this;h=r.slice.call(arguments,0,arguments.length),g=h;var C,F=g.length,N;if(F===1){if(C=R(Ve,"Opal")["$coerce_to?"](g["$[]"](0),R(Ve,"Hash"),"to_hash"),C!==gt)return w.$allocate()["$merge!"](C);for(g=R(Ve,"Opal")["$coerce_to?"](g["$[]"](0),R(Ve,"Array"),"to_ary"),g===gt&&w.$raise(R(Ve,"ArgumentError"),"odd number of arguments for Hash"),F=g.length,C=w.$allocate(),N=0;N<F;N++)if(!!g[N].$$is_array)switch(g[N].length){case 1:C.$store(g[N][0],gt);break;case 2:C.$store(g[N][0],g[N][1]);break;default:w.$raise(R(Ve,"ArgumentError"),"invalid number of elements ("+g[N].length+" for 1..2)")}return C}for(F%2!==0&&w.$raise(R(Ve,"ArgumentError"),"odd number of arguments for Hash"),C=w.$allocate(),N=0;N<F;N+=2)C.$store(g[N],g[N+1]);return C},ft.$$arity=-1),r.defs(G,"$allocate",Ye=function(){var h=this,g=new h.$$constructor;return r.hash_init(g),g.$$none=gt,g.$$proc=gt,g},Ye.$$arity=0),r.defs(G,"$try_convert",pe=function(h){var g=this;return R(Ve,"Opal")["$coerce_to?"](h,R(Ve,"Hash"),"to_hash")},pe.$$arity=1),r.def(G,"$initialize",De=function(h){var g=De.$$p,w=g||gt,C=this;return g&&(De.$$p=null),g&&(De.$$p=null),h!==void 0&&w!==gt&&C.$raise(R(Ve,"ArgumentError"),"wrong number of arguments (1 for 0)"),C.$$none=h===void 0?gt:h,C.$$proc=w,C},De.$$arity=-1),r.def(G,"$==",ze=function(j){var h=this;if(h===j)return!0;if(!j.$$is_hash||h.$$keys.length!==j.$$keys.length)return!1;for(var g=0,w=h.$$keys,C=w.length,F,N,x;g<C;g++)if(F=w[g],F.$$is_string?(N=h.$$smap[F],x=j.$$smap[F]):(N=F.value,x=r.hash_get(j,F.key)),x===void 0||!N["$eql?"](x))return!1;return!0},ze.$$arity=1),r.def(G,"$>=",ut=function(j){var h,g=this,w=gt;return j=R(Ve,"Opal")["$coerce_to!"](j,R(Ve,"Hash"),"to_hash"),g.$$keys.length<j.$$keys.length?!1:(w=!0,st(j,"each",[],(h=function(C,F){var N=h.$$s||this,x=gt;if(C==null&&(C=gt),F==null&&(F=gt),x=N.$fetch(C,null),x==null||x!==F){w=!1;return}},h.$$s=g,h.$$arity=2,h)),w)},ut.$$arity=1),r.def(G,"$>",xt=function(j){var h=this;return j=R(Ve,"Opal")["$coerce_to!"](j,R(Ve,"Hash"),"to_hash"),h.$$keys.length<=j.$$keys.length?!1:Re(h,j)},xt.$$arity=1),r.def(G,"$<",At=function(j){var h=this;return j=R(Ve,"Opal")["$coerce_to!"](j,R(Ve,"Hash"),"to_hash"),Je(j,h)},At.$$arity=1),r.def(G,"$<=",ht=function(j){var h=this;return j=R(Ve,"Opal")["$coerce_to!"](j,R(Ve,"Hash"),"to_hash"),Re(j,h)},ht.$$arity=1),r.def(G,"$[]",pt=function(j){var h=this,g=r.hash_get(h,j);return g!==void 0?g:h.$default(j)},pt.$$arity=1),r.def(G,"$[]=",St=function(j,h){var g=this;return r.hash_put(g,j,h),h},St.$$arity=2),r.def(G,"$assoc",Rt=function(h){for(var g=this,w=0,C=g.$$keys,F=C.length,N;w<F;w++)if(N=C[w],N.$$is_string){if(N["$=="](h))return[N,g.$$smap[N]]}else if(N.key["$=="](h))return[N.key,N.value];return gt},Rt.$$arity=1),r.def(G,"$clear",Et=function(){var h=this;return r.hash_init(h),h},Et.$$arity=0),r.def(G,"$clone",Bt=function(){var h=this,g=new h.$$class;return r.hash_init(g),r.hash_clone(h,g),g},Bt.$$arity=0),r.def(G,"$compact",qt=function(){for(var h=this,g=r.hash(),w=0,C=h.$$keys,F=C.length,N,x,f;w<F;w++)N=C[w],N.$$is_string?x=h.$$smap[N]:(x=N.value,N=N.key),x!==gt&&r.hash_put(g,N,x);return g},qt.$$arity=0),r.def(G,"$compact!",Ct=function(){for(var j=this,h=!1,g=0,w=j.$$keys,C=w.length,F,N,x;g<C;g++)F=w[g],F.$$is_string?N=j.$$smap[F]:(N=F.value,F=F.key),N===gt&&r.hash_delete(j,F)!==void 0&&(h=!0,C--,g--);return h?j:gt},Ct.$$arity=0),r.def(G,"$compare_by_identity",It=function(){var h=this,g,w,C,F=h.$$keys,N;if(h.$$by_identity)return h;if(h.$$keys.length===0)return h.$$by_identity=!0,h;for(N=Ge([],{}).$compare_by_identity(),g=0,w=F.length;g<w;g++)C=F[g],C.$$is_string||(C=C.key),r.hash_put(N,C,r.hash_get(h,C));return h.$$by_identity=!0,h.$$map=N.$$map,h.$$smap=N.$$smap,h},It.$$arity=0),r.def(G,"$compare_by_identity?",Pt=function(){var j=this;return j.$$by_identity===!0},Pt.$$arity=0),r.def(G,"$default",Mt=function(j){var h=this;return j!==void 0&&h.$$proc!==gt&&h.$$proc!==void 0?h.$$proc.$call(h,j):h.$$none===void 0?gt:h.$$none},Mt.$$arity=-1),r.def(G,"$default=",jt=function(j){var h=this;return h.$$proc=gt,h.$$none=j,j},jt.$$arity=1),r.def(G,"$default_proc",D=function(){var h=this;return h.$$proc!==void 0?h.$$proc:gt},D.$$arity=0),r.def(G,"$default_proc=",se=function(j){var h=this,g=j;return g!==gt&&(g=R(Ve,"Opal")["$coerce_to!"](g,R(Ve,"Proc"),"to_proc"),g["$lambda?"]()&&g.$arity().$abs()!==2&&h.$raise(R(Ve,"TypeError"),"default_proc takes two arguments")),h.$$none=gt,h.$$proc=g,j},se.$$arity=1),r.def(G,"$delete",le=function(j){var h=le.$$p,g=h||gt,w=this;h&&(le.$$p=null),h&&(le.$$p=null);var C=r.hash_delete(w,j);return C!==void 0?C:g!==gt?r.yield1(g,j):gt},le.$$arity=1),r.def(G,"$delete_if",ge=function(){var h=ge.$$p,g=h||gt,w,C=this;if(h&&(ge.$$p=null),h&&(ge.$$p=null),!zt(g))return st(C,"enum_for",["delete_if"],(w=function(){var Pe=w.$$s||this;return Pe.$size()},w.$$s=C,w.$$arity=0,w));for(var F=0,N=C.$$keys,x=N.length,f,L,ae;F<x;F++)f=N[F],f.$$is_string?L=C.$$smap[f]:(L=f.value,f=f.key),ae=g(f,L),ae!==!1&&ae!==gt&&r.hash_delete(C,f)!==void 0&&(x--,F--);return C},ge.$$arity=0),r.alias(G,"dup","clone"),r.def(G,"$dig",Le=function(h,g){var w,C,F=this,N=gt;return w=r.slice.call(arguments,1,arguments.length),C=w,N=F["$[]"](h),N===gt||C.length===0?N:(zt(N["$respond_to?"]("dig"))||F.$raise(R(Ve,"TypeError"),""+N.$class()+" does not have #dig method"),st(N,"dig",r.to_a(C)))},Le.$$arity=-2),r.def(G,"$each",Ue=function(){var h=Ue.$$p,g=h||gt,w,C=this;if(h&&(Ue.$$p=null),h&&(Ue.$$p=null),!zt(g))return st(C,"enum_for",["each"],(w=function(){var ae=w.$$s||this;return ae.$size()},w.$$s=C,w.$$arity=0,w));for(var F=0,N=C.$$keys,x=N.length,f,L;F<x;F++)f=N[F],f.$$is_string?L=C.$$smap[f]:(L=f.value,f=f.key),r.yield1(g,[f,L]);return C},Ue.$$arity=0),r.def(G,"$each_key",qe=function(){var h=qe.$$p,g=h||gt,w,C=this;if(h&&(qe.$$p=null),h&&(qe.$$p=null),!zt(g))return st(C,"enum_for",["each_key"],(w=function(){var L=w.$$s||this;return L.$size()},w.$$s=C,w.$$arity=0,w));for(var F=0,N=C.$$keys,x=N.length,f;F<x;F++)f=N[F],g(f.$$is_string?f:f.key);return C},qe.$$arity=0),r.alias(G,"each_pair","each"),r.def(G,"$each_value",wt=function(){var h=wt.$$p,g=h||gt,w,C=this;if(h&&(wt.$$p=null),h&&(wt.$$p=null),!zt(g))return st(C,"enum_for",["each_value"],(w=function(){var L=w.$$s||this;return L.$size()},w.$$s=C,w.$$arity=0,w));for(var F=0,N=C.$$keys,x=N.length,f;F<x;F++)f=N[F],g(f.$$is_string?C.$$smap[f]:f.value);return C},wt.$$arity=0),r.def(G,"$empty?",Nt=function(){var j=this;return j.$$keys.length===0},Nt.$$arity=0),r.alias(G,"eql?","=="),r.def(G,"$fetch",Ft=function(h,g){var w=Ft.$$p,C=w||gt,F=this;w&&(Ft.$$p=null),w&&(Ft.$$p=null);var N=r.hash_get(F,h);return N!==void 0?N:C!==gt?C(h):g!==void 0?g:F.$raise(R(Ve,"KeyError").$new("key not found: "+h.$inspect(),Ge(["key","receiver"],{key:h,receiver:F})))},Ft.$$arity=-2),r.def(G,"$fetch_values",Ut=function(h){var g=Ut.$$p,w=g||gt,C,F,N,x=this;return g&&(Ut.$$p=null),g&&(Ut.$$p=null),C=r.slice.call(arguments,0,arguments.length),F=C,st(F,"map",[],(N=function(f){var L=N.$$s||this;return f==null&&(f=gt),st(L,"fetch",[f],w.$to_proc())},N.$$s=x,N.$$arity=1,N))},Ut.$$arity=-1),r.def(G,"$flatten",Vt=function(h){var g=this;h==null&&(h=1),h=R(Ve,"Opal")["$coerce_to!"](h,R(Ve,"Integer"),"to_int");for(var w=[],C=0,F=g.$$keys,N=F.length,x,f;C<N;C++){if(x=F[C],x.$$is_string?f=g.$$smap[x]:(f=x.value,x=x.key),w.push(x),f.$$is_array){if(h===1){w.push(f);continue}w=w.concat(f.$flatten(h-2));continue}w.push(f)}return w},Vt.$$arity=-1),r.def(G,"$has_key?",Jt=function(j){var h=this;return r.hash_get(h,j)!==void 0},Jt.$$arity=1),r.def(G,"$has_value?",Kt=function(j){for(var h=this,g=0,w=h.$$keys,C=w.length,F;g<C;g++)if(F=w[g],(F.$$is_string?h.$$smap[F]:F.value)["$=="](j))return!0;return!1},Kt.$$arity=1),r.def(G,"$hash",Wt=function(){var h=this,g=r.hash_ids===void 0,w=h.$object_id(),C=["Hash"],F,N;try{if(g&&(r.hash_ids=Object.create(null)),r[w])return"self";for(F in r.hash_ids)if(N=r.hash_ids[F],h["$eql?"](N))return"self";r.hash_ids[w]=h;for(var x=0,f=h.$$keys,L=f.length;x<L;x++)F=f[x],F.$$is_string?C.push([F,h.$$smap[F].$hash()]):C.push([F.key_hash,F.value.$hash()]);return C.sort().join()}finally{g&&(r.hash_ids=void 0)}},Wt.$$arity=0),r.alias(G,"include?","has_key?"),r.def(G,"$index",Qt=function(h){for(var g=this,w=0,C=g.$$keys,F=C.length,N,x;w<F;w++)if(N=C[w],N.$$is_string?x=g.$$smap[N]:(x=N.value,N=N.key),x["$=="](h))return N;return gt},Qt.$$arity=1),r.def(G,"$indexes",$r=function(h){var g,w,C=this;g=r.slice.call(arguments,0,arguments.length),w=g;for(var F=[],N=0,x=w.length,f,L;N<x;N++){if(f=w[N],L=r.hash_get(C,f),L===void 0){F.push(C.$default());continue}F.push(L)}return F},$r.$$arity=-1),r.alias(G,"indices","indexes");var i;return r.def(G,"$inspect",Ot=function(){var h=this,g=i===void 0,w=h.$object_id(),C=[];try{if(g&&(i={}),i.hasOwnProperty(w))return"{...}";i[w]=!0;for(var F=0,N=h.$$keys,x=N.length,f,L;F<x;F++)f=N[F],f.$$is_string?L=h.$$smap[f]:(L=f.value,f=f.key),C.push(f.$inspect()+"=>"+L.$inspect());return"{"+C.join(", ")+"}"}finally{g&&(i=void 0)}},Ot.$$arity=0),r.def(G,"$invert",Xt=function(){for(var h=this,g=r.hash(),w=0,C=h.$$keys,F=C.length,N,x;w<F;w++)N=C[w],N.$$is_string?x=h.$$smap[N]:(x=N.value,N=N.key),r.hash_put(g,x,N);return g},Xt.$$arity=0),r.def(G,"$keep_if",Ht=function(){var h=Ht.$$p,g=h||gt,w,C=this;if(h&&(Ht.$$p=null),h&&(Ht.$$p=null),!zt(g))return st(C,"enum_for",["keep_if"],(w=function(){var Pe=w.$$s||this;return Pe.$size()},w.$$s=C,w.$$arity=0,w));for(var F=0,N=C.$$keys,x=N.length,f,L,ae;F<x;F++)f=N[F],f.$$is_string?L=C.$$smap[f]:(L=f.value,f=f.key),ae=g(f,L),(ae===!1||ae===gt)&&r.hash_delete(C,f)!==void 0&&(x--,F--);return C},Ht.$$arity=0),r.alias(G,"key","index"),r.alias(G,"key?","has_key?"),r.def(G,"$keys",er=function(){for(var h=this,g=[],w=0,C=h.$$keys,F=C.length,N;w<F;w++)N=C[w],N.$$is_string?g.push(N):g.push(N.key);return g},er.$$arity=0),r.def(G,"$length",ar=function(){var h=this;return h.$$keys.length},ar.$$arity=0),r.alias(G,"member?","has_key?"),r.def(G,"$merge",or=function(h){var g=or.$$p,w=g||gt,C=this;return g&&(or.$$p=null),g&&(or.$$p=null),st(C.$dup(),"merge!",[h],w.$to_proc())},or.$$arity=1),r.def(G,"$merge!",cr=function(j){var h=cr.$$p,g=h||gt,w=this;h&&(cr.$$p=null),h&&(cr.$$p=null),j.$$is_hash||(j=R(Ve,"Opal")["$coerce_to!"](j,R(Ve,"Hash"),"to_hash"));var C,F=j.$$keys,N=F.length,x,f,L;if(g===gt){for(C=0;C<N;C++)x=F[C],x.$$is_string?L=j.$$smap[x]:(L=x.value,x=x.key),r.hash_put(w,x,L);return w}for(C=0;C<N;C++){if(x=F[C],x.$$is_string?L=j.$$smap[x]:(L=x.value,x=x.key),f=r.hash_get(w,x),f===void 0){r.hash_put(w,x,L);continue}r.hash_put(w,x,g(x,f,L))}return w},cr.$$arity=1),r.def(G,"$rassoc",e=function(h){for(var g=this,w=0,C=g.$$keys,F=C.length,N,x;w<F;w++)if(N=C[w],N.$$is_string?x=g.$$smap[N]:(x=N.value,N=N.key),x["$=="](h))return[N,x];return gt},e.$$arity=1),r.def(G,"$rehash",u=function(){var h=this;return r.hash_rehash(h),h},u.$$arity=0),r.def(G,"$reject",O=function(){var h=O.$$p,g=h||gt,w,C=this;if(h&&(O.$$p=null),h&&(O.$$p=null),!zt(g))return st(C,"enum_for",["reject"],(w=function(){var Ie=w.$$s||this;return Ie.$size()},w.$$s=C,w.$$arity=0,w));for(var F=r.hash(),N=0,x=C.$$keys,f=x.length,L,ae,Pe;N<f;N++)L=x[N],L.$$is_string?ae=C.$$smap[L]:(ae=L.value,L=L.key),Pe=g(L,ae),(Pe===!1||Pe===gt)&&r.hash_put(F,L,ae);return F},O.$$arity=0),r.def(G,"$reject!",xe=function(){var j=xe.$$p,h=j||gt,g,w=this;if(j&&(xe.$$p=null),j&&(xe.$$p=null),!zt(h))return st(w,"enum_for",["reject!"],(g=function(){var Pe=g.$$s||this;return Pe.$size()},g.$$s=w,g.$$arity=0,g));for(var C=!1,F=0,N=w.$$keys,x=N.length,f,L,ae;F<x;F++)f=N[F],f.$$is_string?L=w.$$smap[f]:(L=f.value,f=f.key),ae=h(f,L),ae!==!1&&ae!==gt&&r.hash_delete(w,f)!==void 0&&(C=!0,x--,F--);return C?w:gt},xe.$$arity=0),r.def(G,"$replace",Xe=function(h){var g=this,w=gt;h=R(Ve,"Opal")["$coerce_to!"](h,R(Ve,"Hash"),"to_hash"),r.hash_init(g);for(var C=0,F=h.$$keys,N=F.length,x,f,L;C<N;C++)x=F[C],x.$$is_string?L=h.$$smap[x]:(L=x.value,x=x.key),r.hash_put(g,x,L);return zt(h.$default_proc())?(w=[h.$default_proc()],st(g,"default_proc=",r.to_a(w)),w[Ze(w.length,1)]):(w=[h.$default()],st(g,"default=",r.to_a(w)),w[Ze(w.length,1)]),g},Xe.$$arity=1),r.def(G,"$select",ie=function(){var h=ie.$$p,g=h||gt,w,C=this;if(h&&(ie.$$p=null),h&&(ie.$$p=null),!zt(g))return st(C,"enum_for",["select"],(w=function(){var Ie=w.$$s||this;return Ie.$size()},w.$$s=C,w.$$arity=0,w));for(var F=r.hash(),N=0,x=C.$$keys,f=x.length,L,ae,Pe;N<f;N++)L=x[N],L.$$is_string?ae=C.$$smap[L]:(ae=L.value,L=L.key),Pe=g(L,ae),Pe!==!1&&Pe!==gt&&r.hash_put(F,L,ae);return F},ie.$$arity=0),r.def(G,"$select!",A=function(){var j=A.$$p,h=j||gt,g,w=this;if(j&&(A.$$p=null),j&&(A.$$p=null),!zt(h))return st(w,"enum_for",["select!"],(g=function(){var Pe=g.$$s||this;return Pe.$size()},g.$$s=w,g.$$arity=0,g));for(var C=gt,F=0,N=w.$$keys,x=N.length,f,L,ae;F<x;F++)f=N[F],f.$$is_string?L=w.$$smap[f]:(L=f.value,f=f.key),ae=h(f,L),(ae===!1||ae===gt)&&(r.hash_delete(w,f)!==void 0&&(x--,F--),C=w);return C},A.$$arity=0),r.def(G,"$shift",$e=function(){var h=this,g=h.$$keys,w;return g.length>0?(w=g[0],w=w.$$is_string?w:w.key,[w,r.hash_delete(h,w)]):h.$default(gt)},$e.$$arity=0),r.alias(G,"size","length"),r.def(G,"$slice",$=function(h){var g,w,C=this;g=r.slice.call(arguments,0,arguments.length),w=g;for(var F=r.hash(),N=0,x=w.length;N<x;N++){var f=w[N],L=r.hash_get(C,f);L!==void 0&&r.hash_put(F,f,L)}return F},$.$$arity=-1),r.alias(G,"store","[]="),r.def(G,"$to_a",n=function(){for(var h=this,g=[],w=0,C=h.$$keys,F=C.length,N,x;w<F;w++)N=C[w],N.$$is_string?x=h.$$smap[N]:(x=N.value,N=N.key),g.push([N,x]);return g},n.$$arity=0),r.def(G,"$to_h",y=function(){var h=this;if(h.$$class===r.Hash)return h;var g=new r.Hash;return r.hash_init(g),r.hash_clone(h,g),g},y.$$arity=0),r.def(G,"$to_hash",W=function(){var h=this;return h},W.$$arity=0),r.def(G,"$to_proc",oe=function(){var h,g=this;return st(g,"proc",[],(h=function(w){var C=h.$$s||this;return w==null&&C.$raise(R(Ve,"ArgumentError"),"no key given"),C["$[]"](w)},h.$$s=g,h.$$arity=-1,h))},oe.$$arity=0),r.alias(G,"to_s","inspect"),r.def(G,"$transform_keys",b=function(){var h=b.$$p,g=h||gt,w,C=this;if(h&&(b.$$p=null),h&&(b.$$p=null),!zt(g))return st(C,"enum_for",["transform_keys"],(w=function(){var Pe=w.$$s||this;return Pe.$size()},w.$$s=C,w.$$arity=0,w));for(var F=r.hash(),N=0,x=C.$$keys,f=x.length,L,ae;N<f;N++)L=x[N],L.$$is_string?ae=C.$$smap[L]:(ae=L.value,L=L.key),L=r.yield1(g,L),r.hash_put(F,L,ae);return F},b.$$arity=0),r.def(G,"$transform_keys!",_=function(){var j=_.$$p,h=j||gt,g,w=this;if(j&&(_.$$p=null),j&&(_.$$p=null),!zt(h))return st(w,"enum_for",["transform_keys!"],(g=function(){var ae=g.$$s||this;return ae.$size()},g.$$s=w,g.$$arity=0,g));var C=r.slice.call(w.$$keys),F,N=C.length,x,f,L;for(F=0;F<N;F++)x=C[F],x.$$is_string?f=w.$$smap[x]:(f=x.value,x=x.key),L=r.yield1(h,x),r.hash_delete(w,x),r.hash_put(w,L,f);return w},_.$$arity=0),r.def(G,"$transform_values",c=function(){var h=c.$$p,g=h||gt,w,C=this;if(h&&(c.$$p=null),h&&(c.$$p=null),!zt(g))return st(C,"enum_for",["transform_values"],(w=function(){var Pe=w.$$s||this;return Pe.$size()},w.$$s=C,w.$$arity=0,w));for(var F=r.hash(),N=0,x=C.$$keys,f=x.length,L,ae;N<f;N++)L=x[N],L.$$is_string?ae=C.$$smap[L]:(ae=L.value,L=L.key),ae=r.yield1(g,ae),r.hash_put(F,L,ae);return F},c.$$arity=0),r.def(G,"$transform_values!",t=function(){var j=t.$$p,h=j||gt,g,w=this;if(j&&(t.$$p=null),j&&(t.$$p=null),!zt(h))return st(w,"enum_for",["transform_values!"],(g=function(){var L=g.$$s||this;return L.$size()},g.$$s=w,g.$$arity=0,g));for(var C=0,F=w.$$keys,N=F.length,x,f;C<N;C++)x=F[C],x.$$is_string?f=w.$$smap[x]:(f=x.value,x=x.key),f=r.yield1(h,f),r.hash_put(w,x,f);return w},t.$$arity=0),r.alias(G,"update","merge!"),r.alias(G,"value?","has_value?"),r.alias(G,"values_at","indexes"),r.def(G,"$values",s=function(){for(var h=this,g=[],w=0,C=h.$$keys,F=C.length,N;w<F;w++)N=C[w],N.$$is_string?g.push(h.$$smap[N]):g.push(N.value);return g},s.$$arity=0),gt&&"values"}(he[0],null,he)},Opal.modules["corelib/number"]=function(r){function Re(ft,Ye){return typeof ft=="number"&&typeof Ye=="number"?ft>Ye:ft["$>"](Ye)}function Je(ft,Ye){return typeof ft=="number"&&typeof Ye=="number"?ft<Ye:ft["$<"](Ye)}function Ze(ft,Ye){return typeof ft=="number"&&typeof Ye=="number"?ft+Ye:ft["$+"](Ye)}function Fe(ft,Ye){return typeof ft=="number"&&typeof Ye=="number"?ft-Ye:ft["$-"](Ye)}function he(ft,Ye){return typeof ft=="number"&&typeof Ye=="number"?ft/Ye:ft["$/"](Ye)}function gt(ft,Ye){return typeof ft=="number"&&typeof Ye=="number"?ft*Ye:ft["$*"](Ye)}function Ce(ft,Ye){return typeof ft=="number"&&typeof Ye=="number"?ft<=Ye:ft["$<="](Ye)}function R(ft,Ye){return typeof ft=="number"&&typeof Ye=="number"?ft>=Ye:ft["$>="](Ye)}var Gt=r.top,B=[],ke=r.nil,st=r.const_get_qualified,Ge=r.const_get_relative,zt=r.breaker,Oe=r.slice,ve=r.klass,J=r.truthy,G=r.send,Ve=r.hash2;return r.add_stubs(["$require","$bridge","$raise","$name","$class","$Float","$respond_to?","$coerce_to!","$__coerced__","$===","$!","$>","$**","$new","$<","$to_f","$==","$nan?","$infinite?","$enum_for","$+","$-","$gcd","$lcm","$%","$/","$frexp","$to_i","$ldexp","$rationalize","$*","$<<","$to_r","$truncate","$-@","$size","$<=","$>=","$<=>","$compare","$any?"]),Gt.$require("corelib/numeric"),function(ft,Ye,pe){var De=ve(ft,Ye,"Number"),ze=[De].concat(pe),ut,xt,At,ht,pt,St,Rt,Et,Bt,qt,Ct,It,Pt,Mt,jt,D,se,le,ge,Le,Ue,qe,wt,Nt,Ft,Ut,Vt,Jt,Kt,Wt,Qt,$r,Ot,Xt,Ht,er,ar,or,cr,e,u,O,xe,Xe,ie,A,$e,$,n,y,W,oe,b,_,c,t,s,i,j,h,g,w,C,F,N,x,f,L,ae,Pe,Ie,ue;Ge(ze,"Opal").$bridge(Number,De),r.defineProperty(De.$$prototype,"$$is_number",!0),De.$$is_number_class=!0,function(d,m){var p=[d].concat(m),z;return r.def(d,"$allocate",z=function(){var re=this;return re.$raise(Ge(p,"TypeError"),"allocator undefined for "+re.$name())},z.$$arity=0),r.udef(d,"$new"),ke}(r.get_singleton_class(De),ze),r.def(De,"$coerce",ut=function(m){var p=this;if(m===ke)p.$raise(Ge(ze,"TypeError"),"can't convert "+m.$class()+" into Float");else{if(m.$$is_string)return[p.$Float(m),p];if(m["$respond_to?"]("to_f"))return[Ge(ze,"Opal")["$coerce_to!"](m,Ge(ze,"Float"),"to_f"),p];if(m.$$is_number)return[m,p];p.$raise(Ge(ze,"TypeError"),"can't convert "+m.$class()+" into Float")}},ut.$$arity=1),r.def(De,"$__id__",xt=function(){var m=this;return m*2+1},xt.$$arity=0),r.alias(De,"object_id","__id__"),r.def(De,"$+",At=function(d){var m=this;return d.$$is_number?m+d:m.$__coerced__("+",d)},At.$$arity=1),r.def(De,"$-",ht=function(d){var m=this;return d.$$is_number?m-d:m.$__coerced__("-",d)},ht.$$arity=1),r.def(De,"$*",pt=function(d){var m=this;return d.$$is_number?m*d:m.$__coerced__("*",d)},pt.$$arity=1),r.def(De,"$/",St=function(d){var m=this;return d.$$is_number?m/d:m.$__coerced__("/",d)},St.$$arity=1),r.alias(De,"fdiv","/"),r.def(De,"$%",Rt=function(d){var m=this;if(d.$$is_number){if(d==-1/0)return d;if(d==0)m.$raise(Ge(ze,"ZeroDivisionError"),"divided by 0");else return d<0||m<0?(m%d+d)%d:m%d}else return m.$__coerced__("%",d)},Rt.$$arity=1),r.def(De,"$&",Et=function(d){var m=this;return d.$$is_number?m&d:m.$__coerced__("&",d)},Et.$$arity=1),r.def(De,"$|",Bt=function(d){var m=this;return d.$$is_number?m|d:m.$__coerced__("|",d)},Bt.$$arity=1),r.def(De,"$^",qt=function(d){var m=this;return d.$$is_number?m^d:m.$__coerced__("^",d)},qt.$$arity=1),r.def(De,"$<",Ct=function(d){var m=this;return d.$$is_number?m<d:m.$__coerced__("<",d)},Ct.$$arity=1),r.def(De,"$<=",It=function(d){var m=this;return d.$$is_number?m<=d:m.$__coerced__("<=",d)},It.$$arity=1),r.def(De,"$>",Pt=function(d){var m=this;return d.$$is_number?m>d:m.$__coerced__(">",d)},Pt.$$arity=1),r.def(De,"$>=",Mt=function(d){var m=this;return d.$$is_number?m>=d:m.$__coerced__(">=",d)},Mt.$$arity=1);var S=function(d,m){return m.$$is_number?isNaN(d)||isNaN(m)?ke:d>m?1:d<m?-1:0:d.$__coerced__("<=>",m)};return r.def(De,"$<=>",jt=function(d){var m=this;try{return S(m,d)}catch(p){if(r.rescue(p,[Ge(ze,"ArgumentError")]))try{return ke}finally{r.pop_exception()}else throw p}},jt.$$arity=1),r.def(De,"$<<",D=function(d){var m=this;return d=Ge(ze,"Opal")["$coerce_to!"](d,Ge(ze,"Integer"),"to_int"),d>0?m<<d:m>>-d},D.$$arity=1),r.def(De,"$>>",se=function(d){var m=this;return d=Ge(ze,"Opal")["$coerce_to!"](d,Ge(ze,"Integer"),"to_int"),d>0?m>>d:m<<-d},se.$$arity=1),r.def(De,"$[]",le=function(d){var m=this;return d=Ge(ze,"Opal")["$coerce_to!"](d,Ge(ze,"Integer"),"to_int"),d<0?0:d>=32?m<0?1:0:m>>d&1},le.$$arity=1),r.def(De,"$+@",ge=function(){var d=this;return+d},ge.$$arity=0),r.def(De,"$-@",Le=function(){var d=this;return-d},Le.$$arity=0),r.def(De,"$~",Ue=function(){var d=this;return~d},Ue.$$arity=0),r.def(De,"$**",qe=function(d){var m,p,z=this;return J(Ge(ze,"Integer")["$==="](d))?J(J(m=Ge(ze,"Integer")["$==="](z)["$!"]())?m:Re(d,0))?Math.pow(z,d):Ge(ze,"Rational").$new(z,1)["$**"](d):J((m=Je(z,0))?J(p=Ge(ze,"Float")["$==="](d))?p:Ge(ze,"Rational")["$==="](d):Je(z,0))?Ge(ze,"Complex").$new(z,0)["$**"](d.$to_f()):J(d.$$is_number!=null)?Math.pow(z,d):z.$__coerced__("**",d)},qe.$$arity=1),r.def(De,"$===",wt=function(d){var m=this;return d.$$is_number?m.valueOf()===d.valueOf():d["$respond_to?"]("==")?d["$=="](m):!1},wt.$$arity=1),r.def(De,"$==",Nt=function(d){var m=this;return d.$$is_number?m.valueOf()===d.valueOf():d["$respond_to?"]("==")?d["$=="](m):!1},Nt.$$arity=1),r.def(De,"$abs",Ft=function(){var m=this;return Math.abs(m)},Ft.$$arity=0),r.def(De,"$abs2",Ut=function(){var m=this;return Math.abs(m*m)},Ut.$$arity=0),r.def(De,"$allbits?",Vt=function(d){var m=this;return d=Ge(ze,"Opal")["$coerce_to!"](d,Ge(ze,"Integer"),"to_int"),(m&d)==d},Vt.$$arity=1),r.def(De,"$anybits?",Jt=function(d){var m=this;return d=Ge(ze,"Opal")["$coerce_to!"](d,Ge(ze,"Integer"),"to_int"),(m&d)!==0},Jt.$$arity=1),r.def(De,"$angle",Kt=function(){var m=this;return J(m["$nan?"]())?m:m==0?1/m>0?0:Math.PI:m<0?Math.PI:0},Kt.$$arity=0),r.alias(De,"arg","angle"),r.alias(De,"phase","angle"),r.def(De,"$bit_length",Wt=function(){var m=this;if(J(Ge(ze,"Integer")["$==="](m))||m.$raise(Ge(ze,"NoMethodError").$new("undefined method `bit_length` for "+m+":Float","bit_length")),m===0||m===-1)return 0;for(var p=0,z=m<0?~m:m;z!=0;)p+=1,z>>>=1;return p},Wt.$$arity=0),r.def(De,"$ceil",Qt=function(m){var p=this;m==null&&(m=0);var z=p.$to_f();if(z%1===0&&m>=0)return z;var Z=Math.pow(10,m),re=Math.ceil(z*Z)/Z;return z%1===0&&(re=Math.round(re)),re},Qt.$$arity=-1),r.def(De,"$chr",$r=function(m){var p=this;return String.fromCharCode(p)},$r.$$arity=-1),r.def(De,"$denominator",Ot=function(){var m,p=Ot.$$p,z=p||ke,Z=this,re=ke,ye=ke,q=ke;for(p&&(Ot.$$p=null),ye=0,q=arguments.length,re=new Array(q);ye<q;ye++)re[ye]=arguments[ye];return J(J(m=Z["$nan?"]())?m:Z["$infinite?"]())?1:G(Z,r.find_super_dispatcher(Z,"denominator",Ot,!1),re,p)},Ot.$$arity=0),r.def(De,"$downto",Xt=function(m){var p=Xt.$$p,z=p||ke,Z,re=this;if(p&&(Xt.$$p=null),p&&(Xt.$$p=null),z===ke)return G(re,"enum_for",["downto",m],(Z=function(){var q=Z.$$s||this;return J(Ge(ze,"Numeric")["$==="](m))||q.$raise(Ge(ze,"ArgumentError"),"comparison of "+q.$class()+" with "+m.$class()+" failed"),J(Re(m,q))?0:Ze(Fe(q,m),1)},Z.$$s=re,Z.$$arity=0,Z));m.$$is_number||re.$raise(Ge(ze,"ArgumentError"),"comparison of "+re.$class()+" with "+m.$class()+" failed");for(var ye=re;ye>=m;ye--)z(ye);return re},Xt.$$arity=1),r.alias(De,"eql?","=="),r.def(De,"$equal?",Ht=function(d){var m,p=this;return J(m=p["$=="](d))?m:isNaN(p)&&isNaN(d)},Ht.$$arity=1),r.def(De,"$even?",er=function(){var d=this;return d%2===0},er.$$arity=0),r.def(De,"$floor",ar=function(m){var p=this;m==null&&(m=0);var z=p.$to_f();if(z%1===0&&m>=0)return z;var Z=Math.pow(10,m),re=Math.floor(z*Z)/Z;return z%1===0&&(re=Math.round(re)),re},ar.$$arity=-1),r.def(De,"$gcd",or=function(m){var p=this;J(Ge(ze,"Integer")["$==="](m))||p.$raise(Ge(ze,"TypeError"),"not an integer");for(var z=Math.abs(p),Z=Math.abs(m);z>0;){var re=z;z=Z%z,Z=re}return Z},or.$$arity=1),r.def(De,"$gcdlcm",cr=function(m){var p=this;return[p.$gcd(),p.$lcm()]},cr.$$arity=1),r.def(De,"$integer?",e=function(){var d=this;return d%1===0},e.$$arity=0),r.def(De,"$is_a?",u=function(d){var m,p=u.$$p,z=p||ke,Z=this,re=ke,ye=ke,q=ke;for(p&&(u.$$p=null),ye=0,q=arguments.length,re=new Array(q);ye<q;ye++)re[ye]=arguments[ye];return J((m=d["$=="](Ge(ze,"Integer")))?Ge(ze,"Integer")["$==="](Z):d["$=="](Ge(ze,"Integer")))||J((m=d["$=="](Ge(ze,"Integer")))?Ge(ze,"Integer")["$==="](Z):d["$=="](Ge(ze,"Integer")))||J((m=d["$=="](Ge(ze,"Float")))?Ge(ze,"Float")["$==="](Z):d["$=="](Ge(ze,"Float")))?!0:G(Z,r.find_super_dispatcher(Z,"is_a?",u,!1),re,p)},u.$$arity=1),r.alias(De,"kind_of?","is_a?"),r.def(De,"$instance_of?",O=function(d){var m,p=O.$$p,z=p||ke,Z=this,re=ke,ye=ke,q=ke;for(p&&(O.$$p=null),ye=0,q=arguments.length,re=new Array(q);ye<q;ye++)re[ye]=arguments[ye];return J((m=d["$=="](Ge(ze,"Integer")))?Ge(ze,"Integer")["$==="](Z):d["$=="](Ge(ze,"Integer")))||J((m=d["$=="](Ge(ze,"Integer")))?Ge(ze,"Integer")["$==="](Z):d["$=="](Ge(ze,"Integer")))||J((m=d["$=="](Ge(ze,"Float")))?Ge(ze,"Float")["$==="](Z):d["$=="](Ge(ze,"Float")))?!0:G(Z,r.find_super_dispatcher(Z,"instance_of?",O,!1),re,p)},O.$$arity=1),r.def(De,"$lcm",xe=function(m){var p=this;return J(Ge(ze,"Integer")["$==="](m))||p.$raise(Ge(ze,"TypeError"),"not an integer"),p==0||m==0?0:Math.abs(p*m/p.$gcd(m))},xe.$$arity=1),r.alias(De,"magnitude","abs"),r.alias(De,"modulo","%"),r.def(De,"$next",Xe=function(){var m=this;return m+1},Xe.$$arity=0),r.def(De,"$nobits?",ie=function(d){var m=this;return d=Ge(ze,"Opal")["$coerce_to!"](d,Ge(ze,"Integer"),"to_int"),(m&d)==0},ie.$$arity=1),r.def(De,"$nonzero?",A=function(){var d=this;return d==0?ke:d},A.$$arity=0),r.def(De,"$numerator",$e=function(){var m,p=$e.$$p,z=p||ke,Z=this,re=ke,ye=ke,q=ke;for(p&&($e.$$p=null),ye=0,q=arguments.length,re=new Array(q);ye<q;ye++)re[ye]=arguments[ye];return J(J(m=Z["$nan?"]())?m:Z["$infinite?"]())?Z:G(Z,r.find_super_dispatcher(Z,"numerator",$e,!1),re,p)},$e.$$arity=0),r.def(De,"$odd?",$=function(){var d=this;return d%2!==0},$.$$arity=0),r.def(De,"$ord",n=function(){var m=this;return m},n.$$arity=0),r.def(De,"$pow",y=function(m,p){var z=this;return z==0&&z.$raise(Ge(ze,"ZeroDivisionError"),"divided by 0"),p===void 0?z["$**"](m):(Ge(ze,"Integer")["$==="](m)||z.$raise(Ge(ze,"TypeError"),"Integer#pow() 2nd argument not allowed unless a 1st argument is integer"),m<0&&z.$raise(Ge(ze,"TypeError"),"Integer#pow() 1st argument cannot be negative when 2nd argument specified"),Ge(ze,"Integer")["$==="](p)||z.$raise(Ge(ze,"TypeError"),"Integer#pow() 2nd argument not allowed unless all arguments are integers"),p===0&&z.$raise(Ge(ze,"ZeroDivisionError"),"divided by 0"),z["$**"](m)["$%"](p))},y.$$arity=-2),r.def(De,"$pred",W=function(){var m=this;return m-1},W.$$arity=0),r.def(De,"$quo",oe=function(m){var p=oe.$$p,z=p||ke,Z=this,re=ke,ye=ke,q=ke;for(p&&(oe.$$p=null),ye=0,q=arguments.length,re=new Array(q);ye<q;ye++)re[ye]=arguments[ye];return J(Ge(ze,"Integer")["$==="](Z))?G(Z,r.find_super_dispatcher(Z,"quo",oe,!1),re,p):he(Z,m)},oe.$$arity=1),r.def(De,"$rationalize",b=function(m){var p,z,Z=this,re=ke,ye=ke;return arguments.length>1&&Z.$raise(Ge(ze,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),J(Ge(ze,"Integer")["$==="](Z))?Ge(ze,"Rational").$new(Z,1):J(Z["$infinite?"]())?Z.$raise(Ge(ze,"FloatDomainError"),"Infinity"):J(Z["$nan?"]())?Z.$raise(Ge(ze,"FloatDomainError"),"NaN"):J(m==null)?(z=Ge(ze,"Math").$frexp(Z),p=r.to_ary(z),re=p[0]==null?ke:p[0],ye=p[1]==null?ke:p[1],re=Ge(ze,"Math").$ldexp(re,st(Ge(ze,"Float"),"MANT_DIG")).$to_i(),ye=Fe(ye,st(Ge(ze,"Float"),"MANT_DIG")),Ge(ze,"Rational").$new(gt(2,re),1["$<<"](Fe(1,ye))).$rationalize(Ge(ze,"Rational").$new(1,1["$<<"](Fe(1,ye))))):Z.$to_r().$rationalize(m)},b.$$arity=-1),r.def(De,"$remainder",_=function(m){var p=this;return Fe(p,gt(m,he(p,m).$truncate()))},_.$$arity=1),r.def(De,"$round",c=function(m){var p,z,Z=this,re=ke,ye=ke;if(J(Ge(ze,"Integer")["$==="](Z))){if(J(m==null)||(J(J(p=Ge(ze,"Float")["$==="](m))?m["$infinite?"]():p)&&Z.$raise(Ge(ze,"RangeError"),"Infinity"),m=Ge(ze,"Opal")["$coerce_to!"](m,Ge(ze,"Integer"),"to_int"),J(Je(m,st(Ge(ze,"Integer"),"MIN")))&&Z.$raise(Ge(ze,"RangeError"),"out of bounds"),J(m>=0)))return Z;if(m=m["$-@"](),.415241*m-.125>Z.$size())return 0;var q=Math.pow(10,m),ee=Math.floor((Math.abs(ee)+q/2)/q)*q;return Z<0?-ee:ee}else{if(J(J(p=Z["$nan?"]())?m==null:p)&&Z.$raise(Ge(ze,"FloatDomainError"),"NaN"),m=Ge(ze,"Opal")["$coerce_to!"](m||0,Ge(ze,"Integer"),"to_int"),J(Ce(m,0)))J(Z["$nan?"]())?Z.$raise(Ge(ze,"RangeError"),"NaN"):J(Z["$infinite?"]())&&Z.$raise(Ge(ze,"FloatDomainError"),"Infinity");else{if(m["$=="](0))return Math.round(Z);if(J(J(p=Z["$nan?"]())?p:Z["$infinite?"]()))return Z}return z=Ge(ze,"Math").$frexp(Z),p=r.to_ary(z),re=p[0]==null?ke:p[0],ye=p[1]==null?ke:p[1],J(R(m,Fe(Ze(st(Ge(ze,"Float"),"DIG"),2),function(){return J(Re(ye,0))?he(ye,4):Fe(he(ye,3),1)}())))?Z:J(Je(m,function(){return J(Re(ye,0))?Ze(he(ye,3),1):he(ye,4)}()["$-@"]()))?0:Math.round(Z*Math.pow(10,m))/Math.pow(10,m)}},c.$$arity=-1),r.def(De,"$step",t=function(m,p,z){var Z=t.$$p,re=Z||ke,ye,q,ee,V,_e,Me,Te,et=this,ct=ke,it=ke;if(Z&&(t.$$p=null),Z&&(t.$$p=null),ye=r.slice.call(arguments,0,arguments.length),q=r.extract_kwargs(ye),q==null)q=Ve([],{});else if(!q.$$is_hash)throw r.ArgumentError.$new("expected kwargs");ye.length>0&&(ee=ye[0],ye.splice(0,1)),ye.length>0&&(V=ye[0],ye.splice(0,1)),_e=q.$$smap.to,Me=q.$$smap.by,ee!==void 0&&_e!==void 0&&et.$raise(Ge(ze,"ArgumentError"),"to is given twice"),V!==void 0&&Me!==void 0&&et.$raise(Ge(ze,"ArgumentError"),"step is given twice");function Ne(){_e!==void 0&&(ee=_e),ee===void 0&&(ee=ke),V===ke&&et.$raise(Ge(ze,"TypeError"),"step must be numeric"),V===0&&et.$raise(Ge(ze,"ArgumentError"),"step can't be 0"),Me!==void 0&&(V=Me),(V===ke||V==null)&&(V=1);var lt=V["$<=>"](0);lt===ke&&et.$raise(Ge(ze,"ArgumentError"),"0 can't be coerced into "+V.$class()),(ee===ke||ee==null)&&(ee=lt>0?st(Ge(ze,"Float"),"INFINITY"):st(Ge(ze,"Float"),"INFINITY")["$-@"]()),Ge(ze,"Opal").$compare(et,ee)}function Se(){if(V>0&&et>ee||V<0&&et<ee)return 0;if(V===1/0||V===-1/0)return 1;var lt=Math.abs,K=Math.floor,l=(lt(et)+lt(ee)+lt(ee-et))/lt(V)*st(Ge(ze,"Float"),"EPSILON");return l===1/0||l===-1/0?0:(l>.5&&(l=.5),K((ee-et)/V+l)+1)}function We(){if(Ne(),V===0)return 1/0;if(V%1!==0)return Se();if(V>0&&et>ee||V<0&&et<ee)return 0;var lt=Math.ceil,K=Math.abs,l=K(et-ee)+1,v=K(V);return lt(l/v)}if(re===ke)return ct=[],it=Ve([],{}),ee!==void 0&&ct.push(ee),V!==void 0&&ct.push(V),_e!==void 0&&r.hash_put(it,"to",_e),Me!==void 0&&r.hash_put(it,"by",Me),it["$any?"]()&&ct.push(it),G(et,"enum_for",["step"].concat(r.to_a(ct)),(Te=function(){var lt=Te.$$s||this;return We()},Te.$$s=et,Te.$$arity=0,Te));if(Ne(),V===0)for(;;)re(et);if(et%1!==0||ee%1!==0||V%1!==0){var tt=Se();if(tt>0)if(V===1/0||V===-1/0)re(et);else{var Qe=0,nt;if(V>0)for(;Qe<tt;)nt=Qe*V+et,ee<nt&&(nt=ee),re(nt),Qe+=1;else for(;Qe<tt;)nt=Qe*V+et,ee>nt&&(nt=ee),re(nt),Qe+=1}}else{var yt=et;if(V>0)for(;yt<=ee;)re(yt),yt+=V;else for(;yt>=ee;)re(yt),yt+=V}return et},t.$$arity=-1),r.alias(De,"succ","next"),r.def(De,"$times",s=function(){var m=s.$$p,p=m||ke,z,Z=this;if(m&&(s.$$p=null),m&&(s.$$p=null),!J(p))return G(Z,"enum_for",["times"],(z=function(){var ye=z.$$s||this;return ye},z.$$s=Z,z.$$arity=0,z));for(var re=0;re<Z;re++)p(re);return Z},s.$$arity=0),r.def(De,"$to_f",i=function(){var m=this;return m},i.$$arity=0),r.def(De,"$to_i",j=function(){var m=this;return parseInt(m,10)},j.$$arity=0),r.alias(De,"to_int","to_i"),r.def(De,"$to_r",h=function(){var m,p,z=this,Z=ke,re=ke;return J(Ge(ze,"Integer")["$==="](z))?Ge(ze,"Rational").$new(z,1):(p=Ge(ze,"Math").$frexp(z),m=r.to_ary(p),Z=m[0]==null?ke:m[0],re=m[1]==null?ke:m[1],Z=Ge(ze,"Math").$ldexp(Z,st(Ge(ze,"Float"),"MANT_DIG")).$to_i(),re=Fe(re,st(Ge(ze,"Float"),"MANT_DIG")),gt(Z,st(Ge(ze,"Float"),"RADIX")["$**"](re)).$to_r())},h.$$arity=0),r.def(De,"$to_s",g=function(m){var p,z=this;return m==null&&(m=10),m=Ge(ze,"Opal")["$coerce_to!"](m,Ge(ze,"Integer"),"to_int"),J(J(p=Je(m,2))?p:Re(m,36))&&z.$raise(Ge(ze,"ArgumentError"),"invalid radix "+m),z.toString(m)},g.$$arity=-1),r.def(De,"$truncate",w=function(m){var p=this;m==null&&(m=0);var z=p.$to_f();if(z%1===0&&m>=0)return z;var Z=Math.pow(10,m),re=parseInt(z*Z,10)/Z;return z%1===0&&(re=Math.round(re)),re},w.$$arity=-1),r.alias(De,"inspect","to_s"),r.def(De,"$digits",C=function(m){var p=this;m==null&&(m=10),Je(p,0)&&p.$raise(st(Ge(ze,"Math"),"DomainError"),"out of domain"),m=Ge(ze,"Opal")["$coerce_to!"](m,Ge(ze,"Integer"),"to_int"),J(Je(m,2))&&p.$raise(Ge(ze,"ArgumentError"),"invalid radix "+m);for(var z=p,Z=[];z!==0;)Z.push(z%m),z=parseInt(z/m,10);return Z},C.$$arity=-1),r.def(De,"$divmod",F=function(m){var p,z=F.$$p,Z=z||ke,re=this,ye=ke,q=ke,ee=ke;for(z&&(F.$$p=null),q=0,ee=arguments.length,ye=new Array(ee);q<ee;q++)ye[q]=arguments[q];return J(J(p=re["$nan?"]())?p:m["$nan?"]())?re.$raise(Ge(ze,"FloatDomainError"),"NaN"):J(re["$infinite?"]())?re.$raise(Ge(ze,"FloatDomainError"),"Infinity"):G(re,r.find_super_dispatcher(re,"divmod",F,!1),ye,z)},F.$$arity=1),r.def(De,"$upto",N=function(m){var p=N.$$p,z=p||ke,Z,re=this;if(p&&(N.$$p=null),p&&(N.$$p=null),z===ke)return G(re,"enum_for",["upto",m],(Z=function(){var q=Z.$$s||this;return J(Ge(ze,"Numeric")["$==="](m))||q.$raise(Ge(ze,"ArgumentError"),"comparison of "+q.$class()+" with "+m.$class()+" failed"),J(Je(m,q))?0:Ze(Fe(m,q),1)},Z.$$s=re,Z.$$arity=0,Z));m.$$is_number||re.$raise(Ge(ze,"ArgumentError"),"comparison of "+re.$class()+" with "+m.$class()+" failed");for(var ye=re;ye<=m;ye++)z(ye);return re},N.$$arity=1),r.def(De,"$zero?",x=function(){var d=this;return d==0},x.$$arity=0),r.def(De,"$size",f=function(){var m=this;return 4},f.$$arity=0),r.def(De,"$nan?",L=function(){var d=this;return isNaN(d)},L.$$arity=0),r.def(De,"$finite?",ae=function(){var d=this;return d!=1/0&&d!=-1/0&&!isNaN(d)},ae.$$arity=0),r.def(De,"$infinite?",Pe=function(){var d=this;return d==1/0?1:d==-1/0?-1:ke},Pe.$$arity=0),r.def(De,"$positive?",Ie=function(){var d=this;return d!=0&&(d==1/0||1/d>0)},Ie.$$arity=0),r.def(De,"$negative?",ue=function(){var d=this;return d==-1/0||1/d<0},ue.$$arity=0),ke&&"negative?"}(B[0],Ge(B,"Numeric"),B),r.const_set(B[0],"Fixnum",Ge(B,"Number")),function(ft,Ye,pe){var De=ve(ft,Ye,"Integer"),ze=[De].concat(pe);return De.$$is_number_class=!0,function(ut,xt){var At=[ut].concat(xt),ht,pt,St;return r.def(ut,"$allocate",ht=function(){var Et=this;return Et.$raise(Ge(At,"TypeError"),"allocator undefined for "+Et.$name())},ht.$$arity=0),r.udef(ut,"$new"),r.def(ut,"$===",pt=function(Rt){var Et=this;return Rt.$$is_number?Rt%1===0:!1},pt.$$arity=1),r.def(ut,"$sqrt",St=function(Et){var Bt=this;return Et=Ge(At,"Opal")["$coerce_to!"](Et,Ge(At,"Integer"),"to_int"),Et<0&&Bt.$raise(st(Ge(At,"Math"),"DomainError"),'Numerical argument is out of domain - "isqrt"'),parseInt(Math.sqrt(Et),10)},St.$$arity=1),ke&&"sqrt"}(r.get_singleton_class(De),ze),r.const_set(ze[0],"MAX",Math.pow(2,30)-1),r.const_set(ze[0],"MIN",-Math.pow(2,30))}(B[0],Ge(B,"Numeric"),B),function(ft,Ye,pe){var De=ve(ft,Ye,"Float"),ze=[De].concat(pe);return De.$$is_number_class=!0,function(ut,xt){var At=[ut].concat(xt),ht,pt;return r.def(ut,"$allocate",ht=function(){var Rt=this;return Rt.$raise(Ge(At,"TypeError"),"allocator undefined for "+Rt.$name())},ht.$$arity=0),r.udef(ut,"$new"),r.def(ut,"$===",pt=function(St){var Rt=this;return!!St.$$is_number},pt.$$arity=1),ke&&"==="}(r.get_singleton_class(De),ze),r.const_set(ze[0],"INFINITY",1/0),r.const_set(ze[0],"MAX",Number.MAX_VALUE),r.const_set(ze[0],"MIN",Number.MIN_VALUE),r.const_set(ze[0],"NAN",NaN),r.const_set(ze[0],"DIG",15),r.const_set(ze[0],"MANT_DIG",53),r.const_set(ze[0],"RADIX",2),r.const_set(ze[0],"EPSILON",Number.EPSILON||2220446049250313e-31)}(B[0],Ge(B,"Numeric"),B)},Opal.modules["corelib/range"]=function(r){function Re(Ve,ft){return typeof Ve=="number"&&typeof ft=="number"?Ve<=ft:Ve["$<="](ft)}function Je(Ve,ft){return typeof Ve=="number"&&typeof ft=="number"?Ve<ft:Ve["$<"](ft)}function Ze(Ve,ft){return typeof Ve=="number"&&typeof ft=="number"?Ve>ft:Ve["$>"](ft)}function Fe(Ve,ft){return typeof Ve=="number"&&typeof ft=="number"?Ve-ft:Ve["$-"](ft)}function he(Ve,ft){return typeof Ve=="number"&&typeof ft=="number"?Ve/ft:Ve["$/"](ft)}function gt(Ve,ft){return typeof Ve=="number"&&typeof ft=="number"?Ve+ft:Ve["$+"](ft)}function Ce(Ve,ft){return typeof Ve=="number"&&typeof ft=="number"?Ve*ft:Ve["$*"](ft)}function R(Ve,ft){return typeof Ve=="number"&&typeof ft=="number"?Ve>=ft:Ve["$>="](ft)}var Gt=r.top,B=[],ke=r.nil,st=r.const_get_qualified,Ge=r.const_get_relative,zt=r.breaker,Oe=r.slice,ve=r.klass,J=r.truthy,G=r.send;return r.add_stubs(["$require","$include","$attr_reader","$raise","$<=>","$include?","$<=","$<","$enum_for","$upto","$to_proc","$respond_to?","$class","$succ","$!","$==","$===","$exclude_end?","$eql?","$begin","$end","$last","$to_a","$>","$-","$abs","$to_i","$coerce_to!","$ceil","$/","$size","$loop","$+","$*","$>=","$each_with_index","$%","$bsearch","$inspect","$[]","$hash"]),Gt.$require("corelib/enumerable"),function(Ve,ft,Ye){var pe=ve(Ve,ft,"Range"),De=[pe].concat(Ye),ze,ut,xt,At,ht,pt,St,Rt,Et,Bt,qt,Ct,It,Pt,Mt,jt,D,se;return pe.$$prototype.begin=pe.$$prototype.end=pe.$$prototype.excl=ke,pe.$include(Ge(De,"Enumerable")),pe.$$prototype.$$is_range=!0,pe.$attr_reader("begin","end"),r.def(pe,"$initialize",ze=function(ge,Le,Ue){var qe=this;return Ue==null&&(Ue=!1),J(qe.begin)&&qe.$raise(Ge(De,"NameError"),"'initialize' called twice"),J(ge["$<=>"](Le))||qe.$raise(Ge(De,"ArgumentError"),"bad value for range"),qe.begin=ge,qe.end=Le,qe.excl=Ue},ze.$$arity=-3),r.def(pe,"$==",ut=function(le){var ge=this;return le.$$is_range?ge.excl===le.excl&&ge.begin==le.begin&&ge.end==le.end:!1},ut.$$arity=1),r.def(pe,"$===",xt=function(le){var ge=this;return ge["$include?"](le)},xt.$$arity=1),r.def(pe,"$cover?",At=function(le){var ge,Le=this,Ue=ke,qe=ke;return Ue=Le.begin["$<=>"](le),J(J(ge=Ue)?Re(Ue,0):ge)?(qe=le["$<=>"](Le.end),J(Le.excl)?J(ge=qe)?Je(qe,0):ge:J(ge=qe)?Re(qe,0):ge):!1},At.$$arity=1),r.def(pe,"$each",ht=function(){var ge=ht.$$p,Le=ge||ke,Ue,qe=this,wt=ke,Nt=ke;if(ge&&(ht.$$p=null),ge&&(ht.$$p=null),Le===ke)return qe.$enum_for("each");var Ft,Ut;if(qe.begin.$$is_number&&qe.end.$$is_number){for((qe.begin%1!==0||qe.end%1!==0)&&qe.$raise(Ge(De,"TypeError"),"can't iterate from Float"),Ft=qe.begin,Ut=qe.end+function(){return J(qe.excl)?0:1}();Ft<Ut;Ft++)Le(Ft);return qe}if(qe.begin.$$is_string&&qe.end.$$is_string)return G(qe.begin,"upto",[qe.end,qe.excl],Le.$to_proc()),qe;for(wt=qe.begin,Nt=qe.end,J(wt["$respond_to?"]("succ"))||qe.$raise(Ge(De,"TypeError"),"can't iterate from "+wt.$class());J(Je(wt["$<=>"](Nt),0));)r.yield1(Le,wt),wt=wt.$succ();return J(J(Ue=qe.excl["$!"]())?wt["$=="](Nt):Ue)&&r.yield1(Le,wt),qe},ht.$$arity=0),r.def(pe,"$eql?",pt=function(le){var ge,Le,Ue=this;return J(Ge(De,"Range")["$==="](le))?J(ge=J(Le=Ue.excl["$==="](le["$exclude_end?"]()))?Ue.begin["$eql?"](le.$begin()):Le)?Ue.end["$eql?"](le.$end()):ge:!1},pt.$$arity=1),r.def(pe,"$exclude_end?",St=function(){var le=this;return le.excl},St.$$arity=0),r.def(pe,"$first",Rt=function(ge){var Le=Rt.$$p,Ue=Le||ke,qe=this,wt=ke,Nt=ke,Ft=ke;for(Le&&(Rt.$$p=null),Nt=0,Ft=arguments.length,wt=new Array(Ft);Nt<Ft;Nt++)wt[Nt]=arguments[Nt];return J(ge==null)?qe.begin:G(qe,r.find_super_dispatcher(qe,"first",Rt,!1),wt,Le)},Rt.$$arity=-1),r.alias(pe,"include?","cover?"),r.def(pe,"$last",Et=function(ge){var Le=this;return J(ge==null)?Le.end:Le.$to_a().$last(ge)},Et.$$arity=-1),r.def(pe,"$max",Bt=function(){var ge,Le=Bt.$$p,Ue=Le||ke,qe=this,wt=ke,Nt=ke,Ft=ke;for(Le&&(Bt.$$p=null),Nt=0,Ft=arguments.length,wt=new Array(Ft);Nt<Ft;Nt++)wt[Nt]=arguments[Nt];return Ue!==ke?G(qe,r.find_super_dispatcher(qe,"max",Bt,!1),wt,Le):J(Ze(qe.begin,qe.end))||J(J(ge=qe.excl)?qe.begin["$=="](qe.end):ge)?ke:qe.excl?qe.end-1:qe.end},Bt.$$arity=0),r.alias(pe,"member?","cover?"),r.def(pe,"$min",qt=function(){var ge,Le=qt.$$p,Ue=Le||ke,qe=this,wt=ke,Nt=ke,Ft=ke;for(Le&&(qt.$$p=null),Nt=0,Ft=arguments.length,wt=new Array(Ft);Nt<Ft;Nt++)wt[Nt]=arguments[Nt];return Ue!==ke?G(qe,r.find_super_dispatcher(qe,"min",qt,!1),wt,Le):J(Ze(qe.begin,qe.end))||J(J(ge=qe.excl)?qe.begin["$=="](qe.end):ge)?ke:qe.begin},qt.$$arity=0),r.def(pe,"$size",Ct=function(){var ge,Le=this,Ue=ke,qe=ke,wt=ke;return Ue=Le.begin,qe=Le.end,J(Le.excl)&&(qe=Fe(qe,1)),J(J(ge=Ge(De,"Numeric")["$==="](Ue))?Ge(De,"Numeric")["$==="](qe):ge)?J(Je(qe,Ue))?0:(wt=st(Ge(De,"Float"),"INFINITY"),J([Ue.$abs(),qe.$abs()]["$include?"](wt))?wt:(Math.abs(qe-Ue)+1).$to_i()):ke},Ct.$$arity=0),r.def(pe,"$step",It=function(ge){var Le,Ue,qe,wt=It.$$p,Nt=wt||ke,Ft=this,Ut=ke;wt&&(It.$$p=null),ge==null&&(ge=1);function Vt(){ge.$$is_number||(ge=Ge(De,"Opal")["$coerce_to!"](ge,Ge(De,"Integer"),"to_int")),ge<0?Ft.$raise(Ge(De,"ArgumentError"),"step can't be negative"):ge===0&&Ft.$raise(Ge(De,"ArgumentError"),"step can't be 0")}function Jt(){if(!Ft.begin["$respond_to?"]("succ")||Ft.begin.$$is_string&&Ft.end.$$is_string)return ke;if(ge%1===0)return he(Ft.$size(),ge).$ceil();var Kt=Ft.begin,Wt=Ft.end,Qt=Math.abs,$r=Math.floor,Ot=(Qt(Kt)+Qt(Wt)+Qt(Wt-Kt))/Qt(ge)*st(Ge(De,"Float"),"EPSILON"),Xt;return Ot>.5&&(Ot=.5),Ft.excl?(Xt=$r((Wt-Kt)/ge-Ot),Xt*ge+Kt<Wt&&Xt++):Xt=$r((Wt-Kt)/ge+Ot)+1,Xt}return Nt===ke?G(Ft,"enum_for",["step",ge],(Le=function(){var Kt=Le.$$s||this;return Vt(),Jt()},Le.$$s=Ft,Le.$$arity=0,Le)):(Vt(),J(Ft.begin.$$is_number&&Ft.end.$$is_number)?(Ut=0,function(){var Kt=r.new_brk();try{return G(Ft,"loop",[],(Ue=function(){var Wt=Ue.$$s||this,Qt=ke;return Wt.begin==null&&(Wt.begin=ke),Wt.excl==null&&(Wt.excl=ke),Wt.end==null&&(Wt.end=ke),Qt=gt(Wt.begin,Ce(Ut,ge)),J(Wt.excl)?J(R(Qt,Wt.end))&&r.brk(ke,Kt):J(Ze(Qt,Wt.end))&&r.brk(ke,Kt),r.yield1(Nt,Qt),Ut=gt(Ut,1)},Ue.$$s=Ft,Ue.$$brk=Kt,Ue.$$arity=0,Ue))}catch(Wt){if(Wt===Kt)return Wt.$v;throw Wt}}()):(Ft.begin.$$is_string&&Ft.end.$$is_string&&ge%1!==0&&Ft.$raise(Ge(De,"TypeError"),"no implicit conversion to float from string"),G(Ft,"each_with_index",[],(qe=function(Kt,Wt){var Qt=qe.$$s||this;return Kt==null&&(Kt=ke),Wt==null&&(Wt=ke),Wt["$%"](ge)["$=="](0)?r.yield1(Nt,Kt):ke},qe.$$s=Ft,qe.$$arity=2,qe))),Ft)},It.$$arity=-1),r.def(pe,"$bsearch",Pt=function(){var ge=Pt.$$p,Le=ge||ke,Ue=this;return ge&&(Pt.$$p=null),ge&&(Pt.$$p=null),Le===ke?Ue.$enum_for("bsearch"):(J(Ue.begin.$$is_number&&Ue.end.$$is_number)||Ue.$raise(Ge(De,"TypeError"),"can't do binary search for "+Ue.begin.$class()),G(Ue.$to_a(),"bsearch",[],Le.$to_proc()))},Pt.$$arity=0),r.def(pe,"$to_s",Mt=function(){var ge=this;return""+ge.begin+function(){return J(ge.excl)?"...":".."}()+ge.end},Mt.$$arity=0),r.def(pe,"$inspect",jt=function(){var ge=this;return""+ge.begin.$inspect()+function(){return J(ge.excl)?"...":".."}()+ge.end.$inspect()},jt.$$arity=0),r.def(pe,"$marshal_load",D=function(ge){var Le=this;return Le.begin=ge["$[]"]("begin"),Le.end=ge["$[]"]("end"),Le.excl=ge["$[]"]("excl")},D.$$arity=1),r.def(pe,"$hash",se=function(){var ge=this;return[ge.begin,ge.end,ge.excl].$hash()},se.$$arity=0),ke&&"hash"}(B[0],null,B)},Opal.modules["corelib/proc"]=function(r){var Re=r.top,Je=[],Ze=r.nil,Fe=r.const_get_qualified,he=r.const_get_relative,gt=r.breaker,Ce=r.slice,R=r.klass,Gt=r.truthy;return r.add_stubs(["$raise","$coerce_to!"]),function(B,ke,st){var Ge=R(B,ke,"Proc"),zt=[Ge].concat(st),Oe,ve,J,G,Ve,ft,Ye,pe,De,ze;return r.defineProperty(Ge.$$prototype,"$$is_proc",!0),r.defineProperty(Ge.$$prototype,"$$is_lambda",!1),r.defs(Ge,"$new",Oe=function(){var ut=Oe.$$p,xt=ut||Ze,At=this;return ut&&(Oe.$$p=null),ut&&(Oe.$$p=null),Gt(xt)||At.$raise(he(zt,"ArgumentError"),"tried to create a Proc object without a block"),xt},Oe.$$arity=0),r.def(Ge,"$call",ve=function(xt){var At=ve.$$p,ht=At||Ze,pt,St,Rt=this;At&&(ve.$$p=null),At&&(ve.$$p=null),pt=r.slice.call(arguments,0,arguments.length),St=pt,ht!==Ze&&(Rt.$$p=ht);var Et,Bt=Rt.$$brk;if(Bt)try{Rt.$$is_lambda?Et=Rt.apply(null,St):Et=r.yieldX(Rt,St)}catch(qt){if(qt===Bt)return Bt.$v;throw qt}else Rt.$$is_lambda?Et=Rt.apply(null,St):Et=r.yieldX(Rt,St);return Et},ve.$$arity=-1),r.alias(Ge,"[]","call"),r.alias(Ge,"===","call"),r.alias(Ge,"yield","call"),r.def(Ge,"$to_proc",J=function(){var xt=this;return xt},J.$$arity=0),r.def(Ge,"$lambda?",G=function(){var ut=this;return!!ut.$$is_lambda},G.$$arity=0),r.def(Ge,"$arity",Ve=function(){var xt=this;return xt.$$is_curried?-1:xt.$$arity},Ve.$$arity=0),r.def(Ge,"$source_location",ft=function(){var xt=this;return xt.$$is_curried,Ze},ft.$$arity=0),r.def(Ge,"$binding",Ye=function(){var xt=this;return xt.$$is_curried&&xt.$raise(he(zt,"ArgumentError"),"Can't create Binding"),Ze},Ye.$$arity=0),r.def(Ge,"$parameters",pe=function(){var xt=this;if(xt.$$is_curried)return[["rest"]];if(xt.$$parameters){if(xt.$$is_lambda)return xt.$$parameters;var At=[],ht,pt;for(ht=0,pt=xt.$$parameters.length;ht<pt;ht++){var St=xt.$$parameters[ht];St[0]==="req"&&(St=["opt",St[1]]),At.push(St)}return At}else return[]},pe.$$arity=0),r.def(Ge,"$curry",De=function(xt){var At=this;xt===void 0?xt=At.length:(xt=he(zt,"Opal")["$coerce_to!"](xt,he(zt,"Integer"),"to_int"),At.$$is_lambda&&xt!==At.length&&At.$raise(he(zt,"ArgumentError"),"wrong number of arguments ("+xt+" for "+At.length+")"));function ht(){var pt=Ce.call(arguments),St=pt.length,Rt;return St>xt&&At.$$is_lambda&&!At.$$is_curried&&At.$raise(he(zt,"ArgumentError"),"wrong number of arguments ("+St+" for "+xt+")"),St>=xt?At.$call.apply(At,pt):(Rt=function(){return ht.apply(null,pt.concat(Ce.call(arguments)))},Rt.$$is_lambda=At.$$is_lambda,Rt.$$is_curried=!0,Rt)}return ht.$$is_lambda=At.$$is_lambda,ht.$$is_curried=!0,ht},De.$$arity=-1),r.def(Ge,"$dup",ze=function(){var xt=this,At=xt.$$original_proc||xt,ht=function(){return At.apply(this,arguments)};for(var pt in xt)xt.hasOwnProperty(pt)&&(ht[pt]=xt[pt]);return ht},ze.$$arity=0),r.alias(Ge,"clone","dup")}(Je[0],Function,Je)},Opal.modules["corelib/method"]=function(r){var Re=r.top,Je=[],Ze=r.nil,Fe=r.const_get_qualified,he=r.const_get_relative,gt=r.breaker,Ce=r.slice,R=r.klass,Gt=r.truthy;return r.add_stubs(["$attr_reader","$arity","$new","$class","$join","$source_location","$raise"]),function(B,ke,st){var Ge=R(B,ke,"Method"),zt=[Ge].concat(st),Oe,ve,J,G,Ve,ft,Ye,pe,De;return Ge.$$prototype.method=Ge.$$prototype.receiver=Ge.$$prototype.owner=Ge.$$prototype.name=Ze,Ge.$attr_reader("owner","receiver","name"),r.def(Ge,"$initialize",Oe=function(ut,xt,At,ht){var pt=this;return pt.receiver=ut,pt.owner=xt,pt.name=ht,pt.method=At},Oe.$$arity=4),r.def(Ge,"$arity",ve=function(){var ut=this;return ut.method.$arity()},ve.$$arity=0),r.def(Ge,"$parameters",J=function(){var ut=this;return ut.method.$$parameters},J.$$arity=0),r.def(Ge,"$source_location",G=function(){var ut,xt=this;return Gt(ut=xt.method.$$source_location)?ut:["(eval)",0]},G.$$arity=0),r.def(Ge,"$comments",Ve=function(){var ut,xt=this;return Gt(ut=xt.method.$$comments)?ut:[]},Ve.$$arity=0),r.def(Ge,"$call",ft=function(ut){var xt=ft.$$p,At=xt||Ze,ht,pt,St=this;return xt&&(ft.$$p=null),xt&&(ft.$$p=null),ht=r.slice.call(arguments,0,arguments.length),pt=ht,St.method.$$p=At,St.method.apply(St.receiver,pt)},ft.$$arity=-1),r.alias(Ge,"[]","call"),r.def(Ge,"$unbind",Ye=function(){var ut=this;return he(zt,"UnboundMethod").$new(ut.receiver.$class(),ut.owner,ut.method,ut.name)},Ye.$$arity=0),r.def(Ge,"$to_proc",pe=function(){var ut=this,xt=ut.$call.bind(ut);return xt.$$unbound=ut.method,xt.$$is_lambda=!0,xt.$$arity=ut.method.$$arity,xt.$$parameters=ut.method.$$parameters,xt},pe.$$arity=0),r.def(Ge,"$inspect",De=function(){var ut=this;return"#<"+ut.$class()+": "+ut.receiver.$class()+"#"+ut.name+" (defined in "+ut.owner+" in "+ut.$source_location().$join(":")+")>"},De.$$arity=0),Ze&&"inspect"}(Je[0],null,Je),function(B,ke,st){var Ge=R(B,ke,"UnboundMethod"),zt=[Ge].concat(st),Oe,ve,J,G,Ve,ft,Ye;return Ge.$$prototype.method=Ge.$$prototype.owner=Ge.$$prototype.name=Ge.$$prototype.source=Ze,Ge.$attr_reader("source","owner","name"),r.def(Ge,"$initialize",Oe=function(De,ze,ut,xt){var At=this;return At.source=De,At.owner=ze,At.method=ut,At.name=xt},Oe.$$arity=4),r.def(Ge,"$arity",ve=function(){var De=this;return De.method.$arity()},ve.$$arity=0),r.def(Ge,"$parameters",J=function(){var De=this;return De.method.$$parameters},J.$$arity=0),r.def(Ge,"$source_location",G=function(){var De,ze=this;return Gt(De=ze.method.$$source_location)?De:["(eval)",0]},G.$$arity=0),r.def(Ge,"$comments",Ve=function(){var De,ze=this;return Gt(De=ze.method.$$comments)?De:[]},Ve.$$arity=0),r.def(Ge,"$bind",ft=function(De){var ze=this;if(ze.owner.$$is_module||r.is_a(De,ze.owner))return he(zt,"Method").$new(De,ze.owner,ze.method,ze.name);ze.$raise(he(zt,"TypeError"),"can't bind singleton method to a different class (expected "+De+".kind_of?("+ze.owner+" to be true)")},ft.$$arity=1),r.def(Ge,"$inspect",Ye=function(){var De=this;return"#<"+De.$class()+": "+De.source+"#"+De.name+" (defined in "+De.owner+" in "+De.$source_location().$join(":")+")>"},Ye.$$arity=0),Ze&&"inspect"}(Je[0],null,Je)},Opal.modules["corelib/variables"]=function(r){var Re=r.top,Je=[],Ze=r.nil,Fe=r.const_get_qualified,he=r.const_get_relative,gt=r.breaker,Ce=r.slice,R=r.gvars,Gt=r.hash2;return r.add_stubs(["$new"]),R["&"]=R["~"]=R["`"]=R["'"]=Ze,R.LOADED_FEATURES=R['"']=r.loaded_features,R.LOAD_PATH=R[":"]=[],R["/"]=`
`,R[","]=Ze,r.const_set(Je[0],"ARGV",[]),r.const_set(Je[0],"ARGF",he(Je,"Object").$new()),r.const_set(Je[0],"ENV",Gt([],{})),R.VERBOSE=!1,R.DEBUG=!1,R.SAFE=0},Opal.modules["opal/regexp_anchors"]=function(r){var Re=r.top,Je=[],Ze=r.nil,Fe=r.const_get_qualified,he=r.const_get_relative,gt=r.breaker,Ce=r.slice,R=r.module;return r.add_stubs(["$==","$new"]),function(Gt,B){var ke=R(Gt,"Opal"),st=[ke].concat(B);r.const_set(st[0],"REGEXP_START",function(){return he(st,"RUBY_ENGINE")["$=="]("opal")?"^":Ze}()),r.const_set(st[0],"REGEXP_END",function(){return he(st,"RUBY_ENGINE")["$=="]("opal")?"$":Ze}()),r.const_set(st[0],"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),r.const_set(st[0],"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),r.const_set(st[0],"INLINE_IDENTIFIER_REGEXP",he(st,"Regexp").$new("[^"+he(st,"FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+he(st,"FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]")),r.const_set(st[0],"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),r.const_set(st[0],"CONST_NAME_REGEXP",he(st,"Regexp").$new(""+he(st,"REGEXP_START")+"(::)?[A-Z][^"+he(st,"FORBIDDEN_CONST_NAME_CHARS")+"]*"+he(st,"REGEXP_END")))}(Je[0],Je)},Opal.modules["opal/mini"]=function(r){var Re=r.top,Je=[],Ze=r.nil,Fe=r.const_get_qualified,he=r.const_get_relative,gt=r.breaker,Ce=r.slice;return r.add_stubs(["$require"]),Re.$require("opal/base"),Re.$require("corelib/nil"),Re.$require("corelib/boolean"),Re.$require("corelib/string"),Re.$require("corelib/comparable"),Re.$require("corelib/enumerable"),Re.$require("corelib/enumerator"),Re.$require("corelib/array"),Re.$require("corelib/hash"),Re.$require("corelib/number"),Re.$require("corelib/range"),Re.$require("corelib/proc"),Re.$require("corelib/method"),Re.$require("corelib/regexp"),Re.$require("corelib/variables"),Re.$require("opal/regexp_anchors")},Opal.modules["corelib/string/encoding"]=function(r){function Re(Ve,ft){return typeof Ve=="number"&&typeof ft=="number"?Ve+ft:Ve["$+"](ft)}function Je(Ve,ft){return typeof Ve=="number"&&typeof ft=="number"?Ve<ft:Ve["$<"](ft)}var Ze,Fe,he,gt,Ce,R=r.top,Gt=[],B=r.nil,ke=r.const_get_qualified,st=r.const_get_relative,Ge=r.breaker,zt=r.slice,Oe=r.klass,ve=r.hash2,J=r.truthy,G=r.send;return r.add_stubs(["$require","$+","$[]","$new","$to_proc","$each","$const_set","$sub","$==","$default_external","$upcase","$raise","$attr_accessor","$attr_reader","$register","$length","$bytes","$to_a","$each_byte","$dup","$bytesize","$enum_for","$coerce_to!","$find","$<"]),R.$require("corelib/string"),function(Ve,ft,Ye){var pe=Oe(Ve,ft,"Encoding"),De=[pe].concat(Ye),ze,ut,xt,At,ht,pt,St,Rt,Et;return pe.$$prototype.ascii=pe.$$prototype.dummy=pe.$$prototype.name=B,r.defineProperty(pe,"$$register",{}),r.defs(pe,"$register",ze=function(qt,Ct){var It=ze.$$p,Pt=It||B,Mt,jt,D=this,se=B,le=B,ge=B;return It&&(ze.$$p=null),It&&(ze.$$p=null),Ct==null&&(Ct=ve([],{})),se=Re([qt],J(Mt=Ct["$[]"]("aliases"))?Mt:[]),le=G(st(De,"Class"),"new",[D],Pt.$to_proc()).$new(qt,se,J(Mt=Ct["$[]"]("ascii"))?Mt:!1,J(Mt=Ct["$[]"]("dummy"))?Mt:!1),ge=D.$$register,G(se,"each",[],(jt=function(Le){var Ue=jt.$$s||this;return Le==null&&(Le=B),Ue.$const_set(Le.$sub("-","_"),le),ge["$$"+Le]=le},jt.$$s=D,jt.$$arity=1,jt))},ze.$$arity=-2),r.defs(pe,"$find",ut=function(qt){var Ct,It=this,Pt=B,Mt=B;return qt["$=="]("default_external")?It.$default_external():(Pt=It.$$register,Mt=J(Ct=Pt["$$"+qt])?Ct:Pt["$$"+qt.$upcase()],J(Mt)||It.$raise(st(De,"ArgumentError"),"unknown encoding name - "+qt),Mt)},ut.$$arity=1),function(Bt,qt){var Ct=[Bt].concat(qt);return Bt.$attr_accessor("default_external")}(r.get_singleton_class(pe),De),pe.$attr_reader("name","names"),r.def(pe,"$initialize",xt=function(qt,Ct,It,Pt){var Mt=this;return Mt.name=qt,Mt.names=Ct,Mt.ascii=It,Mt.dummy=Pt},xt.$$arity=4),r.def(pe,"$ascii_compatible?",At=function(){var Bt=this;return Bt.ascii},At.$$arity=0),r.def(pe,"$dummy?",ht=function(){var Bt=this;return Bt.dummy},ht.$$arity=0),r.def(pe,"$to_s",pt=function(){var qt=this;return qt.name},pt.$$arity=0),r.def(pe,"$inspect",St=function(){var qt=this;return"#<Encoding:"+qt.name+function(){return J(qt.dummy)?" (dummy)":B}()+">"},St.$$arity=0),r.def(pe,"$each_byte",Rt=function(qt){var Ct,It=this;return Ct=r.slice.call(arguments,0,arguments.length),It.$raise(st(De,"NotImplementedError"))},Rt.$$arity=-1),r.def(pe,"$bytesize",Et=function(qt){var Ct,It=this;return Ct=r.slice.call(arguments,0,arguments.length),It.$raise(st(De,"NotImplementedError"))},Et.$$arity=-1),function(Bt,qt,Ct){var It=Oe(Bt,qt,"EncodingError"),Pt=[It].concat(Ct);return B}(De[0],st(De,"StandardError"),De),function(Bt,qt,Ct){var It=Oe(Bt,qt,"CompatibilityError"),Pt=[It].concat(Ct);return B}(De[0],st(De,"EncodingError"),De)}(Gt[0],null,Gt),G(st(Gt,"Encoding"),"register",["UTF-8",ve(["aliases","ascii"],{aliases:["CP65001"],ascii:!0})],(Ze=function(){var Ve=Ze.$$s||this,ft,Ye;return r.def(Ve,"$each_byte",ft=function(De){var ze=ft.$$p,ut=ze||B,xt=this;ze&&(ft.$$p=null),ze&&(ft.$$p=null);for(var At=1/0,ht,pt=De.length,St=null,Rt=0;Rt<pt;++Rt){if(ht=De.charCodeAt(Rt),ht>55295&&ht<57344){if(!St){if(ht>56319){(At-=3)>-1&&(r.yield1(ut,239),r.yield1(ut,191),r.yield1(ut,189));continue}else if(Rt+1===pt){(At-=3)>-1&&(r.yield1(ut,239),r.yield1(ut,191),r.yield1(ut,189));continue}St=ht;continue}if(ht<56320){(At-=3)>-1&&(r.yield1(ut,239),r.yield1(ut,191),r.yield1(ut,189)),St=ht;continue}ht=(St-55296<<10|ht-56320)+65536}else St&&(At-=3)>-1&&(r.yield1(ut,239),r.yield1(ut,191),r.yield1(ut,189));if(St=null,ht<128){if((At-=1)<0)break;r.yield1(ut,ht)}else if(ht<2048){if((At-=2)<0)break;r.yield1(ut,ht>>6|192),r.yield1(ut,ht&63|128)}else if(ht<65536){if((At-=3)<0)break;r.yield1(ut,ht>>12|224),r.yield1(ut,ht>>6&63|128),r.yield1(ut,ht&63|128)}else if(ht<1114112){if((At-=4)<0)break;r.yield1(ut,ht>>18|240),r.yield1(ut,ht>>12&63|128),r.yield1(ut,ht>>6&63|128),r.yield1(ut,ht&63|128)}}},ft.$$arity=1),r.def(Ve,"$bytesize",Ye=function(De){var ze=this;return De.$bytes().$length()},Ye.$$arity=1),B&&"bytesize"},Ze.$$s=R,Ze.$$arity=0,Ze)),G(st(Gt,"Encoding"),"register",["UTF-16LE"],(Fe=function(){var Ve=Fe.$$s||this,ft,Ye;return r.def(Ve,"$each_byte",ft=function(De){var ze=ft.$$p,ut=ze||B,xt=this;ze&&(ft.$$p=null),ze&&(ft.$$p=null);for(var At=0,ht=De.length;At<ht;At++){var pt=De.charCodeAt(At);r.yield1(ut,pt&255),r.yield1(ut,pt>>8)}},ft.$$arity=1),r.def(Ve,"$bytesize",Ye=function(De){var ze=this;return De.$bytes().$length()},Ye.$$arity=1),B&&"bytesize"},Fe.$$s=R,Fe.$$arity=0,Fe)),G(st(Gt,"Encoding"),"register",["UTF-16BE"],(he=function(){var Ve=he.$$s||this,ft,Ye;return r.def(Ve,"$each_byte",ft=function(De){var ze=ft.$$p,ut=ze||B,xt=this;ze&&(ft.$$p=null),ze&&(ft.$$p=null);for(var At=0,ht=De.length;At<ht;At++){var pt=De.charCodeAt(At);r.yield1(ut,pt>>8),r.yield1(ut,pt&255)}},ft.$$arity=1),r.def(Ve,"$bytesize",Ye=function(De){var ze=this;return De.$bytes().$length()},Ye.$$arity=1),B&&"bytesize"},he.$$s=R,he.$$arity=0,he)),G(st(Gt,"Encoding"),"register",["UTF-32LE"],(gt=function(){var Ve=gt.$$s||this,ft,Ye;return r.def(Ve,"$each_byte",ft=function(De){var ze=ft.$$p,ut=ze||B,xt=this;ze&&(ft.$$p=null),ze&&(ft.$$p=null);for(var At=0,ht=De.length;At<ht;At++){var pt=De.charCodeAt(At);r.yield1(ut,pt&255),r.yield1(ut,pt>>8)}},ft.$$arity=1),r.def(Ve,"$bytesize",Ye=function(De){var ze=this;return De.$bytes().$length()},Ye.$$arity=1),B&&"bytesize"},gt.$$s=R,gt.$$arity=0,gt)),G(st(Gt,"Encoding"),"register",["ASCII-8BIT",ve(["aliases","ascii","dummy"],{aliases:["BINARY","US-ASCII","ASCII"],ascii:!0,dummy:!0})],(Ce=function(){var Ve=Ce.$$s||this,ft,Ye;return r.def(Ve,"$each_byte",ft=function(De){var ze=ft.$$p,ut=ze||B,xt=this;ze&&(ft.$$p=null),ze&&(ft.$$p=null);for(var At=0,ht=De.length;At<ht;At++){var pt=De.charCodeAt(At);r.yield1(ut,pt&255),r.yield1(ut,pt>>8)}},ft.$$arity=1),r.def(Ve,"$bytesize",Ye=function(De){var ze=this;return De.$bytes().$length()},Ye.$$arity=1),B&&"bytesize"},Ce.$$s=R,Ce.$$arity=0,Ce)),function(Ve,ft,Ye){var pe=Oe(Ve,ft,"String"),De=[pe].concat(Ye),ze,ut,xt,At,ht,pt,St;return pe.$$prototype.bytes=pe.$$prototype.internal_encoding=B,pe.$attr_reader("encoding"),pe.$attr_reader("internal_encoding"),r.defineProperty(String.prototype,"bytes",B),r.defineProperty(String.prototype,"encoding",ke(st(De,"Encoding"),"UTF_8")),r.defineProperty(String.prototype,"internal_encoding",ke(st(De,"Encoding"),"UTF_8")),r.def(pe,"$bytes",ze=function(){var Et,Bt=this;return Bt.bytes=J(Et=Bt.bytes)?Et:Bt.$each_byte().$to_a(),Bt.bytes.$dup()},ze.$$arity=0),r.def(pe,"$bytesize",ut=function(){var Et=this;return Et.internal_encoding.$bytesize(Et)},ut.$$arity=0),r.def(pe,"$each_byte",xt=function(){var Et=xt.$$p,Bt=Et||B,qt=this;return Et&&(xt.$$p=null),Et&&(xt.$$p=null),Bt===B?qt.$enum_for("each_byte"):(G(qt.internal_encoding,"each_byte",[qt],Bt.$to_proc()),qt)},xt.$$arity=0),r.def(pe,"$encode",At=function(Et){var Bt=this;return r.enc(Bt,Et)},At.$$arity=1),r.def(pe,"$force_encoding",ht=function(Et){var Bt=this;return Et===Bt.encoding||(Et=st(De,"Opal")["$coerce_to!"](Et,st(De,"String"),"to_s"),Et=st(De,"Encoding").$find(Et),Et===Bt.encoding)||(Bt.encoding=Et),Bt},ht.$$arity=1),r.def(pe,"$getbyte",pt=function(Et){var Bt=this,qt=B;return qt=Bt.$bytes(),Et=st(De,"Opal")["$coerce_to!"](Et,st(De,"Integer"),"to_int"),J(Je(qt.$length(),Et))?B:qt["$[]"](Et)},pt.$$arity=1),r.def(pe,"$valid_encoding?",St=function(){var Rt=this;return!0},St.$$arity=0),B&&"valid_encoding?"}(Gt[0],null,Gt)},Opal.modules["corelib/struct"]=function(r){function Re(J,G){return typeof J=="number"&&typeof G=="number"?J>G:J["$>"](G)}function Je(J,G){return typeof J=="number"&&typeof G=="number"?J-G:J["$-"](G)}function Ze(J,G){return typeof J=="number"&&typeof G=="number"?J<G:J["$<"](G)}function Fe(J,G){return typeof J=="number"&&typeof G=="number"?J>=G:J["$>="](G)}function he(J,G){return typeof J=="number"&&typeof G=="number"?J+G:J["$+"](G)}var gt=r.top,Ce=[],R=r.nil,Gt=r.const_get_qualified,B=r.const_get_relative,ke=r.breaker,st=r.slice,Ge=r.klass,zt=r.hash2,Oe=r.truthy,ve=r.send;return r.add_stubs(["$require","$include","$const_name!","$unshift","$map","$coerce_to!","$new","$each","$define_struct_attribute","$allocate","$initialize","$alias_method","$module_eval","$to_proc","$const_set","$==","$raise","$<<","$members","$define_method","$instance_eval","$class","$last","$>","$length","$-","$keys","$any?","$join","$[]","$[]=","$each_with_index","$hash","$===","$<","$-@","$size","$>=","$include?","$to_sym","$instance_of?","$__id__","$eql?","$enum_for","$name","$+","$each_pair","$inspect","$each_with_object","$flatten","$to_a","$respond_to?","$dig"]),gt.$require("corelib/enumerable"),function(J,G,Ve){var ft=Ge(J,G,"Struct"),Ye=[ft].concat(Ve),pe,De,ze,ut,xt,At,ht,pt,St,Rt,Et,Bt,qt,Ct,It,Pt,Mt,jt,D;return ft.$include(B(Ye,"Enumerable")),r.defs(ft,"$new",pe=function(se,le,ge){var Le=pe.$$p,Ue=Le||R,qe,wt,Nt,Ft,Ut,Vt,Jt=this,Kt=R;if(Le&&(pe.$$p=null),Le&&(pe.$$p=null),qe=r.slice.call(arguments,1,arguments.length),wt=r.extract_kwargs(qe),wt==null)wt=zt([],{});else if(!wt.$$is_hash)throw r.ArgumentError.$new("expected kwargs");if(Nt=qe,Ft=wt.$$smap.keyword_init,Ft==null&&(Ft=!1),Oe(se))try{se=B(Ye,"Opal")["$const_name!"](se)}catch(Wt){if(r.rescue(Wt,[B(Ye,"TypeError"),B(Ye,"NameError")]))try{Nt.$unshift(se),se=R}finally{r.pop_exception()}else throw Wt}return ve(Nt,"map",[],(Ut=function(Wt){var Qt=Ut.$$s||this;return Wt==null&&(Wt=R),B(Ye,"Opal")["$coerce_to!"](Wt,B(Ye,"String"),"to_str")},Ut.$$s=Jt,Ut.$$arity=1,Ut)),Kt=ve(B(Ye,"Class"),"new",[Jt],(Vt=function(){var Wt=Vt.$$s||this,Qt;return ve(Nt,"each",[],(Qt=function($r){var Ot=Qt.$$s||this;return $r==null&&($r=R),Ot.$define_struct_attribute($r)},Qt.$$s=Wt,Qt.$$arity=1,Qt)),function($r,Ot){var Xt=[$r].concat(Ot),Ht;return r.def($r,"$new",Ht=function(er){var ar,or,cr=this,e=R;return ar=r.slice.call(arguments,0,arguments.length),or=ar,e=cr.$allocate(),e.$$data={},ve(e,"initialize",r.to_a(or)),e},Ht.$$arity=-1),$r.$alias_method("[]","new")}(r.get_singleton_class(Wt),Ye)},Vt.$$s=Jt,Vt.$$arity=0,Vt)),Oe(Ue)&&ve(Kt,"module_eval",[],Ue.$to_proc()),Kt.$$keyword_init=Ft,Oe(se)&&B(Ye,"Struct").$const_set(se,Kt),Kt},pe.$$arity=-2),r.defs(ft,"$define_struct_attribute",De=function(le){var ge,Le,Ue=this;return Ue["$=="](B(Ye,"Struct"))&&Ue.$raise(B(Ye,"ArgumentError"),"you cannot define attributes to the Struct class"),Ue.$members()["$<<"](le),ve(Ue,"define_method",[le],(ge=function(){var qe=ge.$$s||this;return qe.$$data[le]},ge.$$s=Ue,ge.$$arity=0,ge)),ve(Ue,"define_method",[""+le+"="],(Le=function(qe){var wt=Le.$$s||this;return qe==null&&(qe=R),wt.$$data[le]=qe},Le.$$s=Ue,Le.$$arity=1,Le))},De.$$arity=1),r.defs(ft,"$members",ze=function(){var le,ge=this;return ge.members==null&&(ge.members=R),ge["$=="](B(Ye,"Struct"))&&ge.$raise(B(Ye,"ArgumentError"),"the Struct class has no members"),ge.members=Oe(le=ge.members)?le:[]},ze.$$arity=0),r.defs(ft,"$inherited",ut=function(le){var ge,Le=this,Ue=R;return Le.members==null&&(Le.members=R),Ue=Le.members,ve(le,"instance_eval",[],(ge=function(){var qe=ge.$$s||this;return qe.members=Ue},ge.$$s=Le,ge.$$arity=0,ge))},ut.$$arity=1),r.def(ft,"$initialize",xt=function(le){var ge,Le,Ue,qe,wt,Nt=this,Ft=R,Ut=R;return ge=r.slice.call(arguments,0,arguments.length),Le=ge,Oe(Nt.$class().$$keyword_init)?(Ft=Oe(Ue=Le.$last())?Ue:zt([],{}),Oe(Oe(Ue=Re(Le.$length(),1))?Ue:Le.length===1&&!Ft.$$is_hash)&&Nt.$raise(B(Ye,"ArgumentError"),"wrong number of arguments (given "+Le.$length()+", expected 0)"),Ut=Je(Ft.$keys(),Nt.$class().$members()),Oe(Ut["$any?"]())&&Nt.$raise(B(Ye,"ArgumentError"),"unknown keywords: "+Ut.$join(", ")),ve(Nt.$class().$members(),"each",[],(qe=function(Vt){var Jt=qe.$$s||this,Kt=R;return Vt==null&&(Vt=R),Kt=[Vt,Ft["$[]"](Vt)],ve(Jt,"[]=",r.to_a(Kt)),Kt[Je(Kt.length,1)]},qe.$$s=Nt,qe.$$arity=1,qe))):(Oe(Re(Le.$length(),Nt.$class().$members().$length()))&&Nt.$raise(B(Ye,"ArgumentError"),"struct size differs"),ve(Nt.$class().$members(),"each_with_index",[],(wt=function(Vt,Jt){var Kt=wt.$$s||this,Wt=R;return Vt==null&&(Vt=R),Jt==null&&(Jt=R),Wt=[Vt,Le["$[]"](Jt)],ve(Kt,"[]=",r.to_a(Wt)),Wt[Je(Wt.length,1)]},wt.$$s=Nt,wt.$$arity=2,wt)))},xt.$$arity=-1),r.def(ft,"$members",At=function(){var le=this;return le.$class().$members()},At.$$arity=0),r.def(ft,"$hash",ht=function(){var le=this;return B(Ye,"Hash").$new(le.$$data).$hash()},ht.$$arity=0),r.def(ft,"$[]",pt=function(se){var le=this;return Oe(B(Ye,"Integer")["$==="](se))?(Oe(Ze(se,le.$class().$members().$size()["$-@"]()))&&le.$raise(B(Ye,"IndexError"),"offset "+se+" too small for struct(size:"+le.$class().$members().$size()+")"),Oe(Fe(se,le.$class().$members().$size()))&&le.$raise(B(Ye,"IndexError"),"offset "+se+" too large for struct(size:"+le.$class().$members().$size()+")"),se=le.$class().$members()["$[]"](se)):Oe(B(Ye,"String")["$==="](se))?le.$$data.hasOwnProperty(se)||le.$raise(B(Ye,"NameError").$new("no member '"+se+"' in struct",se)):le.$raise(B(Ye,"TypeError"),"no implicit conversion of "+se.$class()+" into Integer"),se=B(Ye,"Opal")["$coerce_to!"](se,B(Ye,"String"),"to_str"),le.$$data[se]},pt.$$arity=1),r.def(ft,"$[]=",St=function(se,le){var ge=this;return Oe(B(Ye,"Integer")["$==="](se))?(Oe(Ze(se,ge.$class().$members().$size()["$-@"]()))&&ge.$raise(B(Ye,"IndexError"),"offset "+se+" too small for struct(size:"+ge.$class().$members().$size()+")"),Oe(Fe(se,ge.$class().$members().$size()))&&ge.$raise(B(Ye,"IndexError"),"offset "+se+" too large for struct(size:"+ge.$class().$members().$size()+")"),se=ge.$class().$members()["$[]"](se)):Oe(B(Ye,"String")["$==="](se))?Oe(ge.$class().$members()["$include?"](se.$to_sym()))||ge.$raise(B(Ye,"NameError").$new("no member '"+se+"' in struct",se)):ge.$raise(B(Ye,"TypeError"),"no implicit conversion of "+se.$class()+" into Integer"),se=B(Ye,"Opal")["$coerce_to!"](se,B(Ye,"String"),"to_str"),ge.$$data[se]=le},St.$$arity=2),r.def(ft,"$==",Rt=function(se){var le=this;if(!Oe(se["$instance_of?"](le.$class())))return!1;var ge={},Le={};function Ue(qe,wt){var Nt,Ft,Ut;ge[qe.$__id__()]=!0,Le[wt.$__id__()]=!0;for(Nt in qe.$$data)if(Ft=qe.$$data[Nt],Ut=wt.$$data[Nt],B(Ye,"Struct")["$==="](Ft)){if((!ge.hasOwnProperty(Ft.$__id__())||!Le.hasOwnProperty(Ut.$__id__()))&&!Ue(Ft,Ut))return!1}else if(!Ft["$=="](Ut))return!1;return!0}return Ue(le,se)},Rt.$$arity=1),r.def(ft,"$eql?",Et=function(se){var le=this;if(!Oe(se["$instance_of?"](le.$class())))return!1;var ge={},Le={};function Ue(qe,wt){var Nt,Ft,Ut;ge[qe.$__id__()]=!0,Le[wt.$__id__()]=!0;for(Nt in qe.$$data)if(Ft=qe.$$data[Nt],Ut=wt.$$data[Nt],B(Ye,"Struct")["$==="](Ft)){if((!ge.hasOwnProperty(Ft.$__id__())||!Le.hasOwnProperty(Ut.$__id__()))&&!Ue(Ft,Ut))return!1}else if(!Ft["$eql?"](Ut))return!1;return!0}return Ue(le,se)},Et.$$arity=1),r.def(ft,"$each",Bt=function(){var le,ge,Le=Bt.$$p,Ue=Le||R,qe=this;return Le&&(Bt.$$p=null),Ue===R?ve(qe,"enum_for",["each"],(le=function(){var wt=le.$$s||this;return wt.$size()},le.$$s=qe,le.$$arity=0,le)):(ve(qe.$class().$members(),"each",[],(ge=function(wt){var Nt=ge.$$s||this;return wt==null&&(wt=R),r.yield1(Ue,Nt["$[]"](wt))},ge.$$s=qe,ge.$$arity=1,ge)),qe)},Bt.$$arity=0),r.def(ft,"$each_pair",qt=function(){var le,ge,Le=qt.$$p,Ue=Le||R,qe=this;return Le&&(qt.$$p=null),Ue===R?ve(qe,"enum_for",["each_pair"],(le=function(){var wt=le.$$s||this;return wt.$size()},le.$$s=qe,le.$$arity=0,le)):(ve(qe.$class().$members(),"each",[],(ge=function(wt){var Nt=ge.$$s||this;return wt==null&&(wt=R),r.yield1(Ue,[wt,Nt["$[]"](wt)])},ge.$$s=qe,ge.$$arity=1,ge)),qe)},qt.$$arity=0),r.def(ft,"$length",Ct=function(){var le=this;return le.$class().$members().$length()},Ct.$$arity=0),r.alias(ft,"size","length"),r.def(ft,"$to_a",It=function(){var le,ge=this;return ve(ge.$class().$members(),"map",[],(le=function(Le){var Ue=le.$$s||this;return Le==null&&(Le=R),Ue["$[]"](Le)},le.$$s=ge,le.$$arity=1,le))},It.$$arity=0),r.alias(ft,"values","to_a"),r.def(ft,"$inspect",Pt=function(){var le,ge,Le=this,Ue=R;return Ue="#<struct ",Oe(Oe(le=B(Ye,"Struct")["$==="](Le))?Le.$class().$name():le)&&(Ue=he(Ue,""+Le.$class()+" ")),Ue=he(Ue,ve(Le.$each_pair(),"map",[],(ge=function(qe,wt){var Nt=ge.$$s||this;return qe==null&&(qe=R),wt==null&&(wt=R),""+qe+"="+wt.$inspect()},ge.$$s=Le,ge.$$arity=2,ge)).$join(", ")),Ue=he(Ue,">"),Ue},Pt.$$arity=0),r.alias(ft,"to_s","inspect"),r.def(ft,"$to_h",Mt=function(){var le,ge=this;return ve(ge.$class().$members(),"each_with_object",[zt([],{})],(le=function(Le,Ue){var qe=le.$$s||this,wt=R;return Le==null&&(Le=R),Ue==null&&(Ue=R),wt=[Le,qe["$[]"](Le)],ve(Ue,"[]=",r.to_a(wt)),wt[Je(wt.length,1)]},le.$$s=ge,le.$$arity=2,le))},Mt.$$arity=0),r.def(ft,"$values_at",jt=function(le){var ge,Le,Ue,qe=this;ge=r.slice.call(arguments,0,arguments.length),Le=ge,Le=ve(Le,"map",[],(Ue=function(Ut){var Vt=Ue.$$s||this;return Ut==null&&(Ut=R),Ut.$$is_range?Ut.$to_a():Ut},Ue.$$s=qe,Ue.$$arity=1,Ue)).$flatten();for(var wt=[],Nt=0,Ft=Le.length;Nt<Ft;Nt++)Le[Nt].$$is_number||qe.$raise(B(Ye,"TypeError"),"no implicit conversion of "+Le[Nt].$class()+" into Integer"),wt.push(qe["$[]"](Le[Nt]));return wt},jt.$$arity=-1),r.def(ft,"$dig",D=function(le,ge){var Le,Ue,qe=this,wt=R;return Le=r.slice.call(arguments,1,arguments.length),Ue=Le,wt=function(){return Oe(le.$$is_string&&qe.$$data.hasOwnProperty(le))&&qe.$$data[le]||R}(),wt===R||Ue.length===0?wt:(Oe(wt["$respond_to?"]("dig"))||qe.$raise(B(Ye,"TypeError"),""+wt.$class()+" does not have #dig method"),ve(wt,"dig",r.to_a(Ue)))},D.$$arity=-2),R&&"dig"}(Ce[0],null,Ce)},Opal.modules["corelib/io"]=function(r){function Re(ve,J){return typeof ve=="number"&&typeof J=="number"?ve-J:ve["$-"](J)}var Je=r.top,Ze=[],Fe=r.nil,he=r.const_get_qualified,gt=r.const_get_relative,Ce=r.breaker,R=r.slice,Gt=r.klass,B=r.module,ke=r.send,st=r.gvars,Ge=r.truthy,zt=Fe;r.add_stubs(["$attr_accessor","$size","$write","$join","$map","$String","$empty?","$concat","$chomp","$getbyte","$getc","$raise","$new","$write_proc=","$-","$extend"]),function(ve,J,G){var Ve=Gt(ve,J,"IO"),ft=[Ve].concat(G),Ye,pe,De,ze;return Ve.$$prototype.tty=Ve.$$prototype.closed=Fe,r.const_set(ft[0],"SEEK_SET",0),r.const_set(ft[0],"SEEK_CUR",1),r.const_set(ft[0],"SEEK_END",2),r.def(Ve,"$tty?",Ye=function(){var ut=this;return ut.tty},Ye.$$arity=0),r.def(Ve,"$closed?",pe=function(){var ut=this;return ut.closed},pe.$$arity=0),Ve.$attr_accessor("write_proc"),r.def(Ve,"$write",De=function(xt){var At=this;return At.write_proc(xt),xt.$size()},De.$$arity=1),Ve.$attr_accessor("sync","tty"),r.def(Ve,"$flush",ze=function(){var xt=this;return Fe},ze.$$arity=0),function(ut,xt){var At=B(ut,"Writable"),ht=[At].concat(xt),pt,St,Rt;r.def(At,"$<<",pt=function(Et){var Bt=this;return Bt.$write(Et),Bt},pt.$$arity=1),r.def(At,"$print",St=function(Bt){var qt,Ct,It,Pt=this;return st[","]==null&&(st[","]=Fe),qt=r.slice.call(arguments,0,arguments.length),Ct=qt,Pt.$write(ke(Ct,"map",[],(It=function(Mt){var jt=It.$$s||this;return Mt==null&&(Mt=Fe),jt.$String(Mt)},It.$$s=Pt,It.$$arity=1,It)).$join(st[","])),Fe},St.$$arity=-1),r.def(At,"$puts",Rt=function(Bt){var qt,Ct,It,Pt=this,Mt=Fe;return st["/"]==null&&(st["/"]=Fe),qt=r.slice.call(arguments,0,arguments.length),Ct=qt,Mt=st["/"],Ge(Ct["$empty?"]())?Pt.$write(st["/"]):Pt.$write(ke(Ct,"map",[],(It=function(jt){var D=It.$$s||this;return jt==null&&(jt=Fe),D.$String(jt).$chomp()},It.$$s=Pt,It.$$arity=1,It)).$concat([Fe]).$join(Mt)),Fe},Rt.$$arity=-1)}(ft[0],ft),function(ut,xt){var At=B(ut,"Readable"),ht=[At].concat(xt),pt,St,Rt,Et;r.def(At,"$readbyte",pt=function(){var qt=this;return qt.$getbyte()},pt.$$arity=0),r.def(At,"$readchar",St=function(){var qt=this;return qt.$getc()},St.$$arity=0),r.def(At,"$readline",Rt=function(qt){var Ct=this;return st["/"]==null&&(st["/"]=Fe),qt==null&&(qt=st["/"]),Ct.$raise(gt(ht,"NotImplementedError"))},Rt.$$arity=-1),r.def(At,"$readpartial",Et=function(qt,Ct){var It=this;return Ct==null&&(Ct=Fe),It.$raise(gt(ht,"NotImplementedError"))},Et.$$arity=-2)}(ft[0],ft)}(Ze[0],null,Ze),r.const_set(Ze[0],"STDERR",st.stderr=gt(Ze,"IO").$new()),r.const_set(Ze[0],"STDIN",st.stdin=gt(Ze,"IO").$new()),r.const_set(Ze[0],"STDOUT",st.stdout=gt(Ze,"IO").$new());var Oe=r.global.console;return zt=[typeof process=="object"&&typeof process.stdout=="object"?function(ve){process.stdout.write(ve)}:function(ve){Oe.log(ve)}],ke(gt(Ze,"STDOUT"),"write_proc=",r.to_a(zt)),zt[Re(zt.length,1)],zt=[typeof process=="object"&&typeof process.stderr=="object"?function(ve){process.stderr.write(ve)}:function(ve){Oe.warn(ve)}],ke(gt(Ze,"STDERR"),"write_proc=",r.to_a(zt)),zt[Re(zt.length,1)],gt(Ze,"STDOUT").$extend(he(gt(Ze,"IO"),"Writable")),gt(Ze,"STDERR").$extend(he(gt(Ze,"IO"),"Writable"))},Opal.modules["corelib/main"]=function(r){var Re,Je,Ze=r.top,Fe=[],he=r.nil,gt=r.const_get_qualified,Ce=r.const_get_relative,R=r.breaker,Gt=r.slice;return r.add_stubs(["$include"]),r.defs(Ze,"$to_s",Re=function(){var ke=this;return"main"},Re.$$arity=0),r.defs(Ze,"$include",Je=function(ke){var st=this;return Ce(Fe,"Object").$include(ke)},Je.$$arity=1),he&&"include"},Opal.modules["corelib/dir"]=function(r){var Re=r.top,Je=[],Ze=r.nil,Fe=r.const_get_qualified,he=r.const_get_relative,gt=r.breaker,Ce=r.slice,R=r.klass,Gt=r.truthy;return r.add_stubs(["$[]"]),function(B,ke,st){var Ge=R(B,ke,"Dir"),zt=[Ge].concat(st);return function(Oe,ve){var J=[Oe].concat(ve),G,Ve,ft;return r.def(Oe,"$chdir",G=function(pe){var De=G.$$p,ze=De||Ze,ut=this,xt=Ze;return De&&(G.$$p=null),function(){try{return xt=r.current_dir,r.current_dir=pe,r.yieldX(ze,[])}finally{r.current_dir=xt}}()},G.$$arity=1),r.def(Oe,"$pwd",Ve=function(){var pe=this;return r.current_dir||"."},Ve.$$arity=0),r.alias(Oe,"getwd","pwd"),r.def(Oe,"$home",ft=function(){var pe,De=this;return Gt(pe=he(J,"ENV")["$[]"]("HOME"))?pe:"."},ft.$$arity=0),Ze&&"home"}(r.get_singleton_class(Ge),zt)}(Je[0],null,Je)},Opal.modules["corelib/file"]=function(r){function Re(zt,Oe){return typeof zt=="number"&&typeof Oe=="number"?zt+Oe:zt["$+"](Oe)}function Je(zt,Oe){return typeof zt=="number"&&typeof Oe=="number"?zt-Oe:zt["$-"](Oe)}var Ze=r.top,Fe=[],he=r.nil,gt=r.const_get_qualified,Ce=r.const_get_relative,R=r.breaker,Gt=r.slice,B=r.klass,ke=r.truthy,st=r.range,Ge=r.send;return r.add_stubs(["$respond_to?","$to_path","$pwd","$split","$sub","$+","$unshift","$join","$home","$raise","$start_with?","$absolute_path","$coerce_to!","$basename","$empty?","$rindex","$[]","$nil?","$==","$-","$length","$gsub","$find","$=~","$map","$each_with_index","$flatten","$reject","$to_proc","$end_with?"]),function(zt,Oe,ve){var J=B(zt,Oe,"File"),G=[J].concat(ve),Ve=he;return r.const_set(G[0],"Separator",r.const_set(G[0],"SEPARATOR","/")),r.const_set(G[0],"ALT_SEPARATOR",he),r.const_set(G[0],"PATH_SEPARATOR",":"),r.const_set(G[0],"FNM_SYSCASE",0),Ve=/^[a-zA-Z]:(?:\\|\/)/,function(ft,Ye){var pe=[ft].concat(Ye),De,ze,ut,xt,At,ht,pt,St,Rt;r.def(ft,"$absolute_path",De=function(Ct,It){var Pt,Mt=this,jt=he,D=he,se=he,le=he,ge=he,Le=he,Ue=he,qe=he,wt=he;It==null&&(It=he),jt=Ce(pe,"SEPARATOR"),D=Bt(),se=[],Ct=function(){return ke(Ct["$respond_to?"]("to_path"))?Ct.$to_path():Ct}(),It=ke(Pt=It)?Pt:Ce(pe,"Dir").$pwd(),le=Ct.substr(0,jt.length)===jt||Ve.test(Ct),ge=It.substr(0,jt.length)===jt||Ve.test(It),ke(le)?(Le=Ct.$split(new RegExp("["+D+"]")),Ue=Ve.test(Ct)?"":Ct.$sub(new RegExp("^(["+D+"]+).*$"),"\\1"),qe=!0):(Le=Re(It.$split(new RegExp("["+D+"]")),Ct.$split(new RegExp("["+D+"]"))),Ue=Ve.test(It)?"":It.$sub(new RegExp("^(["+D+"]+).*$"),"\\1"),qe=ge);for(var Nt,Ft=0,Ut=Le.length;Ft<Ut;Ft++)Nt=Le[Ft],!(Nt===he||Nt===""&&(se.length===0||qe)||Nt==="."&&(se.length===0||qe))&&(Nt===".."?se.pop():se.push(Nt));return!qe&&Le[0]!=="."&&se.$unshift("."),wt=se.$join(jt),ke(qe)&&(wt=Re(Ue,wt)),wt},De.$$arity=-2),r.def(ft,"$expand_path",ze=function(Ct,It){var Pt=this,Mt=he,jt=he,D=he,se=he,le=he;return It==null&&(It=he),Mt=Ce(pe,"SEPARATOR"),jt=Bt(),ke(Ct[0]==="~"||It&&It[0]==="~")&&(D=Ce(pe,"Dir").$home(),ke(D)||Pt.$raise(Ce(pe,"ArgumentError"),"couldn't find HOME environment -- expanding `~'"),se=Ve.test(D)?"":D.$sub(new RegExp("^(["+jt+"]+).*$"),"\\1"),ke(D["$start_with?"](se))||Pt.$raise(Ce(pe,"ArgumentError"),"non-absolute home"),D=Re(D,Mt),le=new RegExp("^\\~(?:"+Mt+"|$)"),Ct=Ct.$sub(le,D),ke(It)&&(It=It.$sub(le,D))),Pt.$absolute_path(Ct,It)},ze.$$arity=-2),r.alias(ft,"realpath","expand_path");function Et(qt){return ke(qt["$respond_to?"]("to_path"))&&(qt=qt.$to_path()),qt=Ce(pe,"Opal")["$coerce_to!"](qt,Ce(pe,"String"),"to_str"),qt}function Bt(){return Ce(pe,"ALT_SEPARATOR")===he?r.escape_regexp(Ce(pe,"SEPARATOR")):r.escape_regexp(Re(Ce(pe,"SEPARATOR"),Ce(pe,"ALT_SEPARATOR")))}return r.def(ft,"$dirname",ut=function(Ct){var It=this,Pt=he;Pt=Bt(),Ct=Et(Ct);var Mt=Ct.match(new RegExp("^["+Pt+"]"));return Ct=Ct.replace(new RegExp("["+Pt+"]+$"),""),Ct=Ct.replace(new RegExp("[^"+Pt+"]+$"),""),Ct=Ct.replace(new RegExp("["+Pt+"]+$"),""),Ct===""?Mt?"/":".":Ct},ut.$$arity=1),r.def(ft,"$basename",xt=function(Ct,It){var Pt=this,Mt=he;return It==null&&(It=he),Mt=Bt(),Ct=Et(Ct),Ct.length==0||(It!==he?It=Ce(pe,"Opal")["$coerce_to!"](It,Ce(pe,"String"),"to_str"):It=null,Ct=Ct.replace(new RegExp("(.)["+Mt+"]*$"),"$1"),Ct=Ct.replace(new RegExp("^(?:.*["+Mt+"])?([^"+Mt+"]+)$"),"$1"),It===".*"?Ct=Ct.replace(/\.[^\.]+$/,""):It!==null&&(It=r.escape_regexp(It),Ct=Ct.replace(new RegExp(""+It+"$"),""))),Ct},xt.$$arity=-2),r.def(ft,"$extname",At=function(Ct){var It,Pt=this,Mt=he,jt=he;return Ct=Et(Ct),Mt=Pt.$basename(Ct),ke(Mt["$empty?"]())||(jt=Mt["$[]"](st(1,-1,!1)).$rindex("."),ke(ke(It=jt["$nil?"]())?It:Re(jt,1)["$=="](Je(Mt.$length(),1))))?"":Mt["$[]"](r.Range.$new(Re(jt,1),-1,!1))},At.$$arity=1),r.def(ft,"$exist?",ht=function(qt){var Ct=this;return r.modules[qt]!=null},ht.$$arity=1),r.alias(ft,"exists?","exist?"),r.def(ft,"$directory?",pt=function(qt){var Ct,It=this,Pt=he,Mt=he;Pt=[];for(var jt in r.modules)Pt.push(jt);return qt=qt.$gsub(new RegExp("(^."+Ce(pe,"SEPARATOR")+"+|"+Ce(pe,"SEPARATOR")+"+$)")),Mt=Ge(Pt,"find",[],(Ct=function(D){var se=Ct.$$s||this;return D==null&&(D=he),D["$=~"](new RegExp("^"+qt))},Ct.$$s=It,Ct.$$arity=1,Ct)),Mt},pt.$$arity=1),r.def(ft,"$join",St=function(Ct){var It,Pt,Mt,jt,D=this,se=he;return It=r.slice.call(arguments,0,arguments.length),Pt=It,ke(Pt["$empty?"]())?"":(se="",Pt=Ge(Pt.$flatten().$each_with_index(),"map",[],(Mt=function(le,ge){var Le=Mt.$$s||this,Ue;return le==null&&(le=he),ge==null&&(ge=he),ke((Ue=ge["$=="](0))?le["$empty?"]():ge["$=="](0))||ke((Ue=Pt.$length()["$=="](Re(ge,1)))?le["$empty?"]():Pt.$length()["$=="](Re(ge,1)))?Ce(pe,"SEPARATOR"):le},Mt.$$s=D,Mt.$$arity=2,Mt)),Pt=Ge(Pt,"reject",[],"empty?".$to_proc()),Ge(Pt,"each_with_index",[],(jt=function(le,ge){var Le=jt.$$s||this,Ue,qe=he;return le==null&&(le=he),ge==null&&(ge=he),qe=Pt["$[]"](Re(ge,1)),ke(qe["$nil?"]())?se=""+se+le:(ke(ke(Ue=le["$end_with?"](Ce(pe,"SEPARATOR")))?qe["$start_with?"](Ce(pe,"SEPARATOR")):Ue)&&(le=le.$sub(new RegExp(""+Ce(pe,"SEPARATOR")+"+$"),"")),se=function(){return ke(ke(Ue=le["$end_with?"](Ce(pe,"SEPARATOR")))?Ue:qe["$start_with?"](Ce(pe,"SEPARATOR")))?""+se+le:""+se+le+Ce(pe,"SEPARATOR")}())},jt.$$s=D,jt.$$arity=2,jt)),se)},St.$$arity=-1),r.def(ft,"$split",Rt=function(Ct){var It=this;return Ct.$split(Ce(pe,"SEPARATOR"))},Rt.$$arity=1),he&&"split"}(r.get_singleton_class(J),G)}(Fe[0],Ce(Fe,"IO"),Fe)},Opal.modules["corelib/process"]=function(r){var Re=r.top,Je=[],Ze=r.nil,Fe=r.const_get_qualified,he=r.const_get_relative,gt=r.breaker,Ce=r.slice,R=r.klass,Gt=r.truthy;return r.add_stubs(["$const_set","$size","$<<","$__register_clock__","$to_f","$now","$new","$[]","$raise"]),function(B,ke,st){var Ge=R(B,ke,"Process"),zt=[Ge].concat(st),Oe,ve,J,G,Ve=Ze;if(Ge.__clocks__=[],r.defs(Ge,"$__register_clock__",Oe=function(pe,De){var ze=this;return ze.__clocks__==null&&(ze.__clocks__=Ze),ze.$const_set(pe,ze.__clocks__.$size()),ze.__clocks__["$<<"](De)},Oe.$$arity=2),Ge.$__register_clock__("CLOCK_REALTIME",function(){return Date.now()}),Ve=!1,r.global.performance)Ve=function(){return performance.now()};else if(r.global.process&&process.hrtime){var ft=process.hrtime();Ve=function(){var Ye=process.hrtime(ft),pe=Ye[1]/1e3|0;return Ye[0]*1e3+pe/1e3}}return Gt(Ve)&&Ge.$__register_clock__("CLOCK_MONOTONIC",Ve),r.defs(Ge,"$pid",ve=function(){var pe=this;return 0},ve.$$arity=0),r.defs(Ge,"$times",J=function(){var pe=this,De=Ze;return De=he(zt,"Time").$now().$to_f(),Fe(he(zt,"Benchmark"),"Tms").$new(De,De,De,De,De)},J.$$arity=0),r.defs(Ge,"$clock_gettime",G=function(pe,De){var ze,ut=this,xt=Ze;ut.__clocks__==null&&(ut.__clocks__=Ze),De==null&&(De="float_second"),Gt(ze=xt=ut.__clocks__["$[]"](pe))||ut.$raise(Fe(he(zt,"Errno"),"EINVAL"),"clock_gettime("+pe+") "+ut.__clocks__["$[]"](pe));var At=xt();switch(De){case"float_second":return At/1e3;case"float_millisecond":return At/1;case"float_microsecond":return At*1e3;case"second":return At/1e3|0;case"millisecond":return At/1|0;case"microsecond":return At*1e3|0;case"nanosecond":return At*1e6|0;default:ut.$raise(he(zt,"ArgumentError"),"unexpected unit: "+De)}},G.$$arity=-2),Ze&&"clock_gettime"}(Je[0],null,Je),function(B,ke,st){var Ge=R(B,ke,"Signal"),zt=[Ge].concat(st),Oe;return r.defs(Ge,"$trap",Oe=function(J){var G,Ve=this;return G=r.slice.call(arguments,0,arguments.length),Ze},Oe.$$arity=-1),Ze&&"trap"}(Je[0],null,Je),function(B,ke,st){var Ge=R(B,ke,"GC"),zt=[Ge].concat(st),Oe;return r.defs(Ge,"$start",Oe=function(){var J=this;return Ze},Oe.$$arity=0),Ze&&"start"}(Je[0],null,Je)},Opal.modules["corelib/unsupported"]=function(r){var Re,Je,Ze=r.top,Fe=[],he=r.nil,gt=r.const_get_qualified,Ce=r.const_get_relative,R=r.breaker,Gt=r.slice,B=r.klass,ke=r.module;r.add_stubs(["$raise","$warn","$%"]);var st={};function Ge(Oe){switch(r.config.unsupported_features_severity){case"error":Ce(Fe,"Kernel").$raise(Ce(Fe,"NotImplementedError"),Oe);break;case"warning":zt(Oe);break;default:}}function zt(Oe){st[Oe]||(st[Oe]=!0,Ze.$warn(Oe))}return function(Oe,ve,J){var G=B(Oe,ve,"String"),Ve=[G].concat(J),ft,Ye,pe,De,ze,ut,xt,At,ht,pt,St,Rt,Et,Bt,qt,Ct,It,Pt,Mt,jt,D,se,le,ge="String#%s not supported. Mutable String methods are not supported in Opal.";return r.def(G,"$<<",ft=function(Le){var Ue,qe=this;return Ue=r.slice.call(arguments,0,arguments.length),qe.$raise(Ce(Ve,"NotImplementedError"),ge["$%"]("<<"))},ft.$$arity=-1),r.def(G,"$capitalize!",Ye=function(Le){var Ue,qe=this;return Ue=r.slice.call(arguments,0,arguments.length),qe.$raise(Ce(Ve,"NotImplementedError"),ge["$%"]("capitalize!"))},Ye.$$arity=-1),r.def(G,"$chomp!",pe=function(Le){var Ue,qe=this;return Ue=r.slice.call(arguments,0,arguments.length),qe.$raise(Ce(Ve,"NotImplementedError"),ge["$%"]("chomp!"))},pe.$$arity=-1),r.def(G,"$chop!",De=function(Le){var Ue,qe=this;return Ue=r.slice.call(arguments,0,arguments.length),qe.$raise(Ce(Ve,"NotImplementedError"),ge["$%"]("chop!"))},De.$$arity=-1),r.def(G,"$downcase!",ze=function(Le){var Ue,qe=this;return Ue=r.slice.call(arguments,0,arguments.length),qe.$raise(Ce(Ve,"NotImplementedError"),ge["$%"]("downcase!"))},ze.$$arity=-1),r.def(G,"$gsub!",ut=function(Le){var Ue,qe=this;return Ue=r.slice.call(arguments,0,arguments.length),qe.$raise(Ce(Ve,"NotImplementedError"),ge["$%"]("gsub!"))},ut.$$arity=-1),r.def(G,"$lstrip!",xt=function(Le){var Ue,qe=this;return Ue=r.slice.call(arguments,0,arguments.length),qe.$raise(Ce(Ve,"NotImplementedError"),ge["$%"]("lstrip!"))},xt.$$arity=-1),r.def(G,"$next!",At=function(Le){var Ue,qe=this;return Ue=r.slice.call(arguments,0,arguments.length),qe.$raise(Ce(Ve,"NotImplementedError"),ge["$%"]("next!"))},At.$$arity=-1),r.def(G,"$reverse!",ht=function(Le){var Ue,qe=this;return Ue=r.slice.call(arguments,0,arguments.length),qe.$raise(Ce(Ve,"NotImplementedError"),ge["$%"]("reverse!"))},ht.$$arity=-1),r.def(G,"$slice!",pt=function(Le){var Ue,qe=this;return Ue=r.slice.call(arguments,0,arguments.length),qe.$raise(Ce(Ve,"NotImplementedError"),ge["$%"]("slice!"))},pt.$$arity=-1),r.def(G,"$squeeze!",St=function(Le){var Ue,qe=this;return Ue=r.slice.call(arguments,0,arguments.length),qe.$raise(Ce(Ve,"NotImplementedError"),ge["$%"]("squeeze!"))},St.$$arity=-1),r.def(G,"$strip!",Rt=function(Le){var Ue,qe=this;return Ue=r.slice.call(arguments,0,arguments.length),qe.$raise(Ce(Ve,"NotImplementedError"),ge["$%"]("strip!"))},Rt.$$arity=-1),r.def(G,"$sub!",Et=function(Le){var Ue,qe=this;return Ue=r.slice.call(arguments,0,arguments.length),qe.$raise(Ce(Ve,"NotImplementedError"),ge["$%"]("sub!"))},Et.$$arity=-1),r.def(G,"$succ!",Bt=function(Le){var Ue,qe=this;return Ue=r.slice.call(arguments,0,arguments.length),qe.$raise(Ce(Ve,"NotImplementedError"),ge["$%"]("succ!"))},Bt.$$arity=-1),r.def(G,"$swapcase!",qt=function(Le){var Ue,qe=this;return Ue=r.slice.call(arguments,0,arguments.length),qe.$raise(Ce(Ve,"NotImplementedError"),ge["$%"]("swapcase!"))},qt.$$arity=-1),r.def(G,"$tr!",Ct=function(Le){var Ue,qe=this;return Ue=r.slice.call(arguments,0,arguments.length),qe.$raise(Ce(Ve,"NotImplementedError"),ge["$%"]("tr!"))},Ct.$$arity=-1),r.def(G,"$tr_s!",It=function(Le){var Ue,qe=this;return Ue=r.slice.call(arguments,0,arguments.length),qe.$raise(Ce(Ve,"NotImplementedError"),ge["$%"]("tr_s!"))},It.$$arity=-1),r.def(G,"$upcase!",Pt=function(Le){var Ue,qe=this;return Ue=r.slice.call(arguments,0,arguments.length),qe.$raise(Ce(Ve,"NotImplementedError"),ge["$%"]("upcase!"))},Pt.$$arity=-1),r.def(G,"$prepend",Mt=function(Ue){var qe,wt=this;return qe=r.slice.call(arguments,0,arguments.length),wt.$raise(Ce(Ve,"NotImplementedError"),ge["$%"]("prepend"))},Mt.$$arity=-1),r.def(G,"$[]=",jt=function(Le){var Ue,qe=this;return Ue=r.slice.call(arguments,0,arguments.length),qe.$raise(Ce(Ve,"NotImplementedError"),ge["$%"]("[]="))},jt.$$arity=-1),r.def(G,"$clear",D=function(Ue){var qe,wt=this;return qe=r.slice.call(arguments,0,arguments.length),wt.$raise(Ce(Ve,"NotImplementedError"),ge["$%"]("clear"))},D.$$arity=-1),r.def(G,"$encode!",se=function(Le){var Ue,qe=this;return Ue=r.slice.call(arguments,0,arguments.length),qe.$raise(Ce(Ve,"NotImplementedError"),ge["$%"]("encode!"))},se.$$arity=-1),r.def(G,"$unicode_normalize!",le=function(Le){var Ue,qe=this;return Ue=r.slice.call(arguments,0,arguments.length),qe.$raise(Ce(Ve,"NotImplementedError"),ge["$%"]("unicode_normalize!"))},le.$$arity=-1),he&&"unicode_normalize!"}(Fe[0],null,Fe),function(Oe,ve){var J=ke(Oe,"Kernel"),G=[J].concat(ve),Ve,ft,Ye="Object freezing is not supported by Opal";r.def(J,"$freeze",Ve=function(){var De=this;return Ge(Ye),De},Ve.$$arity=0),r.def(J,"$frozen?",ft=function(){var pe=this;return Ge(Ye),!1},ft.$$arity=0)}(Fe[0],Fe),function(Oe,ve){var J=ke(Oe,"Kernel"),G=[J].concat(ve),Ve,ft,Ye,pe="Object tainting is not supported by Opal";r.def(J,"$taint",Ve=function(){var ze=this;return Ge(pe),ze},Ve.$$arity=0),r.def(J,"$untaint",ft=function(){var ze=this;return Ge(pe),ze},ft.$$arity=0),r.def(J,"$tainted?",Ye=function(){var De=this;return Ge(pe),!1},Ye.$$arity=0)}(Fe[0],Fe),function(Oe,ve,J){var G=B(Oe,ve,"Module"),Ve=[G].concat(J),ft,Ye,pe,De;return r.def(G,"$public",ft=function(ze){var ut,xt,At=this;return ut=r.slice.call(arguments,0,arguments.length),xt=ut,xt.length===0&&(At.$$module_function=!1),he},ft.$$arity=-1),r.alias(G,"private","public"),r.alias(G,"protected","public"),r.alias(G,"nesting","public"),r.def(G,"$private_class_method",Ye=function(ut){var xt,At=this;return xt=r.slice.call(arguments,0,arguments.length),At},Ye.$$arity=-1),r.alias(G,"public_class_method","private_class_method"),r.def(G,"$private_method_defined?",pe=function(ze){var ut=this;return!1},pe.$$arity=1),r.def(G,"$private_constant",De=function(ut){var xt,At=this;return xt=r.slice.call(arguments,0,arguments.length),he},De.$$arity=-1),r.alias(G,"protected_method_defined?","private_method_defined?"),r.alias(G,"public_instance_methods","instance_methods"),r.alias(G,"public_instance_method","instance_method"),r.alias(G,"public_method_defined?","method_defined?")}(Fe[0],null,Fe),function(Oe,ve){var J=ke(Oe,"Kernel"),G=[J].concat(ve),Ve;r.def(J,"$private_methods",Ve=function(Ye){var pe,De=this;return pe=r.slice.call(arguments,0,arguments.length),[]},Ve.$$arity=-1),r.alias(J,"private_instance_methods","private_methods")}(Fe[0],Fe),function(Oe,ve){var J=ke(Oe,"Kernel"),G=[J].concat(ve),Ve;r.def(J,"$eval",Ve=function(ft){var Ye,pe=this;return Ye=r.slice.call(arguments,0,arguments.length),pe.$raise(Ce(G,"NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. "+("See https://github.com/opal/opal/blob/"+Ce(G,"RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details."))},Ve.$$arity=-1)}(Fe[0],Fe),r.defs(Ze,"$public",Re=function(Oe){var ve,J=this;return ve=r.slice.call(arguments,0,arguments.length),he},Re.$$arity=-1),r.defs(Ze,"$private",Je=function(Oe){var ve,J=this;return ve=r.slice.call(arguments,0,arguments.length),he},Je.$$arity=-1),he&&"private"},function(r){var Re=r.top,Je=[],Ze=r.nil,Fe=r.const_get_qualified,he=r.const_get_relative,gt=r.breaker,Ce=r.slice;return r.add_stubs(["$require"]),Re.$require("opal/base"),Re.$require("opal/mini"),Re.$require("corelib/string/encoding"),Re.$require("corelib/struct"),Re.$require("corelib/io"),Re.$require("corelib/main"),Re.$require("corelib/dir"),Re.$require("corelib/file"),Re.$require("corelib/process"),Re.$require("corelib/unsupported")}(Opal),function(r,Re){typeof module=="object"&&module.exports?module.exports=Re:typeof define=="function"&&define.amd?define("asciidoctor",["module"],function(Je){return Re(Je.config())}):r.Asciidoctor=Re}(exports,function(r){Opal.modules["asciidoctor/js/opal_ext/browser/file"]=function(e){var u=e.top,O=[],xe=e.nil,Xe=e.const_get_qualified,ie=e.const_get_relative,A=e.breaker,$e=e.slice,$=e.klass;return e.add_stubs(["$new"]),function(n,y,W){var oe=$(n,y,"File"),b=[oe].concat(W),_;return e.defs(oe,"$read",_=function(t){var s=this,i="",j=-1;try{var h=new XMLHttpRequest;h.open("GET",t,!1),h.addEventListener("load",function(){j=this.status,(j===0||j===200)&&(i=this.responseText)}),h.overrideMimeType("text/plain"),h.send()}catch(g){throw ie(b,"IOError").$new("Error reading file or directory: "+t+"; reason: "+g.message)}if(j===404||j===0&&!i)throw ie(b,"IOError").$new("No such file or directory: "+t);return i},_.$$arity=1),xe&&"read"}(O[0],null,O)},Opal.modules["asciidoctor/js/opal_ext/browser"]=function(e){var u=e.top,O=[],xe=e.nil,Xe=e.const_get_qualified,ie=e.const_get_relative,A=e.breaker,$e=e.slice;e.add_stubs(["$require"]);var $,n,y,W;if(typeof r=="object"&&typeof r.runtime=="object"){var oe=r.runtime;$=oe.platform,n=oe.engine,y=oe.framework,W=oe.ioModule}return W=W||"xmlhttprequest",$=$||"browser",n=n||"",y=y||"",e.const_set(O[0],"JAVASCRIPT_IO_MODULE",W),e.const_set(O[0],"JAVASCRIPT_PLATFORM",$),e.const_set(O[0],"JAVASCRIPT_ENGINE",n),e.const_set(O[0],"JAVASCRIPT_FRAMEWORK",y),u.$require("asciidoctor/js/opal_ext/browser/file")},Opal.modules["asciidoctor/js/asciidoctor_ext/browser/abstract_node"]=function(e){var u=e.top,O=[],xe=e.nil,Xe=e.const_get_qualified,ie=e.const_get_relative,A=e.breaker,$e=e.slice,$=e.module,n=e.klass,y=e.hash2,W=e.truthy;return e.add_stubs(["$uriish?","$[]","$web_path","$path_resolver","$descends_from?","$base_dir","$start_with?","$attr?","$join","$prepare_source_string","$read","$fetch","$warn","$logger","$normalize_system_path","$read_asset"]),function(oe,b){var _=$(oe,"Asciidoctor"),c=[_].concat(b);(function(t,s,i){var j=n(t,s,"AbstractNode"),h=[j].concat(i),g,w;return j.$$prototype.document=xe,e.def(j,"$read_contents",g=function(F,N){var x,f,L,ae=this,Pe=xe,Ie=xe;if(N==null&&(N=y([],{})),Pe=ae.document,W(W(x=ie(h,"Helpers")["$uriish?"](F))?x:W(f=W(L=Ie=N["$[]"]("start"))?ie(h,"Helpers")["$uriish?"](Ie):L)?F=Pe.$path_resolver().$web_path(F,Ie):f))if(W(W(x=W(f=Pe.$path_resolver()["$descends_from?"](F,Pe.$base_dir()))?f:F["$start_with?"]("chrome://"))?x:Pe["$attr?"]("allow-uri-read")))try{return W(N["$[]"]("normalize"))?ie(h,"Helpers").$prepare_source_string(Xe("::","File").$read(F)).$join(ie(h,"LF")):Xe("::","File").$read(F)}catch(ue){if(e.rescue(ue,[ie(h,"StandardError")]))try{return W(N.$fetch("warn_on_failure",!0))&&ae.$logger().$warn("could not retrieve contents of "+(W(x=N["$[]"]("label"))?x:"asset")+" at URI: "+F),xe}finally{e.pop_exception()}else throw ue}else return W(N.$fetch("warn_on_failure",!0))&&ae.$logger().$warn("cannot retrieve contents of "+(W(x=N["$[]"]("label"))?x:"asset")+" at URI: "+F+" (allow-uri-read attribute not enabled)"),xe;else return F=ae.$normalize_system_path(F,N["$[]"]("start"),xe,y(["target_name"],{target_name:W(x=N["$[]"]("label"))?x:"asset"})),ae.$read_asset(F,y(["normalize","warn_on_failure","label"],{normalize:N["$[]"]("normalize"),warn_on_failure:N.$fetch("warn_on_failure",!0),label:N["$[]"]("label")}))},g.$$arity=-2),e.def(j,"$generate_data_uri_from_uri",w=function(F,N){var x=this;N==null&&(N=!1);var f="",L="",ae=-1;try{var Pe=new XMLHttpRequest;Pe.open("GET",F,!1),Pe.overrideMimeType("text/plain; charset=x-user-defined"),Pe.addEventListener("load",function(){if(ae=this.status,ae===0||ae===200){for(var Ie="",ue=this.responseText,S=0,d=ue.length;S<d;++S){var m=ue.charCodeAt(S),p=m&255;Ie+=String.fromCharCode(p)}L=btoa(Ie),f=this.getResponseHeader("content-type")}}),Pe.send(null),f||(F.endsWith(".jpeg")||F.endsWith(".jpg")||F.endsWith(".jpe")?f="image/jpg":F.endsWith(".png")?f="image/png":F.endsWith(".svg")?f="image/svg+xml":F.endsWith(".bmp")?f="image/bmp":(F.endsWith(".tif")||F.endsWith(".tiff"))&&(f="image/tiff"))}catch{ae=0}return ae===404||ae===0&&(!L||!f)?(x.$logger().$warn("could not retrieve image data from URI: "+F),F):"data:"+f+";base64,"+L},w.$$arity=-2),xe&&"generate_data_uri_from_uri"})(c[0],null,c)}(O[0],O)},Opal.modules["asciidoctor/js/asciidoctor_ext/browser/open_uri"]=function(e){var u=e.top,O=[],xe=e.nil,Xe=e.const_get_qualified,ie=e.const_get_relative,A=e.breaker,$e=e.slice,$=e.module,n=e.send;return e.add_stubs(["$new","$path"]),function(y,W){var oe=$(y,"OpenURI"),b=[oe].concat(W),_;e.defs(ie(b,"OpenURI"),"$open_uri",_=function(t,s){var i,j,h=_.$$p,g=h||xe,w=this,C=xe;return h&&(_.$$p=null),i=e.slice.call(arguments,1,arguments.length),j=i,C=n(ie(b,"File"),"new",[w.$path()].concat(e.to_a(j))),g!==xe?e.yield1(g,C):C},_.$$arity=-2)}(O[0],O)},Opal.modules["asciidoctor/js/asciidoctor_ext/browser/path_resolver"]=function(e){var u=e.top,O=[],xe=e.nil,Xe=e.const_get_qualified,ie=e.const_get_relative,A=e.breaker,$e=e.slice,$=e.module,n=e.klass,y=e.truthy;return e.add_stubs(["$absolute_path?","$start_with?"]),function(W,oe){var b=$(W,"Asciidoctor"),_=[b].concat(oe);(function(c,t,s){var i=n(c,t,"PathResolver"),j=[i].concat(s),h;return e.def(i,"$root?",h=function(g){var w,C=this;return y(w=C["$absolute_path?"](g))?w:g["$start_with?"]("file://","http://","https://","chrome://")},h.$$arity=1),xe&&"root?"})(_[0],null,_)}(O[0],O)},Opal.modules["asciidoctor/js/asciidoctor_ext/browser/reader"]=function(e){var u=e.top,O=[],xe=e.nil,Xe=e.const_get_qualified,ie=e.const_get_relative,A=e.breaker,$e=e.slice,$=e.module,n=e.klass,y=e.truthy;return e.add_stubs(["$posixify","$new","$base_dir","$start_with?","$uriish?","$descends_from?","$key?","$attributes","$replace_next_line","$absolute_path?","$==","$empty?","$!","$slice","$length"]),function(W,oe){var b=$(W,"Asciidoctor"),_=[b].concat(oe);(function(c,t,s){var i=n(c,t,"PreprocessorReader"),j=[i].concat(s),h;return i.$$prototype.path_resolver=i.$$prototype.document=i.$$prototype.include_stack=i.$$prototype.dir=xe,e.def(i,"$resolve_include_path",h=function(w,C,F){var N,x=this,f=xe,L=xe,ae=xe,Pe=xe,Ie=xe,ue=xe,S=xe,d=xe;if(f=(x.path_resolver=y(N=x.path_resolver)?N:ie(j,"PathResolver").$new("\\")).$posixify(w),N=["file",x.document.$base_dir()],L=N[0],ae=N[1],y(f["$start_with?"]("file://")))Pe=Ie=f;else if(y(ie(j,"Helpers")["$uriish?"](f))){if(!y(y(N=x.path_resolver["$descends_from?"](f,ae))?N:x.document.$attributes()["$key?"]("allow-uri-read")))return x.$replace_next_line("link:"+w+"["+C+"]");Pe=Ie=f}else if(y(x.path_resolver["$absolute_path?"](f)))Pe=Ie="file://"+function(){return y(f["$start_with?"]("/"))?"":"/"}()+f;else if((ue=function(){return y(S=x.include_stack["$empty?"]())?ae:x.dir}())["$=="]("."))Pe=Ie=f;else if(y(y(N=ue["$start_with?"]("file://"))?N:ie(j,"Helpers")["$uriish?"](ue)["$!"]()))Pe=""+ue+"/"+f,y(S)?Ie=f:y(y(N=ae["$=="]("."))?N:(d=x.path_resolver["$descends_from?"](Pe,ae))["$!"]())?Ie=Pe:Ie=Pe.$slice(d,Pe.$length());else if(y(S))Pe=""+ue+"/"+(Ie=f);else if(y(y(N=d=x.path_resolver["$descends_from?"](ue,ae))?N:x.document.$attributes()["$key?"]("allow-uri-read")))Pe=""+ue+"/"+f,Ie=function(){return y(d)?Pe.$slice(d,Pe.$length()):f}();else return x.$replace_next_line("link:"+w+"["+C+"]");return[Pe,"file",Ie]},h.$$arity=3),xe&&"resolve_include_path"})(_[0],ie(_,"Reader"),_)}(O[0],O)},Opal.modules["asciidoctor/js/asciidoctor_ext/browser"]=function(e){var u=e.top,O=[],xe=e.nil,Xe=e.const_get_qualified,ie=e.const_get_relative,A=e.breaker,$e=e.slice;return e.add_stubs(["$==","$require"]),ie(O,"JAVASCRIPT_IO_MODULE")["$=="]("xmlhttprequest")?(u.$require("asciidoctor/js/asciidoctor_ext/browser/abstract_node"),u.$require("asciidoctor/js/asciidoctor_ext/browser/open_uri"),u.$require("asciidoctor/js/asciidoctor_ext/browser/path_resolver"),u.$require("asciidoctor/js/asciidoctor_ext/browser/reader")):xe},Opal.modules.set=function(e){function u(t,s){return typeof t=="number"&&typeof s=="number"?t-s:t["$-"](s)}function O(t,s){return typeof t=="number"&&typeof s=="number"?t<s:t["$<"](s)}function xe(t,s){return typeof t=="number"&&typeof s=="number"?t<=s:t["$<="](s)}var Xe=e.top,ie=[],A=e.nil,$e=e.const_get_qualified,$=e.const_get_relative,n=e.breaker,y=e.slice,W=e.klass,oe=e.hash2,b=e.truthy,_=e.send,c=e.module;return e.add_stubs(["$include","$new","$nil?","$===","$raise","$each","$add","$merge","$class","$respond_to?","$subtract","$dup","$join","$to_a","$equal?","$instance_of?","$==","$instance_variable_get","$is_a?","$size","$all?","$include?","$[]=","$-","$enum_for","$[]","$<<","$replace","$delete","$select","$each_key","$to_proc","$empty?","$eql?","$instance_eval","$clear","$<","$<=","$keys"]),function(t,s,i){var j=W(t,s,"Set"),h=[j].concat(i),g,w,C,F,N,x,f,L,ae,Pe,Ie,ue,S,d,m,p,z,Z,re,ye,q,ee,V,_e,Me,Te,et,ct;return j.$$prototype.hash=A,j.$include($(h,"Enumerable")),e.defs(j,"$[]",g=function(it){var Ne,Se,We=this;return Ne=e.slice.call(arguments,0,arguments.length),Se=Ne,We.$new(Se)},g.$$arity=-1),e.def(j,"$initialize",w=function(Ne){var Se=w.$$p,We=Se||A,tt,Qe=this;return Se&&(w.$$p=null),Se&&(w.$$p=null),Ne==null&&(Ne=A),Qe.hash=oe([],{}),b(Ne["$nil?"]())?A:(b($(h,"Enumerable")["$==="](Ne))||Qe.$raise($(h,"ArgumentError"),"value must be enumerable"),b(We)?_(Ne,"each",[],(tt=function(nt){var yt=tt.$$s||this;return nt==null&&(nt=A),yt.$add(e.yield1(We,nt))},tt.$$s=Qe,tt.$$arity=1,tt)):Qe.$merge(Ne))},w.$$arity=-1),e.def(j,"$dup",C=function(){var Ne=this,Se=A;return Se=Ne.$class().$new(),Se.$merge(Ne)},C.$$arity=0),e.def(j,"$-",F=function(it){var Ne=this;return b(it["$respond_to?"]("each"))||Ne.$raise($(h,"ArgumentError"),"value must be enumerable"),Ne.$dup().$subtract(it)},F.$$arity=1),e.alias(j,"difference","-"),e.def(j,"$inspect",N=function(){var Ne=this;return"#<Set: {"+Ne.$to_a().$join(",")+"}>"},N.$$arity=0),e.def(j,"$==",x=function(it){var Ne,Se,We=this;return b(We["$equal?"](it))?!0:b(it["$instance_of?"](We.$class()))?We.hash["$=="](it.$instance_variable_get("@hash")):b(b(Ne=it["$is_a?"]($(h,"Set")))?We.$size()["$=="](it.$size()):Ne)?_(it,"all?",[],(Se=function(tt){var Qe=Se.$$s||this;return Qe.hash==null&&(Qe.hash=A),tt==null&&(tt=A),Qe.hash["$include?"](tt)},Se.$$s=We,Se.$$arity=1,Se)):!1},x.$$arity=1),e.def(j,"$add",f=function(Ne){var Se=this,We=A;return We=[Ne,!0],_(Se.hash,"[]=",e.to_a(We)),We[u(We.length,1)],Se},f.$$arity=1),e.alias(j,"<<","add"),e.def(j,"$classify",L=function(){var Ne=L.$$p,Se=Ne||A,We,tt,Qe=this,nt=A;return Ne&&(L.$$p=null),Ne&&(L.$$p=null),Se===A?Qe.$enum_for("classify"):(nt=_($(h,"Hash"),"new",[],(We=function(yt,lt){var K=We.$$s||this,l=A;return yt==null&&(yt=A),lt==null&&(lt=A),l=[lt,K.$class().$new()],_(yt,"[]=",e.to_a(l)),l[u(l.length,1)]},We.$$s=Qe,We.$$arity=2,We)),_(Qe,"each",[],(tt=function(yt){var lt=tt.$$s||this;return yt==null&&(yt=A),nt["$[]"](e.yield1(Se,yt)).$add(yt)},tt.$$s=Qe,tt.$$arity=1,tt)),nt)},L.$$arity=0),e.def(j,"$collect!",ae=function(){var it=ae.$$p,Ne=it||A,Se,We=this,tt=A;return it&&(ae.$$p=null),it&&(ae.$$p=null),Ne===A?We.$enum_for("collect!"):(tt=We.$class().$new(),_(We,"each",[],(Se=function(Qe){var nt=Se.$$s||this;return Qe==null&&(Qe=A),tt["$<<"](e.yield1(Ne,Qe))},Se.$$s=We,Se.$$arity=1,Se)),We.$replace(tt))},ae.$$arity=0),e.alias(j,"map!","collect!"),e.def(j,"$delete",Pe=function(it){var Ne=this;return Ne.hash.$delete(it),Ne},Pe.$$arity=1),e.def(j,"$delete?",Ie=function(it){var Ne=this;return b(Ne["$include?"](it))?(Ne.$delete(it),Ne):A},Ie.$$arity=1),e.def(j,"$delete_if",ue=function(){var Ne,Se,We=ue.$$p,tt=We||A,Qe=this;return We&&(ue.$$p=null),tt===A?Qe.$enum_for("delete_if"):(_(_(Qe,"select",[],(Ne=function(nt){var yt=Ne.$$s||this;return nt==null&&(nt=A),e.yield1(tt,nt)},Ne.$$s=Qe,Ne.$$arity=1,Ne)),"each",[],(Se=function(nt){var yt=Se.$$s||this;return yt.hash==null&&(yt.hash=A),nt==null&&(nt=A),yt.hash.$delete(nt)},Se.$$s=Qe,Se.$$arity=1,Se)),Qe)},ue.$$arity=0),e.def(j,"$add?",S=function(it){var Ne=this;return b(Ne["$include?"](it))?A:Ne.$add(it)},S.$$arity=1),e.def(j,"$each",d=function(){var Ne=d.$$p,Se=Ne||A,We=this;return Ne&&(d.$$p=null),Ne&&(d.$$p=null),Se===A?We.$enum_for("each"):(_(We.hash,"each_key",[],Se.$to_proc()),We)},d.$$arity=0),e.def(j,"$empty?",m=function(){var it=this;return it.hash["$empty?"]()},m.$$arity=0),e.def(j,"$eql?",p=function(it){var Ne,Se=this;return Se.hash["$eql?"](_(it,"instance_eval",[],(Ne=function(){var We=Ne.$$s||this;return We.hash==null&&(We.hash=A),We.hash},Ne.$$s=Se,Ne.$$arity=0,Ne)))},p.$$arity=1),e.def(j,"$clear",z=function(){var Ne=this;return Ne.hash.$clear(),Ne},z.$$arity=0),e.def(j,"$include?",Z=function(it){var Ne=this;return Ne.hash["$include?"](it)},Z.$$arity=1),e.alias(j,"member?","include?"),e.def(j,"$merge",re=function(Ne){var Se,We=this;return _(Ne,"each",[],(Se=function(tt){var Qe=Se.$$s||this;return tt==null&&(tt=A),Qe.$add(tt)},Se.$$s=We,Se.$$arity=1,Se)),We},re.$$arity=1),e.def(j,"$replace",ye=function(Ne){var Se=this;return Se.$clear(),Se.$merge(Ne),Se},ye.$$arity=1),e.def(j,"$size",q=function(){var Ne=this;return Ne.hash.$size()},q.$$arity=0),e.alias(j,"length","size"),e.def(j,"$subtract",ee=function(Ne){var Se,We=this;return _(Ne,"each",[],(Se=function(tt){var Qe=Se.$$s||this;return tt==null&&(tt=A),Qe.$delete(tt)},Se.$$s=We,Se.$$arity=1,Se)),We},ee.$$arity=1),e.def(j,"$|",V=function(it){var Ne=this;return b(it["$respond_to?"]("each"))||Ne.$raise($(h,"ArgumentError"),"value must be enumerable"),Ne.$dup().$merge(it)},V.$$arity=1),e.def(j,"$superset?",_e=function(it){var Ne,Se,We=this;return b(Ne=it["$is_a?"]($(h,"Set")))||We.$raise($(h,"ArgumentError"),"value must be a set"),b(O(We.$size(),it.$size()))?!1:_(it,"all?",[],(Se=function(tt){var Qe=Se.$$s||this;return tt==null&&(tt=A),Qe["$include?"](tt)},Se.$$s=We,Se.$$arity=1,Se))},_e.$$arity=1),e.alias(j,">=","superset?"),e.def(j,"$proper_superset?",Me=function(it){var Ne,Se,We=this;return b(Ne=it["$is_a?"]($(h,"Set")))||We.$raise($(h,"ArgumentError"),"value must be a set"),b(xe(We.$size(),it.$size()))?!1:_(it,"all?",[],(Se=function(tt){var Qe=Se.$$s||this;return tt==null&&(tt=A),Qe["$include?"](tt)},Se.$$s=We,Se.$$arity=1,Se))},Me.$$arity=1),e.alias(j,">","proper_superset?"),e.def(j,"$subset?",Te=function(it){var Ne,Se,We=this;return b(Ne=it["$is_a?"]($(h,"Set")))||We.$raise($(h,"ArgumentError"),"value must be a set"),b(O(it.$size(),We.$size()))?!1:_(We,"all?",[],(Se=function(tt){var Qe=Se.$$s||this;return tt==null&&(tt=A),it["$include?"](tt)},Se.$$s=We,Se.$$arity=1,Se))},Te.$$arity=1),e.alias(j,"<=","subset?"),e.def(j,"$proper_subset?",et=function(it){var Ne,Se,We=this;return b(Ne=it["$is_a?"]($(h,"Set")))||We.$raise($(h,"ArgumentError"),"value must be a set"),b(xe(it.$size(),We.$size()))?!1:_(We,"all?",[],(Se=function(tt){var Qe=Se.$$s||this;return tt==null&&(tt=A),it["$include?"](tt)},Se.$$s=We,Se.$$arity=1,Se))},et.$$arity=1),e.alias(j,"<","proper_subset?"),e.alias(j,"+","|"),e.alias(j,"union","|"),e.def(j,"$to_a",ct=function(){var Ne=this;return Ne.hash.$keys()},ct.$$arity=0),A&&"to_a"}(ie[0],null,ie),function(t,s){var i=c(t,"Enumerable"),j=[i].concat(s),h;e.def(i,"$to_set",h=function(w,C){var F=h.$$p,N=F||A,x,f,L,ae=this;return F&&(h.$$p=null),F&&(h.$$p=null),x=e.slice.call(arguments,0,arguments.length),x.length>0&&(f=x[0],x.splice(0,1)),f==null&&(f=$(j,"Set")),L=x,_(f,"new",[ae].concat(e.to_a(L)),N.$to_proc())},h.$$arity=-1)}(ie[0],ie)},Opal.modules["asciidoctor/js/opal_ext/kernel"]=function(e){var u=e.top,O=[],xe=e.nil,Xe=e.const_get_qualified,ie=e.const_get_relative,A=e.breaker,$e=e.slice,$=e.module,n=e.send;return e.add_stubs(["$new"]),function(y,W){var oe=$(y,"Kernel"),b=[oe].concat(W),_,c;e.def(oe,"$open",_=function(s,i){var j,h,g=_.$$p,w=g||xe,C=this,F=xe;return g&&(_.$$p=null),j=e.slice.call(arguments,1,arguments.length),h=j,F=n(ie(b,"File"),"new",[s].concat(e.to_a(h))),w!==xe?e.yield1(w,F):F},_.$$arity=-2),e.def(oe,"$__dir__",c=function(){var s=this;return""},c.$$arity=0)}(O[0],O)},Opal.modules["asciidoctor/js/opal_ext/file"]=function(e){var u=e.top,O=[],xe=e.nil,Xe=e.const_get_qualified,ie=e.const_get_relative,A=e.breaker,$e=e.slice,$=e.klass,n=e.truthy,y=e.gvars;return e.add_stubs(["$attr_reader","$delete","$gsub","$read","$size","$to_enum","$chomp","$each_line","$readlines","$split"]),function(W,oe,b){var _=$(W,oe,"File"),c=[_].concat(b),t,s,i,j;return _.$$prototype.eof=_.$$prototype.path=xe,_.$attr_reader("eof"),_.$attr_reader("lineno"),_.$attr_reader("path"),e.def(_,"$initialize",t=function(g,w){var C=this,F=xe;return w==null&&(w="r"),C.path=g,C.contents=xe,C.eof=!1,C.lineno=0,w=w.$delete("b"),F=/:(.*)/,w=w.$gsub(F,""),C.flags=w},t.$$arity=-2),e.def(_,"$read",s=function(){var g=this,w=xe;return n(g.eof)?"":(w=ie(c,"File").$read(g.path),g.eof=!0,g.lineno=w.$size(),w)},s.$$arity=0),e.def(_,"$each_line",i=function(g){var w=i.$$p,C=w||xe,F=this,N=xe;if(y["/"]==null&&(y["/"]=xe),w&&(i.$$p=null),w&&(i.$$p=null),g==null&&(g=y["/"]),n(F.eof))return function(){return C!==xe?F:[].$to_enum()}();if(C!==xe){N=ie(c,"File").$read(F.path),F.eof=!1,F.lineno=0;for(var x=N.$chomp(),f=N.length!=x.length,L=x.split(g),ae=0,Pe=L.length;ae<Pe;ae++)F.lineno+=1,ae<Pe-1||f?e.yield1(C,L[ae]+g):e.yield1(C,L[ae]);return F.eof=!0,F}else return F.$read().$each_line()},i.$$arity=-1),e.def(_,"$readlines",j=function(){var g=this;return ie(c,"File").$readlines(g.path)},j.$$arity=0),function(h,g){var w=[h].concat(g),C,F,N,x;return e.def(h,"$readlines",C=function(L,ae){var Pe=this,Ie=xe;return y["/"]==null&&(y["/"]=xe),ae==null&&(ae=y["/"]),Ie=ie(w,"File").$read(L),Ie.$split(ae)},C.$$arity=-2),e.def(h,"$file?",F=function(f){var L=this;return!0},F.$$arity=1),e.def(h,"$readable?",N=function(f){var L=this;return!0},N.$$arity=1),e.def(h,"$read",x=function(L){var ae=this;return""},x.$$arity=1),xe&&"read"}(e.get_singleton_class(_),c)}(O[0],null,O),function(W,oe,b){var _=$(W,oe,"IO"),c=[_].concat(b),t;return e.defs(_,"$read",t=function(i){var j=this;return ie(c,"File").$read(i)},t.$$arity=1),xe&&"read"}(O[0],null,O)},Opal.modules["asciidoctor/js/opal_ext/match_data"]=function(e){function u(W,oe){return typeof W=="number"&&typeof oe=="number"?W-oe:W["$-"](oe)}var O=e.top,xe=[],Xe=e.nil,ie=e.const_get_qualified,A=e.const_get_relative,$e=e.breaker,$=e.slice,n=e.klass,y=e.send;return e.add_stubs(["$[]=","$-"]),function(W,oe,b){var _=n(W,oe,"MatchData"),c=[_].concat(b),t;return _.$$prototype.matches=Xe,e.def(_,"$[]=",t=function(s,i){var j=this,h=Xe;return h=[s,i],y(j.matches,"[]=",e.to_a(h)),h[u(h.length,1)]},t.$$arity=2),Xe&&"[]="}(xe[0],null,xe)},Opal.modules["asciidoctor/js/opal_ext/string"]=function(e){function u(b,_){return typeof b=="number"&&typeof _=="number"?b<_:b["$<"](_)}function O(b,_){return typeof b=="number"&&typeof _=="number"?b>=_:b["$>="](_)}function xe(b,_){return typeof b=="number"&&typeof _=="number"?b-_:b["$-"](_)}var Xe=e.top,ie=[],A=e.nil,$e=e.const_get_qualified,$=e.const_get_relative,n=e.breaker,y=e.slice,W=e.klass,oe=e.truthy;return e.add_stubs(["$method_defined?","$<","$length","$bytes","$to_s","$byteslice","$==","$>=","$-","$_original_byteslice","$_original_unpack"]),function(b,_,c){var t=W(b,_,"String"),s=[t].concat(c),i,j,h;return oe(t["$method_defined?"]("limit_bytesize"))||e.def(t,"$limit_bytesize",i=function(w){var C=this,F=A;return oe(u(w,C.$bytes().$length()))?(F=C.$byteslice(0,w),F.$to_s()):C.$to_s()},i.$$arity=1),oe(t["$method_defined?"]("limit"))||e.alias(t,"limit","limit_bytesize"),e.alias(t,"_original_byteslice","byteslice"),e.def(t,"$byteslice",j=function(w,C){var F,N,x=this;return C==null&&(C=1),oe(oe(F=(N=w["$=="](3))?O(C,w):w["$=="](3))?x.charCodeAt()===65279:F)?x.substr(1).$byteslice(0,xe(C,3)):x.$_original_byteslice(w,C)},j.$$arity=-2),e.alias(t,"_original_unpack","unpack"),e.def(t,"$unpack",h=function(w){var C=this;if(w["$=="]("C3")){if(oe(C.charCodeAt()===65279))return[239,187,191];for(var F=[],N=0;N<3;N++)N<C.length?F.push(C.charCodeAt(N)):F.push(A);return F}else return C.$_original_unpack(w)},h.$$arity=1),A&&"unpack"}(ie[0],null,ie)},Opal.modules["asciidoctor/js/opal_ext/uri"]=function(e){var u=e.top,O=[],xe=e.nil,Xe=e.const_get_qualified,ie=e.const_get_relative,A=e.breaker,$e=e.slice,$=e.module;return e.add_stubs(["$extend"]),function(n,y){var W=$(n,"URI"),oe=[W].concat(y),b,_;e.defs(W,"$parse",b=function(t){var s=this;return t.$extend(ie(oe,"URI"))},b.$$arity=1),e.def(W,"$path",_=function(){var t=this;return t},_.$$arity=0)}(O[0],O)},Opal.modules["asciidoctor/js/opal_ext/base64"]=function(e){var u=e.top,O=[],xe=e.nil,Xe=e.const_get_qualified,ie=e.const_get_relative,A=e.breaker,$e=e.slice,$=e.module,n=e.hash2,y=e.truthy;return e.add_stubs(["$delete"]),function(W,oe){var b=$(W,"Base64"),_=[b].concat(oe),c,t,s,i,j,h,g,w;g=e.global.btoa||function(C){var F;return C instanceof Buffer?F=C:F=Buffer.from(C.toString(),"binary"),F.toString("base64")},w=e.global.atob||function(C){return Buffer.from(C,"base64").toString("binary")},e.defs(b,"$decode64",c=function(F){var N=this;return w(F.replace(/\r?\n/g,""))},c.$$arity=1),e.defs(b,"$encode64",t=function(F){var N=this;return g(F).replace(/(.{60})/g,`$1
`).replace(/([^\n])$/g,`$1
`)},t.$$arity=1),e.defs(b,"$strict_decode64",s=function(F){var N=this;return w(F)},s.$$arity=1),e.defs(b,"$strict_encode64",i=function(F){var N=this;return g(F)},i.$$arity=1),e.defs(b,"$urlsafe_decode64",j=function(F){var N=this;return w(F.replace(/\-/g,"+").replace(/_/g,"/"))},j.$$arity=1),e.defs(b,"$urlsafe_encode64",h=function(F,N){var x,f=this,L=xe;if(N==null)N=n([],{});else if(!N.$$is_hash)throw e.ArgumentError.$new("expected kwargs");return x=N.$$smap.padding,x==null&&(x=!0),L=g(F).replace(/\+/g,"-").replace(/\//g,"_"),y(x)||(L=L.$delete("=")),L},h.$$arity=-2)}(O[0],O)},Opal.modules["asciidoctor/js/opal_ext/number"]=function(e){function u(W,oe){return typeof W=="number"&&typeof oe=="number"?W>oe:W["$>"](oe)}var O=e.top,xe=[],Xe=e.nil,ie=e.const_get_qualified,A=e.const_get_relative,$e=e.breaker,$=e.slice,n=e.klass,y=e.truthy;return e.add_stubs(["$coerce_to!","$>"]),function(W,oe,b){var _=n(W,oe,"Number"),c=[_].concat(b),t;return e.def(_,"$round",t=function(i){var j=this;return i=A(c,"Opal")["$coerce_to!"](i,A(c,"Integer"),"to_int"),y(u(i,0))?Number(j.toFixed(i)):Math.round(j)},t.$$arity=-1),Xe&&"round"}(xe[0],A(xe,"Numeric"),xe)},Opal.modules["asciidoctor/js/opal_ext"]=function(e){var u=e.top,O=[],xe=e.nil,Xe=e.const_get_qualified,ie=e.const_get_relative,A=e.breaker,$e=e.slice;e.add_stubs(["$require"]),u.$require("asciidoctor/js/opal_ext/kernel"),u.$require("asciidoctor/js/opal_ext/file"),u.$require("asciidoctor/js/opal_ext/match_data"),u.$require("asciidoctor/js/opal_ext/string"),u.$require("asciidoctor/js/opal_ext/uri"),u.$require("asciidoctor/js/opal_ext/base64"),u.$require("asciidoctor/js/opal_ext/number"),e.config.unsupported_features_severity="ignore",u.$require("asciidoctor/js/opal_ext/browser")},Opal.modules["asciidoctor/js/rx"]=function(e){function u(b,_){return typeof b=="number"&&typeof _=="number"?b+_:b["$+"](_)}var O=e.top,xe=[],Xe=e.nil,ie=e.const_get_qualified,A=e.const_get_relative,$e=e.breaker,$=e.slice,n=e.module,y=e.send,W=e.gvars,oe=e.truthy;return e.add_stubs(["$gsub","$+","$unpack_hex_range"]),function(b,_){var c=n(b,"Asciidoctor"),t=[c].concat(_),s;e.const_set(t[0],"HEX_RANGE_RX",/([A-F0-9]{4})(?:-([A-F0-9]{4}))?/),e.defs(c,"$unpack_hex_range",s=function(j){var h,g=this;return y(j,"gsub",[A(t,"HEX_RANGE_RX")],(h=function(){var w=h.$$s||this,C,F;return"\\u"+((C=W["~"])===Xe?Xe:C["$[]"](1))+(oe(C=(F=W["~"])===Xe?Xe:F["$[]"](2))?"-\\u"+((F=W["~"])===Xe?Xe:F["$[]"](2)):C)},h.$$s=g,h.$$arity=0,h))},s.$$arity=1),e.const_set(t[0],"P_L",u("A-Za-z",c.$unpack_hex_range("00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D037F03860388-038A038C038E-03A103A3-03F503F7-0481048A-052F0531-055605590561-058705D0-05EA05F0-05F20620-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280840-085808A0-08B20904-0939093D09500958-09610971-09800985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10CF10CF20D05-0D0C0D0E-0D100D12-0D3A0D3D0D4E0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC-0EDF0F000F40-0F470F49-0F6C0F88-0F8C1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510C710CD10D0-10FA10FC-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA16F1-16F81700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191E1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1BBA-1BE51C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11CF51CF61D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209C21022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2CF22CF32D00-2D252D272D2D2D30-2D672D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31BA31F0-31FF3400-4DB54E00-9FCCA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A66EA67F-A69DA6A0-A6E5A717-A71FA722-A788A78B-A78EA790-A7ADA7B0A7B1A7F7-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFA9E0-A9E4A9E6-A9EFA9FA-A9FEAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA7E-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDAAE0-AAEAAAF2-AAF4AB01-AB06AB09-AB0EAB11-AB16AB20-AB26AB28-AB2EAB30-AB5AAB5C-AB5FAB64AB65ABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC"))),e.const_set(t[0],"P_Nl",c.$unpack_hex_range("16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF")),e.const_set(t[0],"P_Nd",u("0-9",c.$unpack_hex_range("0660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0DE6-0DEF0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19D91A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9A9F0-A9F9AA50-AA59ABF0-ABF9FF10-FF19"))),e.const_set(t[0],"P_Pc",c.$unpack_hex_range("005F203F20402054FE33FE34FE4D-FE4FFF3F")),e.const_set(t[0],"CC_ALPHA",""+A(t,"P_L")+A(t,"P_Nl")),e.const_set(t[0],"CG_ALPHA","["+A(t,"CC_ALPHA")+"]"),e.const_set(t[0],"CC_ALNUM",""+A(t,"CC_ALPHA")+A(t,"P_Nd")),e.const_set(t[0],"CG_ALNUM","["+A(t,"CC_ALNUM")+"]"),e.const_set(t[0],"CC_WORD",""+A(t,"CC_ALNUM")+A(t,"P_Pc")),e.const_set(t[0],"CG_WORD","["+A(t,"CC_WORD")+"]"),e.const_set(t[0],"CG_BLANK","[ \\t]"),e.const_set(t[0],"CC_EOL","(?=\\n|$)"),e.const_set(t[0],"CG_GRAPH","[^\\s\\x00-\\x1F\\x7F]"),e.const_set(t[0],"CC_ALL","[\\s\\S]"),e.const_set(t[0],"CC_ANY","[^\\n]")}(xe[0],xe)},Opal.modules.strscan=function(e){function u(W,oe){return typeof W=="number"&&typeof oe=="number"?W-oe:W["$-"](oe)}var O=e.top,xe=[],Xe=e.nil,ie=e.const_get_qualified,A=e.const_get_relative,$e=e.breaker,$=e.slice,n=e.klass,y=e.send;return e.add_stubs(["$attr_reader","$anchor","$scan_until","$length","$size","$rest","$pos=","$-","$private"]),function(W,oe,b){var _=n(W,oe,"StringScanner"),c=[_].concat(b),t,s,i,j,h,g,w,C,F,N,x,f,L,ae,Pe,Ie,ue,S,d,m,p,z,Z,re,ye;return _.$$prototype.pos=_.$$prototype.string=_.$$prototype.working=_.$$prototype.matched=_.$$prototype.prev_pos=_.$$prototype.match=Xe,_.$attr_reader("pos"),_.$attr_reader("matched"),e.def(_,"$initialize",t=function(ee){var V=this;return V.string=ee,V.pos=0,V.matched=Xe,V.working=ee,V.match=[]},t.$$arity=1),_.$attr_reader("string"),e.def(_,"$beginning_of_line?",s=function(){var q=this;return q.pos===0||q.string.charAt(q.pos-1)===`
`},s.$$arity=0),e.alias(_,"bol?","beginning_of_line?"),e.def(_,"$scan",i=function(ee){var V=this;ee=V.$anchor(ee);var _e=ee.exec(V.working);return _e==null?V.matched=Xe:typeof _e=="object"?(V.prev_pos=V.pos,V.pos+=_e[0].length,V.working=V.working.substring(_e[0].length),V.matched=_e[0],V.match=_e,_e[0]):typeof _e=="string"?(V.pos+=_e.length,V.working=V.working.substring(_e.length),_e):Xe},i.$$arity=1),e.def(_,"$scan_until",j=function(ee){var V=this;ee=V.$anchor(ee);for(var _e=V.pos,Me=V.working,Te;;){if(Te=ee.exec(Me),_e+=1,Me=Me.substr(1),Te==null){if(Me.length===0)return V.matched=Xe;continue}return V.matched=V.string.substr(V.pos,_e-V.pos-1+Te[0].length),V.prev_pos=_e-1,V.pos=_e,V.working=Me.substr(Te[0].length),V.matched}},j.$$arity=1),e.def(_,"$[]",h=function(q){var ee=this,V=ee.match;return q<0&&(q+=V.length),q<0||q>=V.length||V[q]==null?Xe:V[q]},h.$$arity=1),e.def(_,"$check",g=function(ee){var V=this;ee=V.$anchor(ee);var _e=ee.exec(V.working);return _e==null?V.matched=Xe:V.matched=_e[0]},g.$$arity=1),e.def(_,"$check_until",w=function(ee){var V=this,_e=V.prev_pos,Me=V.pos,Te=V.$scan_until(ee);return Te!==Xe&&(V.matched=Te.substr(-1),V.working=V.string.substr(Me)),V.prev_pos=_e,V.pos=Me,Te},w.$$arity=1),e.def(_,"$peek",C=function(ee){var V=this;return V.working.substring(0,ee)},C.$$arity=1),e.def(_,"$eos?",F=function(){var q=this;return q.working.length===0},F.$$arity=0),e.def(_,"$exist?",N=function(q){var ee=this,V=q.exec(ee.working);return V==null?Xe:V.index==0?0:V.index+1},N.$$arity=1),e.def(_,"$skip",x=function(ee){var V=this;ee=V.$anchor(ee);var _e=ee.exec(V.working);if(_e==null)return V.matched=Xe;var Me=_e[0],Te=Me.length;return V.matched=Me,V.prev_pos=V.pos,V.pos+=Te,V.working=V.working.substring(Te),Te},x.$$arity=1),e.def(_,"$skip_until",f=function(ee){var V=this,_e=V.$scan_until(ee);return _e===Xe?Xe:(V.matched=_e.substr(-1),_e.length)},f.$$arity=1),e.def(_,"$get_byte",L=function(){var ee=this,V=Xe;return ee.pos<ee.string.length?(ee.prev_pos=ee.pos,ee.pos+=1,V=ee.matched=ee.working.substring(0,1),ee.working=ee.working.substring(1)):ee.matched=Xe,V},L.$$arity=0),e.alias(_,"getch","get_byte"),e.def(_,"$match?",ae=function(q){var ee=this;q=ee.$anchor(q);var V=q.exec(ee.working);return V==null?Xe:(ee.prev_pos=ee.pos,V[0].length)},ae.$$arity=1),e.def(_,"$pos=",Pe=function(q){var ee=this;return q<0&&(q+=ee.string.$length()),ee.pos=q,ee.working=ee.string.slice(q)},Pe.$$arity=1),e.def(_,"$matched_size",Ie=function(){var ee=this;return ee.matched===Xe?Xe:ee.matched.length},Ie.$$arity=0),e.def(_,"$post_match",ue=function(){var ee=this;return ee.matched===Xe?Xe:ee.string.substr(ee.pos)},ue.$$arity=0),e.def(_,"$pre_match",S=function(){var ee=this;return ee.matched===Xe?Xe:ee.string.substr(0,ee.prev_pos)},S.$$arity=0),e.def(_,"$reset",d=function(){var ee=this;return ee.working=ee.string,ee.matched=Xe,ee.pos=0},d.$$arity=0),e.def(_,"$rest",m=function(){var ee=this;return ee.working},m.$$arity=0),e.def(_,"$rest?",p=function(){var q=this;return q.working.length!==0},p.$$arity=0),e.def(_,"$rest_size",z=function(){var ee=this;return ee.$rest().$size()},z.$$arity=0),e.def(_,"$terminate",Z=function(){var ee=this,V=Xe;return ee.match=Xe,V=[ee.string.$length()],y(ee,"pos=",e.to_a(V)),V[u(V.length,1)]},Z.$$arity=0),e.def(_,"$unscan",re=function(){var ee=this;return ee.pos=ee.prev_pos,ee.prev_pos=Xe,ee.match=Xe,ee},re.$$arity=0),_.$private(),e.def(_,"$anchor",ye=function(ee){var V=this,_e=ee.toString().match(/\/([^\/]+)$/);return _e=_e?_e[1]:void 0,new RegExp("^(?:"+ee.source+")",_e)},ye.$$arity=1),Xe&&"anchor"}(xe[0],null,xe)},Opal.modules["asciidoctor/js"]=function(e){var u=e.top,O=[],xe=e.nil,Xe=e.const_get_qualified,ie=e.const_get_relative,A=e.breaker,$e=e.slice;return e.add_stubs(["$require"]),u.$require("asciidoctor/js/opal_ext"),u.$require("asciidoctor/js/rx"),u.$require("strscan")},Opal.modules["asciidoctor/core_ext/nil_or_empty"]=function(e){var u=e.top,O=[],xe=e.nil,Xe=e.const_get_qualified,ie=e.const_get_relative,A=e.breaker,$e=e.slice,$=e.klass,n=e.truthy;return e.add_stubs(["$method_defined?"]),function(y,W,oe){var b=$(y,W,"NilClass"),_=[b].concat(oe);return n(b["$method_defined?"]("nil_or_empty?"))?xe:e.alias(b,"nil_or_empty?","nil?")}(O[0],null,O),function(y,W,oe){var b=$(y,W,"String"),_=[b].concat(oe);return n(b["$method_defined?"]("nil_or_empty?"))?xe:e.alias(b,"nil_or_empty?","empty?")}(O[0],null,O),function(y,W,oe){var b=$(y,W,"Array"),_=[b].concat(oe);return n(b["$method_defined?"]("nil_or_empty?"))?xe:e.alias(b,"nil_or_empty?","empty?")}(O[0],null,O),function(y,W,oe){var b=$(y,W,"Hash"),_=[b].concat(oe);return n(b["$method_defined?"]("nil_or_empty?"))?xe:e.alias(b,"nil_or_empty?","empty?")}(O[0],null,O),function(y,W,oe){var b=$(y,W,"Numeric"),_=[b].concat(oe);return n(b["$method_defined?"]("nil_or_empty?"))?xe:e.alias(b,"nil_or_empty?","nil?")}(O[0],null,O)},Opal.modules["asciidoctor/core_ext/hash/merge"]=function(e){function u(b,_){return typeof b=="number"&&typeof _=="number"?b<_:b["$<"](_)}function O(b,_){return typeof b=="number"&&typeof _=="number"?b>_:b["$>"](_)}var xe,Xe=e.top,ie=[],A=e.nil,$e=e.const_get_qualified,$=e.const_get_relative,n=e.breaker,y=e.slice,W=e.send,oe=e.truthy;return e.add_stubs(["$==","$arity","$instance_method","$send","$new","$<","$length","$dup","$>","$inject","$merge","$[]"]),$(ie,"Hash").$instance_method("merge").$arity()["$=="](1)?$(ie,"Hash").$send("prepend",W($(ie,"Module"),"new",[],(xe=function(){var b=xe.$$s||this,_;return e.def(b,"$merge",_=function(t){var s,i,j,h=_.$$p,g=h||A,w=this,C=A;return h&&(_.$$p=null),s=e.slice.call(arguments,0,arguments.length),i=s,oe(u(C=i.$length(),1))?w.$dup():oe(O(C,1))?W(i,"inject",[w],(j=function(F,N){var x=j.$$s||this;return F==null&&(F=A),N==null&&(N=A),F.$merge(N)},j.$$s=w,j.$$arity=2,j)):W(w,e.find_super_dispatcher(w,"merge",_,!1),[i["$[]"](0)],null)},_.$$arity=-1),A&&"merge"},xe.$$s=Xe,xe.$$arity=0,xe))):A},Opal.modules["asciidoctor/core_ext/match_data/names"]=function(e){var u=e.top,O=[],xe=e.nil,Xe=e.const_get_qualified,ie=e.const_get_relative,A=e.breaker,$e=e.slice,$=e.truthy,n=e.klass;return e.add_stubs(["$method_defined?"]),$(ie(O,"MatchData")["$method_defined?"]("names"))?xe:function(y,W,oe){var b=n(y,W,"MatchData"),_=[b].concat(oe),c;return e.def(b,"$names",c=function(){var s=this;return[]},c.$$arity=0),xe&&"names"}(O[0],null,O)},Opal.modules["asciidoctor/core_ext"]=function(e){var u=e.top,O=[],xe=e.nil,Xe=e.const_get_qualified,ie=e.const_get_relative,A=e.breaker,$e=e.slice;return e.add_stubs(["$=="]),u.$require("asciidoctor/core_ext.rb/../core_ext/nil_or_empty"),u.$require("asciidoctor/core_ext.rb/../core_ext/hash/merge"),ie(O,"RUBY_ENGINE")["$=="]("opal")?u.$require("asciidoctor/core_ext.rb/../core_ext/match_data/names"):xe},Opal.modules["asciidoctor/helpers"]=function(e){function u(t,s){return typeof t=="number"&&typeof s=="number"?t-s:t["$-"](s)}function O(t,s){return typeof t=="number"&&typeof s=="number"?t*s:t["$*"](s)}function xe(t,s){return typeof t=="number"&&typeof s=="number"?t+s:t["$+"](s)}var Xe=e.top,ie=[],A=e.nil,$e=e.const_get_qualified,$=e.const_get_relative,n=e.breaker,y=e.slice,W=e.module,oe=e.truthy,b=e.gvars,_=e.send,c=e.hash2;return e.add_stubs(["$module_function","$require","$include?","$include","$==","$===","$path","$message","$raise","$warn","$logger","$chomp","$empty?","$slice","$unpack","$[]","$byteslice","$bytesize","$[]=","$-","$map","$rstrip","$encode","$encoding","$nil_or_empty?","$!=","$tap","$each_line","$<<","$match?","$gsub","$rindex","$index","$basename","$extname","$!","$length","$directory?","$dirname","$mkdir_p","$mkdir","$private_constant","$join","$divmod","$*","$+","$to_s","$to_i","$succ","$class_for_name","$const_get"]),function(t,s){var i=W(t,"Asciidoctor"),j=[i].concat(s);(function(h,g){var w=W(h,"Helpers"),C=[w].concat(g),F,N,x,f,L,ae,Pe,Ie,ue,S,d,m,p,z,Z,re;w.$module_function(),e.def(w,"$require_library",F=function(q,ee,V){var _e=this,Me=A,Te=A;b["!"]==null&&(b["!"]=A),ee==null&&(ee=!0),V==null&&(V="abort");try{return _e.$require(q)}catch(et){if(e.rescue(et,[$e("::","LoadError")]))try{return oe(_e["$include?"]($(C,"Logging")))||_e.$include($(C,"Logging")),oe(ee)?(ee["$=="](!0)&&(ee=q),Me=V,"abort"["$==="](Me)?(Te=function(){return b["!"].$path()["$=="](ee)?"":" (reason: "+function(){return oe(b["!"].$path())?"cannot load '"+b["!"].$path()+"'":b["!"].$message()}()+")"}(),_e.$raise($e("::","LoadError"),"asciidoctor: FAILED: required gem '"+ee+"' is not available"+Te+". Processing aborted.")):"warn"["$==="](Me)&&(Te=function(){return b["!"].$path()["$=="](ee)?"":" (reason: "+function(){return oe(b["!"].$path())?"cannot load '"+b["!"].$path()+"'":b["!"].$message()}()+")"}(),_e.$logger().$warn("optional gem '"+ee+"' is not available"+Te+". Functionality disabled."))):(Me=V,"abort"["$==="](Me)?_e.$raise($e("::","LoadError"),"asciidoctor: FAILED: "+b["!"].$message().$chomp(".")+". Processing aborted."):"warn"["$==="](Me)&&_e.$logger().$warn(""+b["!"].$message().$chomp(".")+". Functionality disabled.")),A}finally{e.pop_exception()}else throw et}},F.$$arity=-2),e.def(w,"$prepare_source_array",N=function(q,ee){var V,_e,Me,Te,et,ct,it,Ne,Se=this,We=A,tt=A,Qe=A,nt=A;return ee==null&&(ee=!0),oe(q["$empty?"]())?[]:(We=(tt=(Qe=q["$[]"](0)).$unpack("C3")).$slice(0,2))["$=="]($(C,"BOM_BYTES_UTF_16LE"))?(nt=[0,Qe.$byteslice(2,Qe.$bytesize())],_(q,"[]=",e.to_a(nt)),nt[u(nt.length,1)],function(){return oe(ee)?_(q,"map",[],(V=function(yt){var lt=V.$$s||this;return yt==null&&(yt=A),yt.$encode($(C,"UTF_8"),$e($e("::","Encoding"),"UTF_16LE")).$rstrip()},V.$$s=Se,V.$$arity=1,V)):_(q,"map",[],(_e=function(yt){var lt=_e.$$s||this;return yt==null&&(yt=A),yt.$encode($(C,"UTF_8"),$e($e("::","Encoding"),"UTF_16LE")).$chomp()},_e.$$s=Se,_e.$$arity=1,_e))}()):We["$=="]($(C,"BOM_BYTES_UTF_16BE"))?(nt=[0,Qe.$byteslice(2,Qe.$bytesize())],_(q,"[]=",e.to_a(nt)),nt[u(nt.length,1)],function(){return oe(ee)?_(q,"map",[],(Me=function(yt){var lt=Me.$$s||this;return yt==null&&(yt=A),yt.$encode($(C,"UTF_8"),$e($e("::","Encoding"),"UTF_16BE")).$rstrip()},Me.$$s=Se,Me.$$arity=1,Me)):_(q,"map",[],(Te=function(yt){var lt=Te.$$s||this;return yt==null&&(yt=A),yt.$encode($(C,"UTF_8"),$e($e("::","Encoding"),"UTF_16BE")).$chomp()},Te.$$s=Se,Te.$$arity=1,Te))}()):(tt["$=="]($(C,"BOM_BYTES_UTF_8"))&&(nt=[0,Qe.$byteslice(3,Qe.$bytesize())],_(q,"[]=",e.to_a(nt)),nt[u(nt.length,1)]),Qe.$encoding()["$=="]($(C,"UTF_8"))?oe(ee)?_(q,"map",[],(et=function(yt){var lt=et.$$s||this;return yt==null&&(yt=A),yt.$rstrip()},et.$$s=Se,et.$$arity=1,et)):_(q,"map",[],(ct=function(yt){var lt=ct.$$s||this;return yt==null&&(yt=A),yt.$chomp()},ct.$$s=Se,ct.$$arity=1,ct)):oe(ee)?_(q,"map",[],(it=function(yt){var lt=it.$$s||this;return yt==null&&(yt=A),yt.$encode($(C,"UTF_8")).$rstrip()},it.$$s=Se,it.$$arity=1,it)):_(q,"map",[],(Ne=function(yt){var lt=Ne.$$s||this;return yt==null&&(yt=A),yt.$encode($(C,"UTF_8")).$chomp()},Ne.$$s=Se,Ne.$$arity=1,Ne)))},N.$$arity=-2),e.def(w,"$prepare_source_string",x=function(q,ee){var V,_e,Me=this,Te=A,et=A;return ee==null&&(ee=!0),oe(q["$nil_or_empty?"]())?[]:((Te=(et=q.$unpack("C3")).$slice(0,2))["$=="]($(C,"BOM_BYTES_UTF_16LE"))?q=q.$byteslice(2,q.$bytesize()).$encode($(C,"UTF_8"),$e($e("::","Encoding"),"UTF_16LE")):Te["$=="]($(C,"BOM_BYTES_UTF_16BE"))?q=q.$byteslice(2,q.$bytesize()).$encode($(C,"UTF_8"),$e($e("::","Encoding"),"UTF_16BE")):et["$=="]($(C,"BOM_BYTES_UTF_8"))?(q=q.$byteslice(3,q.$bytesize()),q.$encoding()["$=="]($(C,"UTF_8"))||(q=q.$encode($(C,"UTF_8")))):oe(q.$encoding()["$!="]($(C,"UTF_8")))&&(q=q.$encode($(C,"UTF_8"))),oe(ee)?_([],"tap",[],(V=function(ct){var it=V.$$s||this,Ne;return ct==null&&(ct=A),_(q,"each_line",[],(Ne=function(Se){var We=Ne.$$s||this;return Se==null&&(Se=A),ct["$<<"](Se.$rstrip())},Ne.$$s=it,Ne.$$arity=1,Ne))},V.$$s=Me,V.$$arity=1,V)):_([],"tap",[],(_e=function(ct){var it=_e.$$s||this,Ne;return ct==null&&(ct=A),_(q,"each_line",[],(Ne=function(Se){var We=Ne.$$s||this;return Se==null&&(Se=A),ct["$<<"](Se.$chomp())},Ne.$$s=it,Ne.$$arity=1,Ne))},_e.$$s=Me,_e.$$arity=1,_e)))},x.$$arity=-2),e.def(w,"$uriish?",f=function(ye){var q,ee=this;return oe(q=ye["$include?"](":"))?$(C,"UriSniffRx")["$match?"](ye):q},f.$$arity=1),$(C,"RUBY_ENGINE")["$=="]("opal")&&e.def(w,"$encode_uri_component",L=function(q){var ee=this;return encodeURIComponent(q).replace(/%20|[!'()*]/g,function(V){return V==="%20"?"+":"%"+V.charCodeAt(0).toString(16)})},L.$$arity=1),e.def(w,"$encode_spaces_in_uri",ae=function(q){var ee=this;return oe(q["$include?"](" "))?q.$gsub(" ","%20"):q},ae.$$arity=1),e.def(w,"$rootname",Pe=function(q){var ee=this,V=A;return oe(V=q.$rindex("."))?oe(q.$index("/",V))?q:q.$slice(0,V):q},Pe.$$arity=1),e.def(w,"$basename",Ie=function(q,ee){var V=this;return ee==null&&(ee=A),oe(ee)?$e("::","File").$basename(q,function(){return ee["$=="](!0)?V.$extname(q):ee}()):$e("::","File").$basename(q)},Ie.$$arity=-2),e.def(w,"$extname?",ue=function(ye){var q,ee=this,V=A;return oe(q=V=ye.$rindex("."))?ye.$index("/",V)["$!"]():q},ue.$$arity=1),oe($e($e("::","File"),"ALT_SEPARATOR"))?e.def(w,"$extname",S=function(q,ee){var V,_e=this,Me=A;return ee==null&&(ee=""),oe(Me=q.$rindex("."))?oe(oe(V=q.$index("/",Me))?V:q.$index($e($e("::","File"),"ALT_SEPARATOR"),Me))?ee:q.$slice(Me,q.$length()):ee},S.$$arity=-2):e.def(w,"$extname",d=function(q,ee){var V=this,_e=A;return ee==null&&(ee=""),oe(_e=q.$rindex("."))?oe(q.$index("/",_e))?ee:q.$slice(_e,q.$length()):ee},d.$$arity=-2),e.def(w,"$mkdir_p",m=function(q){var ee=this,V=A;if(oe($e("::","File")["$directory?"](q)))return A;(V=$e("::","File").$dirname(q))["$=="](".")||ee.$mkdir_p(V);try{return $e("::","Dir").$mkdir(q)}catch(_e){if(e.rescue(_e,[$e("::","SystemCallError")]))try{return oe($e("::","File")["$directory?"](q))?A:ee.$raise()}finally{e.pop_exception()}else throw _e}},m.$$arity=1),e.const_set(C[0],"ROMAN_NUMERALS",c(["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"],{M:1e3,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1})),w.$private_constant("ROMAN_NUMERALS"),e.def(w,"$int_to_roman",p=function(q){var ee,V=this;return _($(C,"ROMAN_NUMERALS"),"map",[],(ee=function(_e,Me){var Te=ee.$$s||this,et,ct,it=A;return _e==null&&(_e=A),Me==null&&(Me=A),ct=q.$divmod(Me),et=e.to_ary(ct),it=et[0]==null?A:et[0],q=et[1]==null?A:et[1],O(_e,it)},ee.$$s=V,ee.$$arity=2,ee)).$join()},p.$$arity=1),e.def(w,"$nextval",z=function(q){var ee=this,V=A;return oe($e("::","Integer")["$==="](q))?xe(q,1):(V=q.$to_i()).$to_s()["$=="](q.$to_s())?xe(V,1):q.$succ()},z.$$arity=1),e.def(w,"$resolve_class",Z=function(q){var ee=this;return oe($e("::","Class")["$==="](q))?q:oe($e("::","String")["$==="](q))?ee.$class_for_name(q):A},Z.$$arity=1),e.def(w,"$class_for_name",re=function(q){var ee=this,V=A;try{return oe($e("::","Class")["$==="](V=$e("::","Object").$const_get(q,!1)))||ee.$raise(),V}catch(_e){if(e.rescue(_e,[$(C,"StandardError")]))try{return ee.$raise($e("::","NameError"),"Could not resolve class for name: "+q)}finally{e.pop_exception()}else throw _e}},re.$$arity=1)})(j[0],j)}(ie[0],ie)},Opal.modules.logger=function(e){function u(c,t){return typeof c=="number"&&typeof t=="number"?c+t:c["$+"](t)}function O(c,t){return typeof c=="number"&&typeof t=="number"?c<=t:c["$<="](t)}function xe(c,t){return typeof c=="number"&&typeof t=="number"?c<t:c["$<"](t)}var Xe=e.top,ie=[],A=e.nil,$e=e.const_get_qualified,$=e.const_get_relative,n=e.breaker,y=e.slice,W=e.klass,oe=e.module,b=e.send,_=e.truthy;return e.add_stubs(["$include","$to_h","$map","$constants","$const_get","$to_s","$format","$chr","$strftime","$message_as_string","$===","$+","$message","$class","$join","$backtrace","$inspect","$attr_reader","$attr_accessor","$new","$key","$upcase","$raise","$add","$to_proc","$<=","$<","$write","$call","$[]","$now"]),function(c,t,s){var i=W(c,t,"Logger"),j=[i].concat(s),h,g,w,C,F,N,x,f,L,ae,Pe,Ie,ue,S,d;return i.$$prototype.level=i.$$prototype.progname=i.$$prototype.pipe=i.$$prototype.formatter=A,function(m,p){var z=oe(m,"Severity"),Z=[z].concat(p);e.const_set(Z[0],"DEBUG",0),e.const_set(Z[0],"INFO",1),e.const_set(Z[0],"WARN",2),e.const_set(Z[0],"ERROR",3),e.const_set(Z[0],"FATAL",4),e.const_set(Z[0],"UNKNOWN",5)}(j[0],j),i.$include($(j,"Severity")),e.const_set(j[0],"SEVERITY_LABELS",b($(j,"Severity").$constants(),"map",[],(h=function(m){var p=h.$$s||this;return m==null&&(m=A),[$(j,"Severity").$const_get(m),m.$to_s()]},h.$$s=i,h.$$arity=1,h)).$to_h()),function(m,p,z){var Z=W(m,p,"Formatter"),re=[Z].concat(z),ye,q;return e.const_set(re[0],"MESSAGE_FORMAT",`%s, [%s] %5s -- %s: %s
`),e.const_set(re[0],"DATE_TIME_FORMAT","%Y-%m-%dT%H:%M:%S.%6N"),e.def(Z,"$call",ye=function(V,_e,Me,Te){var et=this;return et.$format($(re,"MESSAGE_FORMAT"),V.$chr(),_e.$strftime($(re,"DATE_TIME_FORMAT")),V,Me,et.$message_as_string(Te))},ye.$$arity=4),e.def(Z,"$message_as_string",q=function(V){var _e,Me=this,Te=A;return function(){return Te=V,$e("::","String")["$==="](Te)?V:$e("::","Exception")["$==="](Te)?u(""+V.$message()+" ("+V.$class()+`)
`,(_(_e=V.$backtrace())?_e:[]).$join(`
`)):V.$inspect()}()},q.$$arity=1),A&&"message_as_string"}(j[0],null,j),i.$attr_reader("level"),i.$attr_accessor("progname"),i.$attr_accessor("formatter"),e.def(i,"$initialize",g=function(p){var z=this;return z.pipe=p,z.level=$(j,"DEBUG"),z.formatter=$(j,"Formatter").$new()},g.$$arity=1),e.def(i,"$level=",w=function(m){var p=this,z=A;return _($e("::","Integer")["$==="](m))?p.level=m:_(z=$(j,"SEVERITY_LABELS").$key(m.$to_s().$upcase()))?p.level=z:p.$raise($(j,"ArgumentError"),"invalid log level: "+m)},w.$$arity=1),e.def(i,"$info",C=function(p){var z=C.$$p,Z=z||A,re=this;return z&&(C.$$p=null),z&&(C.$$p=null),p==null&&(p=A),b(re,"add",[$(j,"INFO"),A,p],Z.$to_proc())},C.$$arity=-1),e.def(i,"$debug",F=function(p){var z=F.$$p,Z=z||A,re=this;return z&&(F.$$p=null),z&&(F.$$p=null),p==null&&(p=A),b(re,"add",[$(j,"DEBUG"),A,p],Z.$to_proc())},F.$$arity=-1),e.def(i,"$warn",N=function(p){var z=N.$$p,Z=z||A,re=this;return z&&(N.$$p=null),z&&(N.$$p=null),p==null&&(p=A),b(re,"add",[$(j,"WARN"),A,p],Z.$to_proc())},N.$$arity=-1),e.def(i,"$error",x=function(p){var z=x.$$p,Z=z||A,re=this;return z&&(x.$$p=null),z&&(x.$$p=null),p==null&&(p=A),b(re,"add",[$(j,"ERROR"),A,p],Z.$to_proc())},x.$$arity=-1),e.def(i,"$fatal",f=function(p){var z=f.$$p,Z=z||A,re=this;return z&&(f.$$p=null),z&&(f.$$p=null),p==null&&(p=A),b(re,"add",[$(j,"FATAL"),A,p],Z.$to_proc())},f.$$arity=-1),e.def(i,"$unknown",L=function(p){var z=L.$$p,Z=z||A,re=this;return z&&(L.$$p=null),z&&(L.$$p=null),p==null&&(p=A),b(re,"add",[$(j,"UNKNOWN"),A,p],Z.$to_proc())},L.$$arity=-1),e.def(i,"$info?",ae=function(){var m=this;return O(m.level,$(j,"INFO"))},ae.$$arity=0),e.def(i,"$debug?",Pe=function(){var m=this;return O(m.level,$(j,"DEBUG"))},Pe.$$arity=0),e.def(i,"$warn?",Ie=function(){var m=this;return O(m.level,$(j,"WARN"))},Ie.$$arity=0),e.def(i,"$error?",ue=function(){var m=this;return O(m.level,$(j,"ERROR"))},ue.$$arity=0),e.def(i,"$fatal?",S=function(){var m=this;return O(m.level,$(j,"FATAL"))},S.$$arity=0),e.def(i,"$add",d=function(p,z,Z){var re=d.$$p,ye=re||A,q,ee=this;return re&&(d.$$p=null),re&&(d.$$p=null),z==null&&(z=A),Z==null&&(Z=A),_(xe(p=_(q=p)?q:$(j,"UNKNOWN"),ee.level))||(Z=_(q=Z)?q:ee.progname,_(z)||(ye!==A?z=e.yieldX(ye,[]):(z=Z,Z=ee.progname)),ee.pipe.$write(ee.formatter.$call(_(q=$(j,"SEVERITY_LABELS")["$[]"](p))?q:"ANY",$e("::","Time").$now(),Z,z))),!0},d.$$arity=-2),A&&"add"}(ie[0],null,ie)},Opal.modules["asciidoctor/logging"]=function(e){function u(t,s){return typeof t=="number"&&typeof s=="number"?t-s:t["$-"](s)}function O(t,s){return typeof t=="number"&&typeof s=="number"?t>s:t["$>"](s)}var xe=e.top,Xe=[],ie=e.nil,A=e.const_get_qualified,$e=e.const_get_relative,$=e.breaker,n=e.slice,y=e.module,W=e.klass,oe=e.send,b=e.truthy,_=e.hash2,c=e.gvars;return e.add_stubs(["$require","$attr_reader","$progname=","$-","$new","$formatter=","$level=","$>","$[]","$===","$inspect","$to_h","$map","$constants","$const_get","$<<","$clear","$empty?","$max","$attr_accessor","$memoize_logger","$private","$extend","$private_class_method","$logger","$merge"]),xe.$require("logger"),function(t,s){var i=y(t,"Asciidoctor"),j=[i].concat(s);(function(h,g,w){var C=W(h,g,"Logger"),F=[C].concat(w),N,x;return C.$$prototype.max_severity=ie,C.$attr_reader("max_severity"),e.def(C,"$initialize",N=function(L){var ae,Pe,Ie=N.$$p,ue=Ie||ie,S=this,d=ie,m=ie,p=ie,z=ie;for(Ie&&(N.$$p=null),p=0,z=arguments.length,m=new Array(z);p<z;p++)m[p]=arguments[p];return ae=e.slice.call(arguments,0,arguments.length),Pe=ae,oe(S,e.find_super_dispatcher(S,"initialize",N,!1),m,Ie),d=["asciidoctor"],oe(S,"progname=",e.to_a(d)),d[u(d.length,1)],d=[$e(F,"BasicFormatter").$new()],oe(S,"formatter=",e.to_a(d)),d[u(d.length,1)],d=[$e(F,"WARN")],oe(S,"level=",e.to_a(d)),d[u(d.length,1)]},N.$$arity=-1),e.def(C,"$add",x=function(L,ae,Pe){var Ie,ue=x.$$p,S=ue||ie,d=this,m=ie,p=ie,z=ie;for(ue&&(x.$$p=null),p=0,z=arguments.length,m=new Array(z);p<z;p++)m[p]=arguments[p];return ae==null&&(ae=ie),Pe==null&&(Pe=ie),b(O(L=b(Ie=L)?Ie:$e(F,"UNKNOWN"),d.max_severity=b(Ie=d.max_severity)?Ie:L))&&(d.max_severity=L),oe(d,e.find_super_dispatcher(d,"add",x,!1),m,ue)},x.$$arity=-2),function(f,L,ae){var Pe=W(f,L,"BasicFormatter"),Ie=[Pe].concat(ae),ue;return e.const_set(Ie[0],"SEVERITY_LABEL_SUBSTITUTES",_(["WARN","FATAL"],{WARN:"WARNING",FATAL:"FAILED"})),e.def(Pe,"$call",ue=function(d,m,p,z){var Z,re=this;return""+p+": "+(b(Z=$e(Ie,"SEVERITY_LABEL_SUBSTITUTES")["$[]"](d))?Z:d)+": "+function(){return b(A("::","String")["$==="](z))?z:z.$inspect()}()+$e(Ie,"LF")},ue.$$arity=4),ie&&"call"}(F[0],$e(F,"Formatter"),F),function(f,L){var ae=y(f,"AutoFormattingMessage"),Pe=[ae].concat(L),Ie;e.def(ae,"$inspect",Ie=function(){var S=this,d=ie;return b(d=S["$[]"]("source_location"))?""+d+": "+S["$[]"]("text"):S["$[]"]("text")},Ie.$$arity=0)}(F[0],F)})(j[0],A("::","Logger"),j),function(h,g,w){var C=W(h,g,"MemoryLogger"),F=[C].concat(w),N,x,f,L,ae,Pe;return C.$$prototype.messages=ie,e.const_set(F[0],"SEVERITY_SYMBOL_BY_VALUE",oe($e(F,"Severity").$constants(!1),"map",[],(N=function(Ie){var ue=N.$$s||this;return Ie==null&&(Ie=ie),[$e(F,"Severity").$const_get(Ie),Ie]},N.$$s=C,N.$$arity=1,N)).$to_h()),C.$attr_reader("messages"),e.def(C,"$initialize",x=function(){var ue=this,S=ie;return S=[$e(F,"WARN")],oe(ue,"level=",e.to_a(S)),S[u(S.length,1)],ue.messages=[]},x.$$arity=0),e.def(C,"$add",f=function(ue,S,d){var m,p=f.$$p,z=p||ie,Z=this;return p&&(f.$$p=null),S==null&&(S=ie),d==null&&(d=ie),S=b(m=S)?m:function(){return z!==ie?e.yieldX(z,[]):d}(),Z.messages["$<<"](_(["severity","message"],{severity:$e(F,"SEVERITY_SYMBOL_BY_VALUE")["$[]"](b(m=ue)?m:$e(F,"UNKNOWN")),message:S})),!0},f.$$arity=-2),e.def(C,"$clear",L=function(){var ue=this;return ue.messages.$clear()},L.$$arity=0),e.def(C,"$empty?",ae=function(){var Ie=this;return Ie.messages["$empty?"]()},ae.$$arity=0),e.def(C,"$max_severity",Pe=function(){var ue,S=this;return b(S["$empty?"]())?ie:oe(S.messages,"map",[],(ue=function(d){var m=ue.$$s||this;return d==null&&(d=ie),$e(F,"Severity").$const_get(d["$[]"]("severity"))},ue.$$s=S,ue.$$arity=1,ue)).$max()},Pe.$$arity=0),ie&&"max_severity"}(j[0],A("::","Logger"),j),function(h,g,w){var C=W(h,g,"NullLogger"),F=[C].concat(w),N,x;return C.$$prototype.max_severity=ie,C.$attr_reader("max_severity"),e.def(C,"$initialize",N=function(){var L=this,ae=ie;return ae=[$e(F,"WARN")],oe(L,"level=",e.to_a(ae)),ae[u(ae.length,1)]},N.$$arity=0),e.def(C,"$add",x=function(L,ae,Pe){var Ie,ue=this;return ae==null&&(ae=ie),Pe==null&&(Pe=ie),b(O(L=b(Ie=L)?Ie:$e(F,"UNKNOWN"),ue.max_severity=b(Ie=ue.max_severity)?Ie:L))&&(ue.max_severity=L),!0},x.$$arity=-2),ie&&"add"}(j[0],A("::","Logger"),j),function(h,g){var w=y(h,"LoggerManager"),C=[w].concat(g);w.logger_class=$e(C,"Logger"),function(F,N){var x=[F].concat(N),f,L,ae;return F.$attr_accessor("logger_class"),e.def(F,"$logger",f=function(Ie){var ue,S=this;return S.logger==null&&(S.logger=ie),S.logger_class==null&&(S.logger_class=ie),c.stderr==null&&(c.stderr=ie),Ie==null&&(Ie=c.stderr),S.$memoize_logger(),S.logger=b(ue=S.logger)?ue:S.logger_class.$new(Ie)},f.$$arity=-1),e.def(F,"$logger=",L=function(Pe){var Ie,ue=this;return ue.logger_class==null&&(ue.logger_class=ie),c.stderr==null&&(c.stderr=ie),ue.logger=b(Ie=Pe)?Ie:ue.logger_class.$new(c.stderr)},L.$$arity=1),F.$private(),e.def(F,"$memoize_logger",ae=function(){var Ie=this;return function(ue,S){var d=[ue].concat(S);return e.alias(ue,"logger","logger"),ue.$attr_reader("logger")}(e.get_singleton_class(Ie),x)},ae.$$arity=0),ie&&"memoize_logger"}(e.get_singleton_class(w),C)}(j[0],j),function(h,g){var w=y(h,"Logging"),C=[w].concat(g),F,N,x;e.defs(w,"$included",F=function(L){var ae=this;return L.$extend($e(C,"Logging"))},F.$$arity=1),w.$private_class_method("included"),e.def(w,"$logger",N=function(){var L=this;return $e(C,"LoggerManager").$logger()},N.$$arity=0),e.def(w,"$message_with_context",x=function(L,ae){var Pe=this;return ae==null&&(ae=_([],{})),_(["text"],{text:L}).$merge(ae).$extend(A($e(C,"Logger"),"AutoFormattingMessage"))},x.$$arity=-2)}(j[0],j)}(Xe[0],Xe)},Opal.modules["asciidoctor/rx"]=function(e){function u(_,c){return typeof _=="number"&&typeof c=="number"?_-c:_["$-"](c)}var O=e.top,xe=[],Xe=e.nil,ie=e.const_get_qualified,A=e.const_get_relative,$e=e.breaker,$=e.slice,n=e.module,y=e.hash2,W=e.send,oe=e.truthy,b=e.hash;return e.add_stubs(["$==","$join","$to_a","$new","$empty?","$escape","$[]=","$-"]),function(_,c){var t=n(_,"Asciidoctor"),s=[t].concat(c),i,j;(function(h,g){var w=n(h,"Rx"),C=[w].concat(g)})(s[0],s),e.const_set(s[0],"AuthorInfoLineRx",new RegExp("^("+A(s,"CG_WORD")+"["+A(s,"CC_WORD")+"\\-'.]*)(?: +("+A(s,"CG_WORD")+"["+A(s,"CC_WORD")+"\\-'.]*))?(?: +("+A(s,"CG_WORD")+"["+A(s,"CC_WORD")+"\\-'.]*))?(?: +<([^>]+)>)?$")),e.const_set(s[0],"AuthorDelimiterRx",/;(?: |$)/),e.const_set(s[0],"RevisionInfoLineRx",new RegExp("^(?:[^\\d{]*("+A(s,"CC_ANY")+"*?),)? *(?!:)("+A(s,"CC_ANY")+"*?)(?: *(?!^),?: *("+A(s,"CC_ANY")+"*))?$")),e.const_set(s[0],"ManpageTitleVolnumRx",new RegExp("^("+A(s,"CC_ANY")+"+?) *\\( *("+A(s,"CC_ANY")+"+?) *\\)$")),e.const_set(s[0],"ManpageNamePurposeRx",new RegExp("^("+A(s,"CC_ANY")+"+?) +- +("+A(s,"CC_ANY")+"+)$")),e.const_set(s[0],"ConditionalDirectiveRx",new RegExp("^(\\\\)?(ifdef|ifndef|ifeval|endif)::(\\S*?(?:([,+])\\S*?)?)\\[("+A(s,"CC_ANY")+"+)?\\]$")),e.const_set(s[0],"EvalExpressionRx",new RegExp("^("+A(s,"CC_ANY")+"+?) *([=!><]=|[><]) *("+A(s,"CC_ANY")+"+)$")),e.const_set(s[0],"IncludeDirectiveRx",new RegExp("^(\\\\)?include::([^\\[][^\\[]*)\\[("+A(s,"CC_ANY")+"+)?\\]$")),e.const_set(s[0],"TagDirectiveRx",/\b(?:tag|(e)nd)::(\S+?)\[\](?=$|[ \r])/m),e.const_set(s[0],"AttributeEntryRx",new RegExp("^:(!?"+A(s,"CG_WORD")+"[^:]*):(?:[ \\t]+("+A(s,"CC_ANY")+"*))?$")),e.const_set(s[0],"InvalidAttributeNameCharsRx",new RegExp("[^"+A(s,"CC_WORD")+"-]")),A(s,"RUBY_ENGINE")["$=="]("opal")&&e.const_set(s[0],"AttributeEntryPassMacroRx",new RegExp("^pass:([a-z]+(?:,[a-z-]+)*)?\\[("+A(s,"CC_ALL")+"*)\\]$")),e.const_set(s[0],"AttributeReferenceRx",new RegExp("(\\\\)?\\{("+A(s,"CG_WORD")+"["+A(s,"CC_WORD")+"-]*|(set|counter2?):"+A(s,"CC_ANY")+"+?)(\\\\)?\\}")),e.const_set(s[0],"BlockAnchorRx",new RegExp("^\\[\\[(?:|(["+A(s,"CC_ALPHA")+"_:]["+A(s,"CC_WORD")+"\\-:.]*)(?:, *("+A(s,"CC_ANY")+"+))?)\\]\\]$")),e.const_set(s[0],"BlockAttributeListRx",new RegExp("^\\[(|["+A(s,"CC_WORD")+`.#%{,"']`+A(s,"CC_ANY")+"*)\\]$")),e.const_set(s[0],"BlockAttributeLineRx",new RegExp("^\\[(?:|["+A(s,"CC_WORD")+`.#%{,"']`+A(s,"CC_ANY")+"*|\\[(?:|["+A(s,"CC_ALPHA")+"_:]["+A(s,"CC_WORD")+"\\-:.]*(?:, *"+A(s,"CC_ANY")+"+)?)\\])\\]$")),e.const_set(s[0],"BlockTitleRx",new RegExp("^\\.(\\.?[^ \\t.]"+A(s,"CC_ANY")+"*)$")),e.const_set(s[0],"AdmonitionParagraphRx",new RegExp("^("+A(s,"ADMONITION_STYLES").$to_a().$join("|")+"):[ \\t]+")),e.const_set(s[0],"LiteralParagraphRx",new RegExp("^([ \\t]+"+A(s,"CC_ANY")+"*)$")),e.const_set(s[0],"AtxSectionTitleRx",new RegExp("^(=={0,5})[ \\t]+("+A(s,"CC_ANY")+"+?)(?:[ \\t]+\\1)?$")),e.const_set(s[0],"ExtAtxSectionTitleRx",new RegExp("^(=={0,5}|#\\#{0,5})[ \\t]+("+A(s,"CC_ANY")+"+?)(?:[ \\t]+\\1)?$")),e.const_set(s[0],"SetextSectionTitleRx",new RegExp("^((?!\\.)"+A(s,"CC_ANY")+"*?"+A(s,"CG_ALNUM")+A(s,"CC_ANY")+"*)$")),e.const_set(s[0],"InlineSectionAnchorRx",new RegExp(" (\\\\)?\\[\\[(["+A(s,"CC_ALPHA")+"_:]["+A(s,"CC_WORD")+"\\-:.]*)(?:, *("+A(s,"CC_ANY")+"+))?\\]\\]$")),e.const_set(s[0],"InvalidSectionIdCharsRx",new RegExp("<[^>]+>|&(?:[a-z][a-z]+\\d{0,2}|#\\d\\d\\d{0,4}|#x[\\da-f][\\da-f][\\da-f]{0,3});|[^ "+A(s,"CC_WORD")+"\\-.]+?")),e.const_set(s[0],"SectionLevelStyleRx",/^sect\d$/),e.const_set(s[0],"AnyListRx",new RegExp("^(?:[ \\t]*(?:-|\\*\\**|\\.\\.*|\\u2022|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))[ \\t]|(?!//[^/])[ \\t]*[^ \\t]"+A(s,"CC_ANY")+"*?(?::::{0,2}|;;)(?:$|[ \\t])|<(?:\\d+|\\.)>[ \\t])")),e.const_set(s[0],"UnorderedListRx",new RegExp("^[ \\t]*(-|\\*\\**|\\u2022)[ \\t]+("+A(s,"CC_ANY")+"*)$")),e.const_set(s[0],"OrderedListRx",new RegExp("^[ \\t]*(\\.\\.*|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))[ \\t]+("+A(s,"CC_ANY")+"*)$")),e.const_set(s[0],"OrderedListMarkerRxMap",y(["arabic","loweralpha","lowerroman","upperalpha","upperroman"],{arabic:/\d+\./,loweralpha:/[a-z]\./,lowerroman:/[ivx]+\)/,upperalpha:/[A-Z]\./,upperroman:/[IVX]+\)/})),e.const_set(s[0],"DescriptionListRx",new RegExp("^(?!//[^/])[ \\t]*([^ \\t]"+A(s,"CC_ANY")+"*?)(:::{0,2}|;;)(?:$|[ \\t]+("+A(s,"CC_ANY")+"*)$)")),e.const_set(s[0],"DescriptionListSiblingRx",y(["::",":::","::::",";;"],{"::":new RegExp("^(?!//[^/])[ \\t]*([^ \\t]"+A(s,"CC_ANY")+"*?[^:]|[^ \\t:])(::)(?:$|[ \\t]+("+A(s,"CC_ANY")+"*)$)"),":::":new RegExp("^(?!//[^/])[ \\t]*([^ \\t]"+A(s,"CC_ANY")+"*?[^:]|[^ \\t:])(:::)(?:$|[ \\t]+("+A(s,"CC_ANY")+"*)$)"),"::::":new RegExp("^(?!//[^/])[ \\t]*([^ \\t]"+A(s,"CC_ANY")+"*?[^:]|[^ \\t:])(::::)(?:$|[ \\t]+("+A(s,"CC_ANY")+"*)$)"),";;":new RegExp("^(?!//[^/])[ \\t]*([^ \\t]"+A(s,"CC_ANY")+"*?)(;;)(?:$|[ \\t]+("+A(s,"CC_ANY")+"*)$)")})),e.const_set(s[0],"CalloutListRx",new RegExp("^<(\\d+|\\.)>[ \\t]+("+A(s,"CC_ANY")+"*)$")),e.const_set(s[0],"CalloutExtractRx",/((?:\/\/|#|--|;;) ?)?(\\)?<!?(|--)(\d+|\.)\3>(?=(?: ?\\?<!?\3(?:\d+|\.)\3>)*$)/),e.const_set(s[0],"CalloutExtractRxt","(\\\\)?<()(\\d+|\\.)>(?=(?: ?\\\\?<(?:\\d+|\\.)>)*$)"),e.const_set(s[0],"CalloutExtractRxMap",W(ie("::","Hash"),"new",[],(i=function(h,g){var w=i.$$s||this,C=Xe;return h==null&&(h=Xe),g==null&&(g=Xe),C=[g,new RegExp("("+function(){return oe(g["$empty?"]())?"":""+ie("::","Regexp").$escape(g)+" ?"}()+")?"+A(s,"CalloutExtractRxt"))],W(h,"[]=",e.to_a(C)),C[u(C.length,1)]},i.$$s=t,i.$$arity=2,i))),e.const_set(s[0],"CalloutScanRx",new RegExp("\\\\?<!?(|--)(\\d+|\\.)\\1>(?=(?: ?\\\\?<!?\\1(?:\\d+|\\.)\\1>)*"+A(s,"CC_EOL")+")")),e.const_set(s[0],"CalloutSourceRx",new RegExp("((?://|#|--|;;) ?)?(\\\\)?&lt;!?(|--)(\\d+|\\.)\\3&gt;(?=(?: ?\\\\?&lt;!?\\3(?:\\d+|\\.)\\3&gt;)*"+A(s,"CC_EOL")+")")),e.const_set(s[0],"CalloutSourceRxt","(\\\\)?&lt;()(\\d+|\\.)&gt;(?=(?: ?\\\\?&lt;(?:\\d+|\\.)&gt;)*"+A(s,"CC_EOL")+")"),e.const_set(s[0],"CalloutSourceRxMap",W(ie("::","Hash"),"new",[],(j=function(h,g){var w=j.$$s||this,C=Xe;return h==null&&(h=Xe),g==null&&(g=Xe),C=[g,new RegExp("("+function(){return oe(g["$empty?"]())?"":""+ie("::","Regexp").$escape(g)+" ?"}()+")?"+A(s,"CalloutSourceRxt"))],W(h,"[]=",e.to_a(C)),C[u(C.length,1)]},j.$$s=t,j.$$arity=2,j))),e.const_set(s[0],"ListRxMap",y(["ulist","olist","dlist","colist"],{ulist:A(s,"UnorderedListRx"),olist:A(s,"OrderedListRx"),dlist:A(s,"DescriptionListRx"),colist:A(s,"CalloutListRx")})),e.const_set(s[0],"ColumnSpecRx",/^(?:(\d+)\*)?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?(\d+%?|~)?([a-z])?$/),e.const_set(s[0],"CellSpecStartRx",/^[ \t]*(?:(\d+(?:\.\d*)?|(?:\d*\.)?\d+)([*+]))?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?([a-z])?$/),e.const_set(s[0],"CellSpecEndRx",/[ \t]+(?:(\d+(?:\.\d*)?|(?:\d*\.)?\d+)([*+]))?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?([a-z])?$/),e.const_set(s[0],"CustomBlockMacroRx",new RegExp("^("+A(s,"CG_WORD")+"["+A(s,"CC_WORD")+"-]*)::(|\\S|\\S"+A(s,"CC_ANY")+"*?\\S)\\[("+A(s,"CC_ANY")+"+)?\\]$")),e.const_set(s[0],"BlockMediaMacroRx",new RegExp("^(image|video|audio)::(\\S|\\S"+A(s,"CC_ANY")+"*?\\S)\\[("+A(s,"CC_ANY")+"+)?\\]$")),e.const_set(s[0],"BlockTocMacroRx",new RegExp("^toc::\\[("+A(s,"CC_ANY")+"+)?\\]$")),e.const_set(s[0],"InlineAnchorRx",new RegExp("(\\\\)?(?:\\[\\[(["+A(s,"CC_ALPHA")+"_:]["+A(s,"CC_WORD")+"\\-:.]*)(?:, *("+A(s,"CC_ANY")+"+?))?\\]\\]|anchor:(["+A(s,"CC_ALPHA")+"_:]["+A(s,"CC_WORD")+"\\-:.]*)\\[(?:\\]|("+A(s,"CC_ANY")+"*?[^\\\\])\\]))")),e.const_set(s[0],"InlineAnchorScanRx",new RegExp("(?:^|[^\\\\\\[])\\[\\[(["+A(s,"CC_ALPHA")+"_:]["+A(s,"CC_WORD")+"\\-:.]*)(?:, *("+A(s,"CC_ANY")+"+?))?\\]\\]|(?:^|[^\\\\])anchor:(["+A(s,"CC_ALPHA")+"_:]["+A(s,"CC_WORD")+"\\-:.]*)\\[(?:\\]|("+A(s,"CC_ANY")+"*?[^\\\\])\\])")),e.const_set(s[0],"LeadingInlineAnchorRx",new RegExp("^\\[\\[(["+A(s,"CC_ALPHA")+"_:]["+A(s,"CC_WORD")+"\\-:.]*)(?:, *("+A(s,"CC_ANY")+"+?))?\\]\\]")),e.const_set(s[0],"InlineBiblioAnchorRx",new RegExp("^\\[\\[\\[(["+A(s,"CC_ALPHA")+"_:]["+A(s,"CC_WORD")+"\\-:.]*)(?:, *("+A(s,"CC_ANY")+"+?))?\\]\\]\\]")),e.const_set(s[0],"InlineEmailRx",new RegExp("([\\\\>:/])?"+A(s,"CG_WORD")+"(?:&amp;|["+A(s,"CC_WORD")+"\\-.%+])*@"+A(s,"CG_ALNUM")+"["+A(s,"CC_ALNUM")+"_\\-.]*\\.[a-zA-Z]{2,5}\\b")),e.const_set(s[0],"InlineFootnoteMacroRx",new RegExp("\\\\?footnote(?:(ref):|:(["+A(s,"CC_WORD")+"-]+)?)\\[(?:|("+A(s,"CC_ALL")+"*?[^\\\\]))\\](?!</a>)","m")),e.const_set(s[0],"InlineImageMacroRx",new RegExp("\\\\?i(?:mage|con):([^:\\s\\[](?:[^\\n\\[]*[^\\s\\[])?)\\[(|"+A(s,"CC_ALL")+"*?[^\\\\])\\]","m")),e.const_set(s[0],"InlineIndextermMacroRx",new RegExp("\\\\?(?:(indexterm2?):\\[("+A(s,"CC_ALL")+"*?[^\\\\])\\]|\\(\\(("+A(s,"CC_ALL")+"+?)\\)\\)(?!\\)))","m")),e.const_set(s[0],"InlineKbdBtnMacroRx",new RegExp("(\\\\)?(kbd|btn):\\[("+A(s,"CC_ALL")+"*?[^\\\\])\\]","m")),e.const_set(s[0],"InlineLinkRx",new RegExp("(^|link:|"+A(s,"CG_BLANK")+`|&lt;|[>\\(\\)\\[\\];"'])(\\\\?(?:https?|file|ftp|irc)://[^\\s\\[\\]<]*([^\\s.,\\[\\]<]))(?:\\[(|`+A(s,"CC_ALL")+"*?[^\\\\])\\])?","m")),e.const_set(s[0],"InlineLinkMacroRx",new RegExp("\\\\?(?:link|(mailto)):(|[^:\\s\\[][^\\s\\[]*)\\[(|"+A(s,"CC_ALL")+"*?[^\\\\])\\]","m")),e.const_set(s[0],"MacroNameRx",new RegExp("^"+A(s,"CG_WORD")+"["+A(s,"CC_WORD")+"-]*$")),e.const_set(s[0],"InlineStemMacroRx",new RegExp("\\\\?(stem|(?:latex|ascii)math):([a-z]+(?:,[a-z-]+)*)?\\[("+A(s,"CC_ALL")+"*?[^\\\\])\\]","m")),e.const_set(s[0],"InlineMenuMacroRx",new RegExp("\\\\?menu:("+A(s,"CG_WORD")+"|["+A(s,"CC_WORD")+"&][^\\n\\[]*[^\\s\\[])\\[ *(?:|("+A(s,"CC_ALL")+"*?[^\\\\]))\\]","m")),e.const_set(s[0],"InlineMenuRx",new RegExp('\\\\?"(['+A(s,"CC_WORD")+'&][^"]*?[ \\n]+&gt;[ \\n]+[^"]*)"')),e.const_set(s[0],"InlinePassRx",b(!1,["+","`",new RegExp("(^|[^"+A(s,"CC_WORD")+";:])(?:\\[([^\\]]+)\\])?(\\\\?(\\+|`)(\\S|\\S"+A(s,"CC_ALL")+"*?\\S)\\4)(?!"+A(s,"CG_WORD")+")","m")],!0,["`",Xe,new RegExp("(^|[^`"+A(s,"CC_WORD")+"])(?:\\[([^\\]]+)\\])?(\\\\?(`)([^`\\s]|[^`\\s]"+A(s,"CC_ALL")+"*?\\S)\\4)(?![`"+A(s,"CC_WORD")+"])","m")])),e.const_set(s[0],"SinglePlusInlinePassRx",new RegExp("^(\\\\)?\\+(\\S|\\S"+A(s,"CC_ALL")+"*?\\S)\\+$","m")),e.const_set(s[0],"InlinePassMacroRx",new RegExp("(?:(?:(\\\\?)\\[([^\\]]+)\\])?(\\\\{0,2})(\\+\\+\\+?|\\$\\$)("+A(s,"CC_ALL")+"*?)\\4|(\\\\?)pass:([a-z]+(?:,[a-z-]+)*)?\\[(|"+A(s,"CC_ALL")+"*?[^\\\\])\\])","m")),e.const_set(s[0],"InlineXrefMacroRx",new RegExp("\\\\?(?:&lt;&lt;(["+A(s,"CC_WORD")+"#/.:{]"+A(s,"CC_ALL")+"*?)&gt;&gt;|xref:(["+A(s,"CC_WORD")+"#/.:{]"+A(s,"CC_ALL")+"*?)\\[(?:\\]|("+A(s,"CC_ALL")+"*?[^\\\\])\\]))","m")),A(s,"RUBY_ENGINE")["$=="]("opal")&&e.const_set(s[0],"HardLineBreakRx",new RegExp("^("+A(s,"CC_ANY")+"*) \\+$","m")),e.const_set(s[0],"MarkdownThematicBreakRx",/^ {0,3}([-*_])( *)\1\2\1$/),e.const_set(s[0],"ExtLayoutBreakRx",/^(?:'{3,}|<{3,}|([-*_])( *)\1\2\1)$/),e.const_set(s[0],"BlankLineRx",/\n{2,}/),e.const_set(s[0],"EscapedSpaceRx",/\\([ \t\n])/),e.const_set(s[0],"ReplaceableTextRx",/[&']|--|\.\.\.|\([CRT]M?\)/),e.const_set(s[0],"SpaceDelimiterRx",/([^\\])[ \t\n]+/),e.const_set(s[0],"SubModifierSniffRx",/[+-]/),e.const_set(s[0],"TrailingDigitsRx",/\d+$/),e.const_set(s[0],"UriSniffRx",new RegExp("^"+A(s,"CG_ALPHA")+"["+A(s,"CC_ALNUM")+".+-]+:/{0,2}")),e.const_set(s[0],"XmlSanitizeRx",/<[^>]+>/)}(xe[0],xe)},Opal.modules["asciidoctor/substitutors"]=function(e){function u(j,h){return typeof j=="number"&&typeof h=="number"?j+h:j["$+"](h)}function O(j,h){return typeof j=="number"&&typeof h=="number"?j-h:j["$-"](h)}function xe(j,h){return typeof j=="number"&&typeof h=="number"?j>h:j["$>"](h)}function Xe(j,h){return typeof j=="number"&&typeof h=="number"?j<h:j["$<"](h)}function ie(j,h){return typeof j=="number"&&typeof h=="number"?j*h:j["$*"](h)}var A=e.top,$e=[],$=e.nil,n=e.const_get_qualified,y=e.const_get_relative,W=e.breaker,oe=e.slice,b=e.module,_=e.hash2,c=e.hash,t=e.truthy,s=e.send,i=e.gvars;return e.add_stubs(["$freeze","$+","$keys","$empty?","$!","$===","$[]","$join","$include?","$extract_passthroughs","$each","$sub_specialchars","$sub_quotes","$sub_attributes","$sub_replacements","$sub_macros","$highlight_source","$sub_callouts","$sub_post_replacements","$warn","$logger","$restore_passthroughs","$clear","$split","$apply_subs","$==","$gsub","$match?","$compat_mode","$convert_quoted_text","$attributes","$shift","$store_attribute","$!=","$attribute_undefined","$counter","$key?","$downcase","$attribute_missing","$info","$squeeze","$delete","$reject","$start_with?","$do_replacement","$extensions","$inline_macros?","$inline_macros","$regexp","$instance","$slice","$length","$names","$config","$merge","$[]=","$-","$normalize_text","$parse_attributes","$process_method","$expand_subs","$text","$text=","$convert","$class","$strip","$>","$index","$min","$compact","$end_with?","$map","$chop","$new","$pop","$rstrip","$register","$tr","$basename","$parse","$lstrip","$split_simple_csv","$partition","$extract_attributes_from_text","$sub","$encode_uri_component","$style","$extname?","$rindex","$info?","$catalog","$fetch","$outfilesuffix","$natural_xrefs","$resolve_id","$find","$footnotes","$id","$<","$size","$<<","$attr?","$attr","$to_s","$read_next_id","$callouts","$syntax_highlighter","$highlight?","$sub_source","$extract_callouts","$name","$to_sym","$to_i","$resolve_lines_to_highlight","$highlight","$nil_or_empty?","$restore_callouts","$count","$to_a","$|","$sort","$*","$parse_quoted_text_attributes","$resolve_pass_subs","$extract_inner_passthrough","$basebackend?","$error","$chr","$drop","$&","$resolve_subs","$resolve_block_subs","$parse_into","$private","$=~","$shorthand_property_syntax","$each_char"]),function(j,h){var g=b(j,"Asciidoctor"),w=[g].concat(h);(function(C,F){var N=b(C,"Substitutors"),x=[N].concat(F),f,L,ae,Pe,Ie,ue,S,d,m,p,z,Z,re,ye,q,ee,V,_e,Me,Te,et,ct,it,Ne,Se,We,tt,Qe,nt,yt,lt;e.const_set(x[0],"SpecialCharsRx",/[<&>]/),e.const_set(x[0],"SpecialCharsTr",_([">","<","&"],{">":"&gt;","<":"&lt;","&":"&amp;"})),e.const_set(x[0],"QuotedTextSniffRx",c(!1,/[*_`#^~]/,!0,/[*'_+#^~]/)),e.const_set(x[0],"BASIC_SUBS",["specialcharacters"]).$freeze(),e.const_set(x[0],"HEADER_SUBS",["specialcharacters","attributes"]).$freeze(),e.const_set(x[0],"NO_SUBS",[]).$freeze(),e.const_set(x[0],"NORMAL_SUBS",["specialcharacters","quotes","attributes","replacements","macros","post_replacements"]).$freeze(),e.const_set(x[0],"REFTEXT_SUBS",["specialcharacters","quotes","replacements"]).$freeze(),e.const_set(x[0],"VERBATIM_SUBS",["specialcharacters","callouts"]).$freeze(),e.const_set(x[0],"SUB_GROUPS",_(["none","normal","verbatim","specialchars"],{none:y(x,"NO_SUBS"),normal:y(x,"NORMAL_SUBS"),verbatim:y(x,"VERBATIM_SUBS"),specialchars:y(x,"BASIC_SUBS")})),e.const_set(x[0],"SUB_HINTS",_(["a","m","n","p","q","r","c","v"],{a:"attributes",m:"macros",n:"normal",p:"post_replacements",q:"quotes",r:"replacements",c:"specialcharacters",v:"verbatim"})),e.const_set(x[0],"SUB_OPTIONS",_(["block","inline"],{block:u(u(y(x,"SUB_GROUPS").$keys(),y(x,"NORMAL_SUBS")),["callouts"]),inline:u(y(x,"SUB_GROUPS").$keys(),y(x,"NORMAL_SUBS"))})),e.const_set(x[0],"CAN",""),e.const_set(x[0],"DEL","\x7F"),e.const_set(x[0],"PASS_START","\x96"),e.const_set(x[0],"PASS_END","\x97"),e.const_set(x[0],"PassSlotRx",new RegExp(""+y(x,"PASS_START")+"(\\d+)"+y(x,"PASS_END"))),e.const_set(x[0],"HighlightedPassSlotRx",new RegExp("<span\\b[^>]*>"+y(x,"PASS_START")+"</span>[^\\d]*(\\d+)[^\\d]*<span\\b[^>]*>"+y(x,"PASS_END")+"</span>")),e.const_set(x[0],"RS","\\"),e.const_set(x[0],"R_SB","]"),e.const_set(x[0],"ESC_R_SB","\\]"),e.const_set(x[0],"PLUS","+"),e.def(N,"$apply_subs",f=function(l,v){var I,U,P=this,de=$,be=$,je=$;return P.passthroughs==null&&(P.passthroughs=$),P.passthroughs_locked==null&&(P.passthroughs_locked=$),v==null&&(v=y(x,"NORMAL_SUBS")),t(t(I=l["$empty?"]())?I:v["$!"]())?l:(t(de=n("::","Array")["$==="](l))&&(l=function(){return t(l["$[]"](1))?l.$join(y(x,"LF")):l["$[]"](0)}()),t(v["$include?"]("macros"))&&(l=P.$extract_passthroughs(l),t(P.passthroughs["$empty?"]())||(be=P.passthroughs,P.passthroughs_locked=t(I=P.passthroughs_locked)?I:je=!0)),s(v,"each",[],(U=function(Be){var Ke=U.$$s||this,we=$;return Be==null&&(Be=$),function(){return we=Be,"specialcharacters"["$==="](we)?l=Ke.$sub_specialchars(l):"quotes"["$==="](we)?l=Ke.$sub_quotes(l):"attributes"["$==="](we)?t(l["$include?"](y(x,"ATTR_REF_HEAD")))?l=Ke.$sub_attributes(l):$:"replacements"["$==="](we)?l=Ke.$sub_replacements(l):"macros"["$==="](we)?l=Ke.$sub_macros(l):"highlight"["$==="](we)?l=Ke.$highlight_source(l,v["$include?"]("callouts")):"callouts"["$==="](we)?t(v["$include?"]("highlight"))?$:l=Ke.$sub_callouts(l):"post_replacements"["$==="](we)?l=Ke.$sub_post_replacements(l):Ke.$logger().$warn("unknown substitution type "+Be)}()},U.$$s=P,U.$$arity=1,U)),t(be)&&(l=P.$restore_passthroughs(l),t(je)&&(be.$clear(),P.passthroughs_locked=$)),t(de)?l.$split(y(x,"LF"),-1):l)},f.$$arity=-2),e.def(N,"$apply_normal_subs",L=function(l){var v=this;return v.$apply_subs(l,y(x,"NORMAL_SUBS"))},L.$$arity=1),e.def(N,"$apply_header_subs",ae=function(l){var v=this;return v.$apply_subs(l,y(x,"HEADER_SUBS"))},ae.$$arity=1),e.alias(N,"apply_title_subs","apply_subs"),e.def(N,"$apply_reftext_subs",Pe=function(l){var v=this;return v.$apply_subs(l,y(x,"REFTEXT_SUBS"))},Pe.$$arity=1),y(x,"RUBY_ENGINE")["$=="]("opal")&&e.def(N,"$sub_specialchars",Ie=function(l){var v,I,U=this;return t(t(v=t(I=l["$include?"](">"))?I:l["$include?"]("&"))?v:l["$include?"]("<"))?l.$gsub(y(x,"SpecialCharsRx"),y(x,"SpecialCharsTr")):l},Ie.$$arity=1),e.alias(N,"sub_specialcharacters","sub_specialchars"),e.def(N,"$sub_quotes",ue=function(l){var v,I=this,U=$;return I.document==null&&(I.document=$),t(y(x,"QuotedTextSniffRx")["$[]"](U=I.document.$compat_mode())["$match?"](l))&&s(y(x,"QUOTE_SUBS")["$[]"](U),"each",[],(v=function(P,de,be){var je=v.$$s||this,Be;return P==null&&(P=$),de==null&&(de=$),be==null&&(be=$),l=s(l,"gsub",[be],(Be=function(){var Ke=Be.$$s||this;return i["~"]==null&&(i["~"]=$),Ke.$convert_quoted_text(i["~"],P,de)},Be.$$s=je,Be.$$arity=0,Be))},v.$$s=I,v.$$arity=3,v)),l},ue.$$arity=1),e.def(N,"$sub_attributes",S=function(l,v){var I,U,P,de,be=this,je=$,Be=$,Ke=$,we=$,ot=$,at=$,vt=$,Dt=$;return be.document==null&&(be.document=$),v==null&&(v=_([],{})),je=be.document.$attributes(),Be=Ke=we=ot=at=vt=$,l=s(l,"gsub",[y(x,"AttributeReferenceRx")],(I=function(){var bt=I.$$s||this,ce,Ee,fe,o,H=$,Y=$,Q=$,ne=$,k=$;return bt.document==null&&(bt.document=$),t(t(ce=((Ee=i["~"])===$?$:Ee["$[]"](1))["$=="](y(x,"RS")))?ce:((Ee=i["~"])===$?$:Ee["$[]"](4))["$=="](y(x,"RS")))?"{"+((ce=i["~"])===$?$:ce["$[]"](2))+"}":t((ce=i["~"])===$?$:ce["$[]"](3))?function(){return H=(Y=((ce=i["~"])===$?$:ce["$[]"](2)).$split(":",3)).$shift(),"set"["$==="](H)?(Ee=y(x,"Parser").$store_attribute(Y["$[]"](0),t(fe=Y["$[]"](1))?fe:"",bt.document),ce=e.to_ary(Ee),Q=ce[0]==null?$:ce[0],ne=ce[1]==null?$:ce[1],t(t(ce=ne)?ce:(at=t(Ee=at)?Ee:t(fe=je["$[]"]("attribute-undefined"))?fe:y(x,"Compliance").$attribute_undefined())["$!="]("drop-line"))?Be=ot=y(x,"DEL"):Be=Ke=y(x,"CAN")):"counter2"["$==="](H)?(s(bt.document,"counter",e.to_a(Y)),Be=ot=y(x,"DEL")):s(bt.document,"counter",e.to_a(Y))}():t(je["$key?"](k=((ce=i["~"])===$?$:ce["$[]"](2)).$downcase()))?je["$[]"](k):t(ne=y(x,"INTRINSIC_ATTRIBUTES")["$[]"](k))?ne:function(){return H=vt=t(ce=vt)?ce:t(Ee=t(fe=v["$[]"]("attribute_missing"))?fe:je["$[]"]("attribute-missing"))?Ee:y(x,"Compliance").$attribute_missing(),"drop"["$==="](H)?Be=ot=y(x,"DEL"):"drop-line"["$==="](H)?((we=t(ce=we)?ce:t(Ee=v["$[]"]("drop_line_severity"))?Ee:"info")["$=="]("info")&&s(bt.$logger(),"info",[],(o=function(){var a=o.$$s||this;return"dropping line containing reference to missing attribute: "+k},o.$$s=bt,o.$$arity=0,o)),Be=Ke=y(x,"CAN")):("warn"["$==="](H)&&bt.$logger().$warn("skipping reference to missing attribute: "+k),(ce=i["~"])===$?$:ce["$[]"](0))}()},I.$$s=be,I.$$arity=0,I)),t(Be)?t(ot)?(Dt=l.$squeeze(y(x,"DEL")).$split(y(x,"LF"),-1),t(Ke)?s(Dt,"reject",[],(U=function(bt){var ce=U.$$s||this,Ee,fe,o;return bt==null&&(bt=$),t(Ee=t(fe=t(o=bt["$=="](y(x,"DEL")))?o:bt["$=="](y(x,"CAN")))?fe:bt["$start_with?"](y(x,"CAN")))?Ee:bt["$include?"](y(x,"CAN"))},U.$$s=be,U.$$arity=1,U)).$join(y(x,"LF")).$delete(y(x,"DEL")):s(Dt,"reject",[],(P=function(bt){var ce=P.$$s||this;return bt==null&&(bt=$),bt["$=="](y(x,"DEL"))},P.$$s=be,P.$$arity=1,P)).$join(y(x,"LF")).$delete(y(x,"DEL"))):t(l["$include?"](y(x,"LF")))?s(l.$split(y(x,"LF"),-1),"reject",[],(de=function(bt){var ce=de.$$s||this,Ee,fe;return bt==null&&(bt=$),t(Ee=t(fe=bt["$=="](y(x,"CAN")))?fe:bt["$start_with?"](y(x,"CAN")))?Ee:bt["$include?"](y(x,"CAN"))},de.$$s=be,de.$$arity=1,de)).$join(y(x,"LF")):"":l},S.$$arity=-2),e.def(N,"$sub_replacements",d=function(l){var v,I=this;return t(y(x,"ReplaceableTextRx")["$match?"](l))&&s(y(x,"REPLACEMENTS"),"each",[],(v=function(U,P,de){var be=v.$$s||this,je;return U==null&&(U=$),P==null&&(P=$),de==null&&(de=$),l=s(l,"gsub",[U],(je=function(){var Be=je.$$s||this;return i["~"]==null&&(i["~"]=$),Be.$do_replacement(i["~"],P,de)},je.$$s=be,je.$$arity=0,je))},v.$$s=I,v.$$arity=3,v)),l},d.$$arity=1),e.def(N,"$sub_macros",m=function(l){var v,I,U,P,de,be,je,Be,Ke,we,ot,at,vt,Dt,bt,ce=this,Ee=$,fe=$,o=$,H=$,Y=$,Q=$,ne=$;return ce.document==null&&(ce.document=$),ce.context==null&&(ce.context=$),ce.parent==null&&(ce.parent=$),Ee=l["$include?"]("["),fe=l["$include?"](":"),o=t(v=Ee)?fe:v,H=t(v=o)?l["$include?"](":["):v,Y=(Q=ce.document).$attributes(),t(t(v=ne=Q.$extensions())?ne["$inline_macros?"]():v)&&s(ne.$inline_macros(),"each",[],(I=function(k){var a=I.$$s||this,E;return k==null&&(k=$),l=s(l,"gsub",[k.$instance().$regexp()],(E=function(){var T=E.$$s||this,M,te,X,Ae=$,me=$,mt=$,dt=$,He=$,kt=$,$t=$,Tt=$,rt=$;return i["~"]==null&&(i["~"]=$),t((Ae=(M=i["~"])===$?$:M["$[]"](0))["$start_with?"](y(x,"RS")))?((M=i["~"])===$?$:M["$[]"](0)).$slice(1,((M=i["~"])===$?$:M["$[]"](0)).$length()):(t(i["~"].$names()["$empty?"]())?(M=[(te=i["~"])===$?$:te["$[]"](1),(te=i["~"])===$?$:te["$[]"](2)],me=M[0],mt=M[1]):(M=[function(){try{return i["~"]["$[]"]("target")}catch(Lt){if(e.rescue(Lt,[y(x,"StandardError")]))try{return $}finally{e.pop_exception()}else throw Lt}}(),function(){try{return i["~"]["$[]"]("content")}catch(Lt){if(e.rescue(Lt,[y(x,"StandardError")]))try{return $}finally{e.pop_exception()}else throw Lt}}()],me=M[0],mt=M[1]),dt=function(){return t(He=(kt=k.$config())["$[]"]("default_attrs"))?He.$merge():_([],{})}(),t(mt)&&(t(mt["$empty?"]())?kt["$[]"]("content_model")["$=="]("attributes")||($t=["text",mt],s(dt,"[]=",e.to_a($t)),$t[O($t.length,1)]):(mt=T.$normalize_text(mt,!0,!0),kt["$[]"]("content_model")["$=="]("attributes")?T.$parse_attributes(mt,t(M=t(te=kt["$[]"]("positional_attrs"))?te:kt["$[]"]("pos_attrs"))?M:[],_(["into"],{into:dt})):($t=["text",mt],s(dt,"[]=",e.to_a($t)),$t[O($t.length,1)])),me=t(M=me)?M:function(){return kt["$[]"]("format")["$=="]("short")?mt:me}()),t(y(x,"Inline")["$==="](Tt=k.$process_method()["$[]"](T,me,dt)))?(t(t(M=rt=Tt.$attributes().$delete("subs"))?rt=T.$expand_subs(rt,"custom inline macro"):M)&&($t=[T.$apply_subs(Tt.$text(),rt)],s(Tt,"text=",e.to_a($t)),$t[O($t.length,1)]),Tt.$convert()):t(Tt)?(s(T.$logger(),"info",[],(X=function(){var Lt=X.$$s||this;return"expected substitution value for custom inline macro to be of type Inline; got "+Tt.$class()+": "+Ae},X.$$s=T,X.$$arity=0,X)),Tt):"")},E.$$s=a,E.$$arity=0,E))},I.$$s=ce,I.$$arity=1,I)),t(Y["$key?"]("experimental"))&&(t(t(v=H)?t(U=l["$include?"]("kbd:"))?U:l["$include?"]("btn:"):v)&&(l=s(l,"gsub",[y(x,"InlineKbdBtnMacroRx")],(P=function(){var k=P.$$s||this,a,E,T,M=$,te=$,X=$,Ae=$;return t((a=i["~"])===$?$:a["$[]"](1))?((a=i["~"])===$?$:a["$[]"](0)).$slice(1,((a=i["~"])===$?$:a["$[]"](0)).$length()):((a=i["~"])===$?$:a["$[]"](2))["$=="]("kbd")?(t((M=((a=i["~"])===$?$:a["$[]"](3)).$strip())["$include?"](y(x,"R_SB")))&&(M=M.$gsub(y(x,"ESC_R_SB"),y(x,"R_SB"))),t(t(a=xe(M.$length(),1))?te=function(){return t(te=M.$index(",",1))?[te,M.$index("+",1)].$compact().$min():M.$index("+",1)}():a)?(X=M.$slice(te,1),t(M["$end_with?"](X))?(M=s(M.$chop().$split(X,-1),"map",[],(E=function(me){var mt=E.$$s||this;return me==null&&(me=$),me.$strip()},E.$$s=k,E.$$arity=1,E)),Ae=[-1,u(M["$[]"](-1),X)],s(M,"[]=",e.to_a(Ae)),Ae[O(Ae.length,1)]):M=s(M.$split(X),"map",[],(T=function(me){var mt=T.$$s||this;return me==null&&(me=$),me.$strip()},T.$$s=k,T.$$arity=1,T))):M=[M],y(x,"Inline").$new(k,"kbd",$,_(["attributes"],{attributes:_(["keys"],{keys:M})})).$convert()):y(x,"Inline").$new(k,"button",k.$normalize_text((a=i["~"])===$?$:a["$[]"](3),!0,!0)).$convert()},P.$$s=ce,P.$$arity=0,P))),t(t(v=o)?l["$include?"]("menu:"):v)&&(l=s(l,"gsub",[y(x,"InlineMenuMacroRx")],(de=function(){var k=de.$$s||this,a,E,T=$,M=$,te=$,X=$,Ae=$;return t(((a=i["~"])===$?$:a["$[]"](0))["$start_with?"](y(x,"RS")))?((a=i["~"])===$?$:a["$[]"](0)).$slice(1,((a=i["~"])===$?$:a["$[]"](0)).$length()):(T=(a=i["~"])===$?$:a["$[]"](1),t(M=(a=i["~"])===$?$:a["$[]"](2))?(t(M["$include?"](y(x,"R_SB")))&&(M=M.$gsub(y(x,"ESC_R_SB"),y(x,"R_SB"))),t(te=function(){return t(M["$include?"]("&gt;"))?"&gt;":t(M["$include?"](","))?",":$}())?(X=s(M.$split(te),"map",[],(E=function(me){var mt=E.$$s||this;return me==null&&(me=$),me.$strip()},E.$$s=k,E.$$arity=1,E)),Ae=X.$pop()):(a=[[],M.$rstrip()],X=a[0],Ae=a[1])):(a=[[],$],X=a[0],Ae=a[1]),y(x,"Inline").$new(k,"menu",$,_(["attributes"],{attributes:_(["menu","submenus","menuitem"],{menu:T,submenus:X,menuitem:Ae})})).$convert())},de.$$s=ce,de.$$arity=0,de))),t(t(v=l["$include?"]('"'))?l["$include?"]("&gt;"):v)&&(l=s(l,"gsub",[y(x,"InlineMenuRx")],(be=function(){var k=be.$$s||this,a,E,T,M,te=$,X=$,Ae=$;return t(((a=i["~"])===$?$:a["$[]"](0))["$start_with?"](y(x,"RS")))?((a=i["~"])===$?$:a["$[]"](0)).$slice(1,((a=i["~"])===$?$:a["$[]"](0)).$length()):(E=s(((T=i["~"])===$?$:T["$[]"](1)).$split("&gt;"),"map",[],(M=function(me){var mt=M.$$s||this;return me==null&&(me=$),me.$strip()},M.$$s=k,M.$$arity=1,M)),a=e.to_ary(E),te=a[0]==null?$:a[0],X=oe.call(a,1),Ae=X.$pop(),y(x,"Inline").$new(k,"menu",$,_(["attributes"],{attributes:_(["menu","submenus","menuitem"],{menu:te,submenus:X,menuitem:Ae})})).$convert())},be.$$s=ce,be.$$arity=0,be)))),t(t(v=o)?t(U=l["$include?"]("image:"))?U:l["$include?"]("icon:"):v)&&(l=s(l,"gsub",[y(x,"InlineImageMacroRx")],(je=function(){var k=je.$$s||this,a,E=$,T=$,M=$,te=$,X=$;return t(((a=i["~"])===$?$:a["$[]"](0))["$start_with?"](y(x,"RS")))?((a=i["~"])===$?$:a["$[]"](0)).$slice(1,((a=i["~"])===$?$:a["$[]"](0)).$length()):(t(((a=i["~"])===$?$:a["$[]"](0))["$start_with?"]("icon:"))?(a=["icon",["size"]],E=a[0],T=a[1]):(a=["image",["alt","width","height"]],E=a[0],T=a[1]),M=(a=i["~"])===$?$:a["$[]"](1),te=k.$parse_attributes((a=i["~"])===$?$:a["$[]"](2),T,_(["unescape_input"],{unescape_input:!0})),E["$=="]("icon")||(Q.$register("images",M),X=["imagesdir",Y["$[]"]("imagesdir")],s(te,"[]=",e.to_a(X)),X[O(X.length,1)]),t(a=te["$[]"]("alt"))||(X=["alt",(X=["default-alt",y(x,"Helpers").$basename(M,!0).$tr("_-"," ")],s(te,"[]=",e.to_a(X)),X[O(X.length,1)])],s(te,"[]=",e.to_a(X)),X[O(X.length,1)]),y(x,"Inline").$new(k,"image",$,_(["type","target","attributes"],{type:E,target:M,attributes:te})).$convert())},je.$$s=ce,je.$$arity=0,je))),t(t(v=t(U=l["$include?"]("(("))?l["$include?"]("))"):U)?v:t(U=H)?l["$include?"]("dexterm"):U)&&(l=s(l,"gsub",[y(x,"InlineIndextermMacroRx")],(Be=function(){var k=Be.$$s||this,a,E,T,M,te=$,X=$,Ae=$,me=$,mt=$,dt=$,He=$,kt=$,$t=$,Tt=$,rt=$,Lt=$,Yt=$,_t=$,Zt=$;return function(){if(te=(a=i["~"])===$?$:a["$[]"](1),"indexterm"["$==="](te))return t(((a=i["~"])===$?$:a["$[]"](0))["$start_with?"](y(x,"RS")))?((a=i["~"])===$?$:a["$[]"](0)).$slice(1,((a=i["~"])===$?$:a["$[]"](0)).$length()):(t((X=k.$normalize_text((a=i["~"])===$?$:a["$[]"](2),!0,!0))["$include?"]("="))?t(Ae=(me=y(x,"AttributeList").$new(X,k).$parse())["$[]"](1))?(mt=["terms",[Ae]],s(me,"[]=",e.to_a(mt)),mt[O(mt.length,1)],t(dt=me["$[]"]("see-also"))&&(mt=["see-also",function(){return t(dt["$include?"](","))?s(dt.$split(","),"map",[],(E=function(rr){var nr=E.$$s||this;return rr==null&&(rr=$),rr.$lstrip()},E.$$s=k,E.$$arity=1,E)):[dt]}()],s(me,"[]=",e.to_a(mt)),mt[O(mt.length,1)])):me=_(["terms"],{terms:X}):me=_(["terms"],{terms:k.$split_simple_csv(X)}),y(x,"Inline").$new(k,"indexterm",$,_(["attributes"],{attributes:me})).$convert());if("indexterm2"["$==="](te))return t(((a=i["~"])===$?$:a["$[]"](0))["$start_with?"](y(x,"RS")))?((a=i["~"])===$?$:a["$[]"](0)).$slice(1,((a=i["~"])===$?$:a["$[]"](0)).$length()):(t((He=k.$normalize_text((a=i["~"])===$?$:a["$[]"](2),!0,!0))["$include?"]("="))&&(He=t(a=t(T=(me=y(x,"AttributeList").$new(He,k).$parse())["$[]"](1))?T:me=$)?a:He,t(t(a=me)?dt=me["$[]"]("see-also"):a)&&(mt=["see-also",function(){return t(dt["$include?"](","))?s(dt.$split(","),"map",[],(M=function(rr){var nr=M.$$s||this;return rr==null&&(rr=$),rr.$lstrip()},M.$$s=k,M.$$arity=1,M)):[dt]}()],s(me,"[]=",e.to_a(mt)),mt[O(mt.length,1)])),y(x,"Inline").$new(k,"indexterm",He,_(["attributes","type"],{attributes:me,type:"visible"})).$convert());if(kt=(a=i["~"])===$?$:a["$[]"](3),t(((a=i["~"])===$?$:a["$[]"](0))["$start_with?"](y(x,"RS"))))if(t(t(a=kt["$start_with?"]("("))?kt["$end_with?"](")"):a))kt=kt.$slice(1,O(kt.$length(),2)),a=[!0,"(",")"],$t=a[0],Tt=a[1],rt=a[2];else return((a=i["~"])===$?$:a["$[]"](0)).$slice(1,((a=i["~"])===$?$:a["$[]"](0)).$length());else $t=!0,t(kt["$start_with?"]("("))?t(kt["$end_with?"](")"))?(a=[kt.$slice(1,O(kt.$length(),2)),!1],kt=a[0],$t=a[1]):(a=[kt.$slice(1,kt.$length()),"(",""],kt=a[0],Tt=a[1],rt=a[2]):t(kt["$end_with?"](")"))&&(a=[kt.$chop(),"",")"],kt=a[0],Tt=a[1],rt=a[2]);return t($t)?(t((He=k.$normalize_text(kt,!0))["$include?"](";&"))&&(t(He["$include?"](" &gt;&gt; "))?(T=He.$partition(" &gt;&gt; "),a=e.to_ary(T),He=a[0]==null?$:a[0],Lt=a[1]==null?$:a[1],Yt=a[2]==null?$:a[2],me=_(["see"],{see:Yt})):t(He["$include?"](" &amp;&gt; "))&&(T=He.$split(" &amp;&gt; "),a=e.to_ary(T),He=a[0]==null?$:a[0],dt=oe.call(a,1),me=_(["see-also"],{"see-also":dt}))),_t=y(x,"Inline").$new(k,"indexterm",He,_(["attributes","type"],{attributes:me,type:"visible"})).$convert()):(me=_([],{}),t((Zt=k.$normalize_text(kt,!0))["$include?"](";&"))&&(t(Zt["$include?"](" &gt;&gt; "))?(T=Zt.$partition(" &gt;&gt; "),a=e.to_ary(T),Zt=a[0]==null?$:a[0],Lt=a[1]==null?$:a[1],Yt=a[2]==null?$:a[2],mt=["see",Yt],s(me,"[]=",e.to_a(mt)),mt[O(mt.length,1)]):t(Zt["$include?"](" &amp;&gt; "))&&(T=Zt.$split(" &amp;&gt; "),a=e.to_ary(T),Zt=a[0]==null?$:a[0],dt=oe.call(a,1),mt=["see-also",dt],s(me,"[]=",e.to_a(mt)),mt[O(mt.length,1)])),mt=["terms",k.$split_simple_csv(Zt)],s(me,"[]=",e.to_a(mt)),mt[O(mt.length,1)],_t=y(x,"Inline").$new(k,"indexterm",$,_(["attributes"],{attributes:me})).$convert()),t(Tt)?""+Tt+_t+rt:_t}()},Be.$$s=ce,Be.$$arity=0,Be))),t(t(v=fe)?l["$include?"]("://"):v)&&(l=s(l,"gsub",[y(x,"InlineLinkRx")],(Ke=function(){var k=Ke.$$s||this,a,E,T=$,M=$,te=$,X=$,Ae=$,me=$,mt=$,dt=$,He=$,kt=$;if(t((T=(a=i["~"])===$?$:a["$[]"](2))["$start_with?"](y(x,"RS"))))return""+((a=i["~"])===$?$:a["$[]"](1))+T.$slice(1,T.$length())+((a=i["~"])===$?$:a["$[]"](4));if(a=[(E=i["~"])===$?$:E["$[]"](1),""],M=a[0],te=a[1],t((a=i["~"])===$?$:a["$[]"](4)))M["$=="]("link:")&&(M=""),t((X=(a=i["~"])===$?$:a["$[]"](4))["$empty?"]())&&(X=$);else{if(Ae=M,"link:"["$==="](Ae)||'"'["$==="](Ae)||"'"["$==="](Ae))return(a=i["~"])===$?$:a["$[]"](0);if(Ae=(a=i["~"])===$?$:a["$[]"](3),")"["$==="](Ae)||"?"["$==="](Ae)||"!"["$==="](Ae)){if(T=T.$chop(),t((a=(te=(E=i["~"])===$?$:E["$[]"](3))["$=="](")"))?T["$end_with?"](".","?","!"):(te=(E=i["~"])===$?$:E["$[]"](3))["$=="](")"))&&(te=u(T["$[]"](-1),te),T=T.$chop()),t(T["$end_with?"]("://")))return(a=i["~"])===$?$:a["$[]"](0)}else if(";"["$==="](Ae)){if(t(t(a=M["$start_with?"]("&lt;"))?T["$end_with?"]("&gt;"):a)?(M=M.$slice(4,M.$length()),T=T.$slice(0,O(T.$length(),4))):t((T=T.$chop())["$end_with?"](")"))?(T=T.$chop(),te=");"):te=";",t(T["$end_with?"]("://")))return(a=i["~"])===$?$:a["$[]"](0)}else if(":"["$==="](Ae)&&(t((T=T.$chop())["$end_with?"](")"))?(T=T.$chop(),te="):"):te=":",t(T["$end_with?"]("://"))))return(a=i["~"])===$?$:a["$[]"](0)}return a=[$,_(["type"],{type:"link"})],me=a[0],mt=a[1],t(X)?(t(X["$include?"](y(x,"R_SB")))&&(dt=X=X.$gsub(y(x,"ESC_R_SB"),y(x,"R_SB"))),t(t(a=Q.$compat_mode()["$!"]())?X["$include?"]("="):a)&&(E=k.$extract_attributes_from_text(X,""),a=e.to_ary(E),X=a[0]==null?$:a[0],me=a[1]==null?$:a[1],dt=X,He=["id",me["$[]"]("id")],s(mt,"[]=",e.to_a(He)),He[O(He.length,1)]),t(X["$end_with?"]("^"))&&(dt=X=X.$chop(),t(me)?t(a=me["$[]"]("window"))||(He=["window","_blank"],s(me,"[]=",e.to_a(He)),He[O(He.length,1)]):me=_(["window"],{window:"_blank"})),t(t(a=dt)?dt["$empty?"]():a)&&(X=function(){return t(Y["$key?"]("hide-uri-scheme"))?T.$sub(y(x,"UriSniffRx"),""):T}(),kt=!0)):(X=function(){return t(Y["$key?"]("hide-uri-scheme"))?T.$sub(y(x,"UriSniffRx"),""):T}(),kt=!0),t(kt)&&(t(me)?(He=["role",function(){return t(me["$key?"]("role"))?"bare "+me["$[]"]("role"):"bare"}()],s(me,"[]=",e.to_a(He)),He[O(He.length,1)]):me=_(["role"],{role:"bare"})),Q.$register("links",(He=["target",T],s(mt,"[]=",e.to_a(He)),He[O(He.length,1)])),t(me)&&(He=["attributes",me],s(mt,"[]=",e.to_a(He)),He[O(He.length,1)]),""+M+y(x,"Inline").$new(k,"anchor",X,mt).$convert()+te},Ke.$$s=ce,Ke.$$arity=0,Ke))),t(t(v=o)?t(U=l["$include?"]("link:"))?U:l["$include?"]("ilto:"):v)&&(l=s(l,"gsub",[y(x,"InlineLinkMacroRx")],(we=function(){var k=we.$$s||this,a,E,T=$,M=$,te=$,X=$,Ae=$,me=$,mt=$;return t(((a=i["~"])===$?$:a["$[]"](0))["$start_with?"](y(x,"RS")))?((a=i["~"])===$?$:a["$[]"](0)).$slice(1,((a=i["~"])===$?$:a["$[]"](0)).$length()):(t(T=(a=i["~"])===$?$:a["$[]"](1))?M=u("mailto:",te=(a=i["~"])===$?$:a["$[]"](2)):M=(a=i["~"])===$?$:a["$[]"](2),a=[$,_(["type"],{type:"link"})],X=a[0],Ae=a[1],t((me=(a=i["~"])===$?$:a["$[]"](3))["$empty?"]())||(t(me["$include?"](y(x,"R_SB")))&&(me=me.$gsub(y(x,"ESC_R_SB"),y(x,"R_SB"))),t(T)?t(t(a=Q.$compat_mode()["$!"]())?me["$include?"](","):a)&&(E=k.$extract_attributes_from_text(me,""),a=e.to_ary(E),me=a[0]==null?$:a[0],X=a[1]==null?$:a[1],mt=["id",X["$[]"]("id")],s(Ae,"[]=",e.to_a(mt)),mt[O(mt.length,1)],t(X["$key?"](2))&&(t(X["$key?"](3))?M=""+M+"?subject="+y(x,"Helpers").$encode_uri_component(X["$[]"](2))+"&amp;body="+y(x,"Helpers").$encode_uri_component(X["$[]"](3)):M=""+M+"?subject="+y(x,"Helpers").$encode_uri_component(X["$[]"](2)))):t(t(a=Q.$compat_mode()["$!"]())?me["$include?"]("="):a)&&(E=k.$extract_attributes_from_text(me,""),a=e.to_ary(E),me=a[0]==null?$:a[0],X=a[1]==null?$:a[1],mt=["id",X["$[]"]("id")],s(Ae,"[]=",e.to_a(mt)),mt[O(mt.length,1)]),t(me["$end_with?"]("^"))&&(me=me.$chop(),t(X)?t(a=X["$[]"]("window"))||(mt=["window","_blank"],s(X,"[]=",e.to_a(mt)),mt[O(mt.length,1)]):X=_(["window"],{window:"_blank"}))),t(me["$empty?"]())&&(t(T)?me=te:(t(Y["$key?"]("hide-uri-scheme"))?t((me=M.$sub(y(x,"UriSniffRx"),""))["$empty?"]())&&(me=M):me=M,t(X)?(mt=["role",function(){return t(X["$key?"]("role"))?"bare "+X["$[]"]("role"):"bare"}()],s(X,"[]=",e.to_a(mt)),mt[O(mt.length,1)]):X=_(["role"],{role:"bare"}))),Q.$register("links",(mt=["target",M],s(Ae,"[]=",e.to_a(mt)),mt[O(mt.length,1)])),t(X)&&(mt=["attributes",X],s(Ae,"[]=",e.to_a(mt)),mt[O(mt.length,1)]),y(x,"Inline").$new(k,"anchor",me,Ae).$convert())},we.$$s=ce,we.$$arity=0,we))),t(l["$include?"]("@"))&&(l=s(l,"gsub",[y(x,"InlineEmailRx")],(ot=function(){var k=ot.$$s||this,a,E=$,T=$;return t((a=i["~"])===$?$:a["$[]"](1))?function(){return((a=i["~"])===$?$:a["$[]"](1))["$=="](y(x,"RS"))?((a=i["~"])===$?$:a["$[]"](0)).$slice(1,((a=i["~"])===$?$:a["$[]"](0)).$length()):(a=i["~"])===$?$:a["$[]"](0)}():(E=u("mailto:",T=(a=i["~"])===$?$:a["$[]"](0)),Q.$register("links",E),y(x,"Inline").$new(k,"anchor",T,_(["type","target"],{type:"link",target:E})).$convert())},ot.$$s=ce,ot.$$arity=0,ot))),t(t(v=t(U=Ee)?ce.context["$=="]("list_item"):U)?ce.parent.$style()["$=="]("bibliography"):v)&&(l=s(l,"sub",[y(x,"InlineBiblioAnchorRx")],(at=function(){var k=at.$$s||this,a;return y(x,"Inline").$new(k,"anchor",(a=i["~"])===$?$:a["$[]"](2),_(["type","id"],{type:"bibref",id:(a=i["~"])===$?$:a["$[]"](1)})).$convert()},at.$$s=ce,at.$$arity=0,at))),t(t(v=t(U=Ee)?l["$include?"]("[["):U)?v:t(U=o)?l["$include?"]("or:"):U)&&(l=s(l,"gsub",[y(x,"InlineAnchorRx")],(vt=function(){var k=vt.$$s||this,a,E,T=$,M=$;return t((a=i["~"])===$?$:a["$[]"](1))?((a=i["~"])===$?$:a["$[]"](0)).$slice(1,((a=i["~"])===$?$:a["$[]"](0)).$length()):(t(T=(a=i["~"])===$?$:a["$[]"](2))?M=(a=i["~"])===$?$:a["$[]"](3):(T=(a=i["~"])===$?$:a["$[]"](4),t(t(a=M=(E=i["~"])===$?$:E["$[]"](5))?M["$include?"](y(x,"R_SB")):a)&&(M=M.$gsub(y(x,"ESC_R_SB"),y(x,"R_SB")))),y(x,"Inline").$new(k,"anchor",M,_(["type","id"],{type:"ref",id:T})).$convert())},vt.$$s=ce,vt.$$arity=0,vt))),t(t(v=t(U=l["$include?"]("&"))?l["$include?"](";&l"):U)?v:t(U=o)?l["$include?"]("xref:"):U)&&(l=s(l,"gsub",[y(x,"InlineXrefMacroRx")],(Dt=function(){var k=Dt.$$s||this,a,E,T=$,M=$,te=$,X=$,Ae=$,me=$,mt=$,dt=$,He=$,kt=$,$t=$,Tt=$;return t(((a=i["~"])===$?$:a["$[]"](0))["$start_with?"](y(x,"RS")))?((a=i["~"])===$?$:a["$[]"](0)).$slice(1,((a=i["~"])===$?$:a["$[]"](0)).$length()):(T=_([],{}),t(M=(a=i["~"])===$?$:a["$[]"](1))?t(M["$include?"](","))&&(E=M.$partition(","),a=e.to_ary(E),M=a[0]==null?$:a[0],te=a[1]==null?$:a[1],X=a[2]==null?$:a[2],t((X=X.$lstrip())["$empty?"]())&&(X=$)):(Ae=!0,M=(a=i["~"])===$?$:a["$[]"](2),t(X=(a=i["~"])===$?$:a["$[]"](3))&&(t(X["$include?"](y(x,"R_SB")))&&(X=X.$gsub(y(x,"ESC_R_SB"),y(x,"R_SB"))),t(t(a=Q.$compat_mode()["$!"]())?X["$include?"]("="):a)&&(E=k.$extract_attributes_from_text(X),a=e.to_ary(E),X=a[0]==null?$:a[0],T=a[1]==null?$:a[1]))),t(Q.$compat_mode())?me=M:t(mt=M.$index("#"))?t(xe(mt,0))?(t(xe(dt=O(O(M.$length(),1),mt),0))?(a=[M.$slice(0,mt),M.$slice(u(mt,1),dt)],He=a[0],me=a[1]):He=M.$chop(),t(Ae)?t(He["$end_with?"](".adoc"))?kt=He=He.$slice(0,O(He.$length(),5)):t(y(x,"Helpers")["$extname?"](He)["$!"]())&&(kt=He):t(s(He,"end_with?",e.to_a(y(x,"ASCIIDOC_EXTENSIONS").$keys())))?kt=He=He.$slice(0,He.$rindex(".")):kt=He):(a=[M,M.$slice(1,M.$length())],$t=a[0],me=a[1]):t(Ae)?t(M["$end_with?"](".adoc"))?kt=He=M.$slice(0,O(M.$length(),5)):t(y(x,"Helpers")["$extname?"](M))?He=M:me=M:me=M,t($t)?(M=me,t(t(a=k.$logger()["$info?"]())?Q.$catalog()["$[]"]("refs")["$[]"](M)["$!"]():a)&&k.$logger().$info("possible invalid reference: "+M)):t(He)?t(t(a=kt)?t(E=Q.$attributes()["$[]"]("docname")["$=="](He))?E:Q.$catalog()["$[]"]("includes")["$[]"](He):a)?t(me)?(a=[me,$,"#"+me],M=a[0],He=a[1],$t=a[2],t(t(a=k.$logger()["$info?"]())?Q.$catalog()["$[]"]("refs")["$[]"](M)["$!"]():a)&&k.$logger().$info("possible invalid reference: "+M)):(a=[$,$,"#"],M=a[0],He=a[1],$t=a[2]):(a=[He,""+(t(E=Q.$attributes()["$[]"]("relfileprefix"))?E:"")+He+function(){return t(kt)?Q.$attributes().$fetch("relfilesuffix",Q.$outfilesuffix()):""}()],M=a[0],He=a[1],t(me)?(a=[""+M+"#"+me,""+He+"#"+me],M=a[0],$t=a[1]):$t=He):t(t(a=Q.$compat_mode())?a:y(x,"Compliance").$natural_xrefs()["$!"]())?(a=[me,"#"+me],M=a[0],$t=a[1],t(t(a=k.$logger()["$info?"]())?Q.$catalog()["$[]"]("refs")["$[]"](M)["$!"]():a)&&k.$logger().$info("possible invalid reference: "+M)):t(Q.$catalog()["$[]"]("refs")["$[]"](me))?(a=[me,"#"+me],M=a[0],$t=a[1]):t(t(a=t(E=me["$include?"](" "))?E:me.$downcase()["$!="](me))?M=Q.$resolve_id(me):a)?(a=[M,"#"+M],me=a[0],$t=a[1]):(a=[me,"#"+me],M=a[0],$t=a[1],t(k.$logger()["$info?"]())&&k.$logger().$info("possible invalid reference: "+M)),Tt=["path",He],s(T,"[]=",e.to_a(Tt)),Tt[O(Tt.length,1)],Tt=["fragment",me],s(T,"[]=",e.to_a(Tt)),Tt[O(Tt.length,1)],Tt=["refid",M],s(T,"[]=",e.to_a(Tt)),Tt[O(Tt.length,1)],y(x,"Inline").$new(k,"anchor",X,_(["type","target","attributes"],{type:"xref",target:$t,attributes:T})).$convert())},Dt.$$s=ce,Dt.$$arity=0,Dt))),t(t(v=o)?l["$include?"]("tnote"):v)&&(l=s(l,"gsub",[y(x,"InlineFootnoteMacroRx")],(bt=function(){var k=bt.$$s||this,a,E,T,M,te=$,X=$,Ae=$,me=$,mt=$,dt=$;if(t(((a=i["~"])===$?$:a["$[]"](0))["$start_with?"](y(x,"RS"))))return((a=i["~"])===$?$:a["$[]"](0)).$slice(1,((a=i["~"])===$?$:a["$[]"](0)).$length());if(t((a=i["~"])===$?$:a["$[]"](1)))if(t((a=i["~"])===$?$:a["$[]"](3)))E=((T=i["~"])===$?$:T["$[]"](3)).$split(",",2),a=e.to_ary(E),te=a[0]==null?$:a[0],X=a[1]==null?$:a[1],t(Q.$compat_mode())||k.$logger().$warn("found deprecated footnoteref macro: "+((a=i["~"])===$?$:a["$[]"](0))+"; use footnote macro with target instead");else return(a=i["~"])===$?$:a["$[]"](0);else te=(a=i["~"])===$?$:a["$[]"](2),X=(a=i["~"])===$?$:a["$[]"](3);if(t(te))t(Ae=s(Q.$footnotes(),"find",[],(M=function(He){var kt=M.$$s||this;return He==null&&(He=$),He.$id()["$=="](te)},M.$$s=k,M.$$arity=1,M)))?(a=[Ae.$index(),Ae.$text()],me=a[0],X=a[1],a=["xref",te,$],mt=a[0],dt=a[1],te=a[2]):t(X)?(X=k.$restore_passthroughs(k.$normalize_text(X,!0,!0)),me=Q.$counter("footnote-number"),Q.$register("footnotes",n(y(x,"Document"),"Footnote").$new(me,te,X)),a=["ref",$],mt=a[0],dt=a[1]):(k.$logger().$warn("invalid footnote reference: "+te),a=["xref",te,te,$],mt=a[0],dt=a[1],X=a[2],te=a[3]);else if(t(X))X=k.$restore_passthroughs(k.$normalize_text(X,!0,!0)),me=Q.$counter("footnote-number"),Q.$register("footnotes",n(y(x,"Document"),"Footnote").$new(me,te,X)),mt=dt=$;else return(a=i["~"])===$?$:a["$[]"](0);return y(x,"Inline").$new(k,"footnote",X,_(["attributes","id","target","type"],{attributes:_(["index"],{index:me}),id:te,target:dt,type:mt})).$convert()},bt.$$s=ce,bt.$$arity=0,bt))),l},m.$$arity=1),e.def(N,"$sub_post_replacements",p=function(l){var v,I,U,P=this,de=$,be=$;return P.attributes==null&&(P.attributes=$),P.document==null&&(P.document=$),t(t(v=P.attributes["$[]"]("hardbreaks-option"))?v:P.document.$attributes()["$[]"]("hardbreaks-option"))?(de=l.$split(y(x,"LF"),-1),t(Xe(de.$size(),2))?l:(be=de.$pop(),s(de,"map",[],(I=function(je){var Be=I.$$s||this;return je==null&&(je=$),y(x,"Inline").$new(Be,"break",function(){return t(je["$end_with?"](y(x,"HARD_LINE_BREAK")))?je.$slice(0,O(je.$length(),2)):je}(),_(["type"],{type:"line"})).$convert()},I.$$s=P,I.$$arity=1,I))["$<<"](be).$join(y(x,"LF")))):t(t(v=l["$include?"](y(x,"PLUS")))?l["$include?"](y(x,"HARD_LINE_BREAK")):v)?s(l,"gsub",[y(x,"HardLineBreakRx")],(U=function(){var je=U.$$s||this,Be;return y(x,"Inline").$new(je,"break",(Be=i["~"])===$?$:Be["$[]"](1),_(["type"],{type:"line"})).$convert()},U.$$s=P,U.$$arity=0,U)):l},p.$$arity=1),e.def(N,"$sub_source",z=function(l,v){var I=this;return t(v)?I.$sub_callouts(I.$sub_specialchars(l)):I.$sub_specialchars(l)},z.$$arity=2),e.def(N,"$sub_callouts",Z=function(l){var v,I=this,U=$,P=$;return U=function(){return t(I["$attr?"]("line-comment"))?y(x,"CalloutSourceRxMap")["$[]"](I.$attr("line-comment")):y(x,"CalloutSourceRx")}(),P=0,s(l,"gsub",[U],(v=function(){var de=v.$$s||this,be,je;return de.document==null&&(de.document=$),t((be=i["~"])===$?$:be["$[]"](2))?((be=i["~"])===$?$:be["$[]"](0)).$sub(y(x,"RS"),""):y(x,"Inline").$new(de,"callout",function(){return((be=i["~"])===$?$:be["$[]"](4))["$=="](".")?(P=u(P,1)).$to_s():(be=i["~"])===$?$:be["$[]"](4)}(),_(["id","attributes"],{id:de.document.$callouts().$read_next_id(),attributes:_(["guard"],{guard:t(be=(je=i["~"])===$?$:je["$[]"](1))?be:function(){return((je=i["~"])===$?$:je["$[]"](3))["$=="]("--")?["<!--","-->"]:$}()})})).$convert()},v.$$s=I,v.$$arity=0,v))},Z.$$arity=1),e.def(N,"$highlight_source",re=function(l,v){var I,U,P,de=this,be=$,je=$,Be=$,Ke=$,we=$,ot=$,at=$,vt=$,Dt=$;return de.document==null&&(de.document=$),de.passthroughs==null&&(de.passthroughs=$),t(t(I=be=de.document.$syntax_highlighter())?be["$highlight?"]():I)?(t(v)&&(U=de.$extract_callouts(l),I=e.to_ary(U),l=I[0]==null?$:I[0],je=I[1]==null?$:I[1]),Be=de.document.$attributes(),Ke=be.$name(),t(t(I=we=function(){return t(de["$attr?"]("linenums"))?(t(U=Be["$[]"](""+Ke+"-linenums-mode"))?U:"table").$to_sym():$}())?Xe(ot=de.$attr("start",1).$to_i(),1):I)&&(ot=1),t(de["$attr?"]("highlight"))&&(at=de.$resolve_lines_to_highlight(l,de.$attr("highlight"),ot)),U=be.$highlight(de,l,de.$attr("language"),_(["callouts","css_mode","highlight_lines","number_lines","start_line_number","style"],{callouts:je,css_mode:(t(P=Be["$[]"](""+Ke+"-css"))?P:"class").$to_sym(),highlight_lines:at,number_lines:we,start_line_number:ot,style:Be["$[]"](""+Ke+"-style")})),I=e.to_ary(U),vt=I[0]==null?$:I[0],Dt=I[1]==null?$:I[1],t(de.passthroughs["$empty?"]())||(vt=vt.$gsub(y(x,"HighlightedPassSlotRx"),""+y(x,"PASS_START")+"\\1"+y(x,"PASS_END"))),t(je["$nil_or_empty?"]())?vt:de.$restore_callouts(vt,je,Dt)):de.$sub_source(l,v)},re.$$arity=2),e.def(N,"$resolve_lines_to_highlight",ye=function(l,v,I){var U,P,de=this,be=$,je=$;return I==null&&(I=$),be=[],t(v["$include?"](" "))&&(v=v.$delete(" ")),s(function(){return t(v["$include?"](","))?v.$split(","):v.$split(";")}(),"map",[],(U=function(Be){var Ke=U.$$s||this,we,ot,at=$,vt=$,Dt=$,bt=$,ce=$,Ee=$;return Be==null&&(Be=$),t(Be["$start_with?"]("!"))&&(Be=Be.$slice(1,Be.$length()),at=!0),t(vt=function(){return t(Be["$include?"](".."))?"..":t(Be["$include?"]("-"))?"-":$}())?(ot=Be.$partition(vt),we=e.to_ary(ot),Dt=we[0]==null?$:we[0],bt=we[1]==null?$:we[1],ce=we[2]==null?$:we[2],t(t(we=ce["$empty?"]())?we:Xe(ce=ce.$to_i(),0))&&(ce=u(l.$count(y(x,"LF")),1)),t(at)?be=O(be,e.Range.$new(Dt.$to_i(),ce,!1).$to_a()):be=be["$|"](e.Range.$new(Dt.$to_i(),ce,!1).$to_a())):t(at)?be.$delete(Be.$to_i()):t(be["$include?"](Ee=Be.$to_i())["$!"]())?be["$<<"](Ee):$},U.$$s=de,U.$$arity=1,U)),(je=function(){return t(I)?O(I,1):0}())["$=="](0)||(be=s(be,"map",[],(P=function(Be){var Ke=P.$$s||this;return Be==null&&(Be=$),O(Be,je)},P.$$s=de,P.$$arity=1,P))),be.$sort()},ye.$$arity=-3),e.def(N,"$extract_passthroughs",q=function(l){var v,I,U,P,de,be=this,je=$,Be=$,Ke=$,we=$,ot=$;return be.document==null&&(be.document=$),be.passthroughs==null&&(be.passthroughs=$),je=be.document.$compat_mode(),Be=be.passthroughs,t(t(v=t(I=l["$include?"]("++"))?I:l["$include?"]("$$"))?v:l["$include?"]("ss:"))&&(l=s(l,"gsub",[y(x,"InlinePassMacroRx")],(U=function(){var at=U.$$s||this,vt,Dt=$,bt=$,ce=$,Ee=$,fe=$,o=$,H=$,Y=$,Q=$;if(t(Dt=(vt=i["~"])===$?$:vt["$[]"](4))){if(t(t(vt=je)?Dt["$=="]("++"):vt))return""+function(){return t((vt=i["~"])===$?$:vt["$[]"](2))?""+((vt=i["~"])===$?$:vt["$[]"](1))+"["+((vt=i["~"])===$?$:vt["$[]"](2))+"]"+((vt=i["~"])===$?$:vt["$[]"](3)):""+((vt=i["~"])===$?$:vt["$[]"](1))+((vt=i["~"])===$?$:vt["$[]"](3))}()+"++"+at.$extract_passthroughs((vt=i["~"])===$?$:vt["$[]"](5))+"++";if(t(bt=(vt=i["~"])===$?$:vt["$[]"](2))){if(t(xe(ce=((vt=i["~"])===$?$:vt["$[]"](3)).$length(),0)))return""+((vt=i["~"])===$?$:vt["$[]"](1))+"["+bt+"]"+ie(y(x,"RS"),O(ce,1))+Dt+((vt=i["~"])===$?$:vt["$[]"](5))+Dt;((vt=i["~"])===$?$:vt["$[]"](1))["$=="](y(x,"RS"))?Ee="["+bt+"]":(t((vt=Dt["$=="]("++"))?bt["$end_with?"]("x-"):Dt["$=="]("++"))&&(fe=!0,bt=bt.$slice(0,O(bt.$length(),2))),o=at.$parse_quoted_text_attributes(bt))}else if(t(xe(ce=((vt=i["~"])===$?$:vt["$[]"](3)).$length(),0)))return""+ie(y(x,"RS"),O(ce,1))+Dt+((vt=i["~"])===$?$:vt["$[]"](5))+Dt;H=function(){return Dt["$=="]("+++")?[]:y(x,"BASIC_SUBS")}(),t(o)?t(fe)?(Y=[Q=Be.$size(),_(["text","subs","type","attributes"],{text:(vt=i["~"])===$?$:vt["$[]"](5),subs:y(x,"NORMAL_SUBS"),type:"monospaced",attributes:o})],s(Be,"[]=",e.to_a(Y)),Y[O(Y.length,1)]):(Y=[Q=Be.$size(),_(["text","subs","type","attributes"],{text:(vt=i["~"])===$?$:vt["$[]"](5),subs:H,type:"unquoted",attributes:o})],s(Be,"[]=",e.to_a(Y)),Y[O(Y.length,1)]):(Y=[Q=Be.$size(),_(["text","subs"],{text:(vt=i["~"])===$?$:vt["$[]"](5),subs:H})],s(Be,"[]=",e.to_a(Y)),Y[O(Y.length,1)])}else{if(((vt=i["~"])===$?$:vt["$[]"](6))["$=="](y(x,"RS")))return((vt=i["~"])===$?$:vt["$[]"](0)).$slice(1,((vt=i["~"])===$?$:vt["$[]"](0)).$length());t(H=(vt=i["~"])===$?$:vt["$[]"](7))?(Y=[Q=Be.$size(),_(["text","subs"],{text:at.$normalize_text((vt=i["~"])===$?$:vt["$[]"](8),$,!0),subs:at.$resolve_pass_subs(H)})],s(Be,"[]=",e.to_a(Y)),Y[O(Y.length,1)]):(Y=[Q=Be.$size(),_(["text"],{text:at.$normalize_text((vt=i["~"])===$?$:vt["$[]"](8),$,!0)})],s(Be,"[]=",e.to_a(Y)),Y[O(Y.length,1)])}return""+(t(vt=Ee)?vt:"")+y(x,"PASS_START")+Q+y(x,"PASS_END")},U.$$s=be,U.$$arity=0,U))),I=y(x,"InlinePassRx")["$[]"](je),v=e.to_ary(I),Ke=v[0]==null?$:v[0],we=v[1]==null?$:v[1],ot=v[2]==null?$:v[2],t(t(v=l["$include?"](Ke))?v:t(I=we)?l["$include?"](we):I)&&(l=s(l,"gsub",[ot],(P=function(){var at=P.$$s||this,vt,Dt=$,bt=$,ce=$,Ee=$,fe=$,o=$,H=$,Y=$,Q=$,ne=$,k=$;if(Dt=(vt=i["~"])===$?$:vt["$[]"](1),bt=(vt=i["~"])===$?$:vt["$[]"](2),t((ce=(vt=i["~"])===$?$:vt["$[]"](3))["$start_with?"](y(x,"RS")))&&(Ee=y(x,"RS")),fe=(vt=i["~"])===$?$:vt["$[]"](4),o=(vt=i["~"])===$?$:vt["$[]"](5),t(je)?H=!0:t(H=t(vt=bt)?bt["$end_with?"]("x-"):vt)&&(bt=bt.$slice(0,O(bt.$length(),2))),t(bt)){if(t((vt=fe["$=="]("`"))?H["$!"]():fe["$=="]("`")))return at.$extract_inner_passthrough(o,""+Dt+"["+bt+"]"+Ee);if(t(Ee))return""+Dt+"["+bt+"]"+ce.$slice(1,ce.$length());Dt["$=="](y(x,"RS"))?Dt="["+bt+"]":Y=at.$parse_quoted_text_attributes(bt)}else{if(t((vt=fe["$=="]("`"))?H["$!"]():fe["$=="]("`")))return at.$extract_inner_passthrough(o,""+Dt+Ee);if(t(Ee))return""+Dt+ce.$slice(1,ce.$length())}return t(je)?(Q=[ne=Be.$size(),_(["text","subs","attributes","type"],{text:o,subs:y(x,"BASIC_SUBS"),attributes:Y,type:"monospaced"})],s(Be,"[]=",e.to_a(Q)),Q[O(Q.length,1)]):t(Y)?t(H)?(k=function(){return fe["$=="]("`")?y(x,"BASIC_SUBS"):y(x,"NORMAL_SUBS")}(),Q=[ne=Be.$size(),_(["text","subs","attributes","type"],{text:o,subs:k,attributes:Y,type:"monospaced"})],s(Be,"[]=",e.to_a(Q)),Q[O(Q.length,1)]):(Q=[ne=Be.$size(),_(["text","subs","attributes","type"],{text:o,subs:y(x,"BASIC_SUBS"),attributes:Y,type:"unquoted"})],s(Be,"[]=",e.to_a(Q)),Q[O(Q.length,1)]):(Q=[ne=Be.$size(),_(["text","subs"],{text:o,subs:y(x,"BASIC_SUBS")})],s(Be,"[]=",e.to_a(Q)),Q[O(Q.length,1)]),""+Dt+y(x,"PASS_START")+ne+y(x,"PASS_END")},P.$$s=be,P.$$arity=0,P))),t(t(v=l["$include?"](":"))?t(I=l["$include?"]("stem:"))?I:l["$include?"]("math:"):v)&&(l=s(l,"gsub",[y(x,"InlineStemMacroRx")],(de=function(){var at=de.$$s||this,vt,Dt,bt=$,ce=$,Ee=$,fe=$,o=$;return at.document==null&&(at.document=$),t(((vt=i["~"])===$?$:vt["$[]"](0))["$start_with?"](y(x,"RS")))?((vt=i["~"])===$?$:vt["$[]"](0)).$slice(1,((vt=i["~"])===$?$:vt["$[]"](0)).$length()):((bt=((vt=i["~"])===$?$:vt["$[]"](1)).$to_sym())["$=="]("stem")&&(bt=y(x,"STEM_TYPE_ALIASES")["$[]"](at.document.$attributes()["$[]"]("stem")).$to_sym()),ce=(vt=i["~"])===$?$:vt["$[]"](2),Ee=at.$normalize_text((vt=i["~"])===$?$:vt["$[]"](3),$,!0),t(t(vt=(Dt=bt["$=="]("latexmath"))?Ee["$start_with?"]("$"):bt["$=="]("latexmath"))?Ee["$end_with?"]("$"):vt)&&(Ee=Ee.$slice(1,O(Ee.$length(),2))),ce=function(){return t(ce)?at.$resolve_pass_subs(ce):t(at.document["$basebackend?"]("html"))?y(x,"BASIC_SUBS"):$}(),fe=[o=Be.$size(),_(["text","subs","type"],{text:Ee,subs:ce,type:bt})],s(Be,"[]=",e.to_a(fe)),fe[O(fe.length,1)],""+y(x,"PASS_START")+o+y(x,"PASS_END"))},de.$$s=be,de.$$arity=0,de))),l},q.$$arity=1),e.def(N,"$restore_passthroughs",ee=function(l){var v,I=this,U=$;return I.passthroughs==null&&(I.passthroughs=$),U=I.passthroughs,s(l,"gsub",[y(x,"PassSlotRx")],(v=function(){var P=v.$$s||this,de,be=$,je=$,Be=$,Ke=$,we=$;return t(be=U["$[]"](((de=i["~"])===$?$:de["$[]"](1)).$to_i()))?(je=P.$apply_subs(be["$[]"]("text"),be["$[]"]("subs")),t(Be=be["$[]"]("type"))&&(t(Ke=be["$[]"]("attributes"))&&(we=Ke["$[]"]("id")),je=y(x,"Inline").$new(P,"quoted",je,_(["type","id","attributes"],{type:Be,id:we,attributes:Ke})).$convert()),t(je["$include?"](y(x,"PASS_START")))?P.$restore_passthroughs(je):je):(P.$logger().$error("unresolved passthrough detected: "+l),"??pass??")},v.$$s=I,v.$$arity=0,v))},ee.$$arity=1),e.def(N,"$resolve_subs",V=function(l,v,I,U){var P,de=this,be=$,je=$,Be=$,Ke=$;return v==null&&(v="block"),I==null&&(I=$),U==null&&(U=$),t(l["$nil_or_empty?"]())||(be=$,t(l["$include?"](" "))&&(l=l.$delete(" ")),je=y(x,"SubModifierSniffRx")["$match?"](l),s(l.$split(","),"each",[],(P=function(we){var ot=P.$$s||this,at,vt,Dt=$,bt=$,ce=$,Ee=$,fe=$,o=$;return we==null&&(we=$),Dt=$,t(je)&&((bt=we.$chr())["$=="]("+")?(Dt="append",we=we.$slice(1,we.$length())):bt["$=="]("-")?(Dt="remove",we=we.$slice(1,we.$length())):t(we["$end_with?"]("+"))&&(Dt="prepend",we=we.$chop())),we=we.$to_sym(),t((at=v["$=="]("inline"))?t(vt=we["$=="]("verbatim"))?vt:we["$=="]("v"):v["$=="]("inline"))?ce=y(x,"BASIC_SUBS"):t(y(x,"SUB_GROUPS")["$key?"](we))?ce=y(x,"SUB_GROUPS")["$[]"](we):t(t(at=(vt=v["$=="]("inline"))?we.$length()["$=="](1):v["$=="]("inline"))?y(x,"SUB_HINTS")["$key?"](we):at)?(Ee=y(x,"SUB_HINTS")["$[]"](we),t(fe=y(x,"SUB_GROUPS")["$[]"](Ee))?ce=fe:ce=[Ee]):ce=[we],t(Dt)?(be=t(at=be)?at:function(){return t(I)?I.$drop(0):[]}(),function(){return o=Dt,"append"["$==="](o)?be=u(be,ce):"prepend"["$==="](o)?be=u(ce,be):"remove"["$==="](o)?be=O(be,ce):$}()):(be=t(at=be)?at:[],be=u(be,ce))},P.$$s=de,P.$$arity=1,P)),!t(be))?$:(Be=be["$&"](y(x,"SUB_OPTIONS")["$[]"](v)),t(O(be,Be)["$empty?"]())||(Ke=O(be,Be),de.$logger().$warn("invalid substitution type"+function(){return t(xe(Ke.$size(),1))?"s":""}()+function(){return t(U)?" for ":""}()+U+": "+Ke.$join(", "))),Be)},V.$$arity=-2),e.def(N,"$resolve_block_subs",_e=function(l,v,I){var U=this;return U.$resolve_subs(l,"block",v,I)},_e.$$arity=3),e.def(N,"$resolve_pass_subs",Me=function(l){var v=this;return v.$resolve_subs(l,"inline",$,"passthrough macro")},Me.$$arity=1),e.def(N,"$expand_subs",Te=function(l,v){var I,U,P=this,de=$,be=$;return v==null&&(v=$),function(){return de=l,n("::","Symbol")["$==="](de)?l["$=="]("none")?$:t(I=y(x,"SUB_GROUPS")["$[]"](l))?I:[l]:n("::","Array")["$==="](de)?(be=[],s(l,"each",[],(U=function(je){var Be=U.$$s||this,Ke=$;return je==null&&(je=$),je["$=="]("none")?$:t(Ke=y(x,"SUB_GROUPS")["$[]"](je))?be=u(be,Ke):be["$<<"](je)},U.$$s=P,U.$$arity=1,U)),t(be["$empty?"]())?$:be):P.$resolve_subs(l,"inline",$,v)}()},Te.$$arity=-2),e.def(N,"$commit_subs",et=function(){var l,v,I,U,P=this,de=$,be=$,je=$,Be=$,Ke=$,we=$;if(P.default_subs==null&&(P.default_subs=$),P.content_model==null&&(P.content_model=$),P.context==null&&(P.context=$),P.subs==null&&(P.subs=$),P.attributes==null&&(P.attributes=$),P.style==null&&(P.style=$),P.document==null&&(P.document=$),!t(de=P.default_subs))if(be=P.content_model,"simple"["$==="](be))de=y(x,"NORMAL_SUBS");else if("verbatim"["$==="](be))de=function(){return P.context["$=="]("verse")?y(x,"NORMAL_SUBS"):y(x,"VERBATIM_SUBS")}();else if("raw"["$==="](be))de=function(){return P.context["$=="]("stem")?y(x,"BASIC_SUBS"):y(x,"NO_SUBS")}();else return P.subs;return t(je=P.attributes["$[]"]("subs"))?P.subs=t(l=P.$resolve_block_subs(je,de,P.context))?l:[]:P.subs=de.$drop(0),t(t(l=t(v=t(I=(U=P.context["$=="]("listing"))?P.style["$=="]("source"):P.context["$=="]("listing"))?Be=P.document.$syntax_highlighter():I)?Be["$highlight?"]():v)?Ke=P.subs.$index("specialcharacters"):l)&&(we=[Ke,"highlight"],s(P.subs,"[]=",e.to_a(we)),we[O(we.length,1)]),$},et.$$arity=0),e.def(N,"$parse_attributes",ct=function(l,v,I){var U,P=this,de=$,be=$;return P.document==null&&(P.document=$),v==null&&(v=[]),I==null&&(I=_([],{})),t(function(){return t(l)?l["$empty?"]():!0}())?_([],{}):(t(I["$[]"]("unescape_input"))&&(l=P.$normalize_text(l,!0,!0)),t(t(U=I["$[]"]("sub_input"))?l["$include?"](y(x,"ATTR_REF_HEAD")):U)&&(l=P.document.$sub_attributes(l)),t(I["$[]"]("sub_result"))&&(de=P),t(be=I["$[]"]("into"))?y(x,"AttributeList").$new(l,de).$parse_into(be,v):y(x,"AttributeList").$new(l,de).$parse(v))},ct.$$arity=-2),N.$private(),e.def(N,"$extract_attributes_from_text",it=function(l,v){var I=this,U=$,P=$,de=$;return v==null&&(v=$),U=function(){return t(l["$include?"](y(x,"LF")))?l.$tr(y(x,"LF")," "):l}(),t(P=(de=y(x,"AttributeList").$new(U,I).$parse())["$[]"](1))?P["$=="](U)?[l,de.$clear()]:[P,de]:[v,de]},it.$$arity=-2),e.def(N,"$extract_callouts",Ne=function(l){var v,I=this,U=$,P=$,de=$,be=$,je=$;return U=_([],{}),P=de=0,be=$,je=function(){return t(I["$attr?"]("line-comment"))?y(x,"CalloutExtractRxMap")["$[]"](I.$attr("line-comment")):y(x,"CalloutExtractRx")}(),l=s(l.$split(y(x,"LF"),-1),"map",[],(v=function(Be){var Ke=v.$$s||this,we;return Be==null&&(Be=$),de=u(de,1),s(Be,"gsub",[je],(we=function(){var ot=we.$$s||this,at,vt,Dt=$;return t((at=i["~"])===$?$:at["$[]"](2))?((at=i["~"])===$?$:at["$[]"](0)).$sub(y(x,"RS"),""):((t(at=U["$[]"](de))?at:(Dt=[de,[]],s(U,"[]=",e.to_a(Dt)),Dt[O(Dt.length,1)]))["$<<"]([t(at=(vt=i["~"])===$?$:vt["$[]"](1))?at:function(){return((vt=i["~"])===$?$:vt["$[]"](3))["$=="]("--")?["<!--","-->"]:$}(),function(){return((at=i["~"])===$?$:at["$[]"](4))["$=="](".")?(P=u(P,1)).$to_s():(at=i["~"])===$?$:at["$[]"](4)}()]),be=de,"")},we.$$s=Ke,we.$$arity=0,we))},v.$$s=I,v.$$arity=1,v)).$join(y(x,"LF")),t(be)?be["$=="](de)&&(l=""+l+y(x,"LF")):U=$,[l,U]},Ne.$$arity=1),e.def(N,"$restore_callouts",Se=function(l,v,I){var U,P=this,de=$,be=$;return I==null&&(I=$),t(I)?(de=l.$slice(0,I),l=l.$slice(I,l.$length())):de="",be=0,u(de,s(l.$split(y(x,"LF"),-1),"map",[],(U=function(je){var Be=U.$$s||this,Ke,we,ot,at=$,vt=$,Dt=$;return Be.document==null&&(Be.document=$),je==null&&(je=$),t(at=v.$delete(be=u(be,1)))?at.$size()["$=="](1)?(we=at["$[]"](0),Ke=e.to_ary(we),vt=Ke[0]==null?$:Ke[0],Dt=Ke[1]==null?$:Ke[1],""+je+y(x,"Inline").$new(Be,"callout",Dt,_(["id","attributes"],{id:Be.document.$callouts().$read_next_id(),attributes:_(["guard"],{guard:vt})})).$convert()):""+je+s(at,"map",[],(ot=function(bt,ce){var Ee=ot.$$s||this;return Ee.document==null&&(Ee.document=$),bt==null&&(bt=$),ce==null&&(ce=$),y(x,"Inline").$new(Ee,"callout",ce,_(["id","attributes"],{id:Ee.document.$callouts().$read_next_id(),attributes:_(["guard"],{guard:bt})})).$convert()},ot.$$s=Be,ot.$$arity=2,ot)).$join(" "):je},U.$$s=P,U.$$arity=1,U)).$join(y(x,"LF")))},Se.$$arity=-3),e.def(N,"$extract_inner_passthrough",We=function(l,v){var I,U,P=this,de=$,be=$;return P.passthroughs==null&&(P.passthroughs=$),t(t(I=t(U=l["$end_with?"]("+"))?l["$start_with?"]("+","\\+"):U)?y(x,"SinglePlusInlinePassRx")["$=~"](l):I)?t((I=i["~"])===$?$:I["$[]"](1))?""+v+"`+"+((I=i["~"])===$?$:I["$[]"](2))+"+`":(de=[be=P.passthroughs.$size(),_(["text","subs"],{text:(I=i["~"])===$?$:I["$[]"](2),subs:y(x,"BASIC_SUBS")})],s(P.passthroughs,"[]=",e.to_a(de)),de[O(de.length,1)],""+v+"`"+y(x,"PASS_START")+be+y(x,"PASS_END")+"`"):""+v+"`"+l+"`"},We.$$arity=2),e.def(N,"$convert_quoted_text",tt=function(l,v,I){var U,P=this,de=$,be=$,je=$,Be=$,Ke=$;if(t(l["$[]"](0)["$start_with?"](y(x,"RS"))))if(t((U=I["$=="]("constrained"))?de=l["$[]"](2):I["$=="]("constrained")))be="["+de+"]";else return l["$[]"](0).$slice(1,l["$[]"](0).$length());return I["$=="]("constrained")?t(be)?""+be+y(x,"Inline").$new(P,"quoted",l["$[]"](3),_(["type"],{type:v})).$convert():(t(je=l["$[]"](2))&&(Be=(Ke=P.$parse_quoted_text_attributes(je))["$[]"]("id"),v["$=="]("mark")&&(v="unquoted")),""+l["$[]"](1)+y(x,"Inline").$new(P,"quoted",l["$[]"](3),_(["type","id","attributes"],{type:v,id:Be,attributes:Ke})).$convert()):(t(je=l["$[]"](1))&&(Be=(Ke=P.$parse_quoted_text_attributes(je))["$[]"]("id"),v["$=="]("mark")&&(v="unquoted")),y(x,"Inline").$new(P,"quoted",l["$[]"](2),_(["type","id","attributes"],{type:v,id:Be,attributes:Ke})).$convert())},tt.$$arity=3),e.def(N,"$do_replacement",Qe=function(l,v,I){var U=this,P=$,de=$;return t((P=l["$[]"](0))["$include?"](y(x,"RS")))?P.$sub(y(x,"RS"),""):function(){return de=I,"none"["$==="](de)?v:"bounding"["$==="](de)?u(u(l["$[]"](1),v),l["$[]"](2)):u(l["$[]"](1),v)}()},Qe.$$arity=3),y(x,"RUBY_ENGINE")["$=="]("opal"),e.def(N,"$parse_quoted_text_attributes",nt=function(l){var v,I,U=this,P=$,de=$,be=$,je=$,Be=$,Ke=$,we=$;return t(l["$include?"](y(x,"ATTR_REF_HEAD")))&&(l=U.$sub_attributes(l)),t(l["$include?"](","))&&(l=l.$slice(0,l.$index(","))),t((l=l.$strip())["$empty?"]())?_([],{}):t(t(v=l["$start_with?"](".","#"))?y(x,"Compliance").$shorthand_property_syntax():v)?(I=l.$partition("#"),v=e.to_ary(I),P=v[0]==null?$:v[0],de=v[1]==null?$:v[1],be=v[2]==null?$:v[2],je=_([],{}),t(be["$empty?"]())?t(xe(P.$length(),1))&&(Be=["role",P.$tr("."," ").$lstrip()],s(je,"[]=",e.to_a(Be)),Be[O(Be.length,1)]):(I=be.$partition("."),v=e.to_ary(I),Ke=v[0]==null?$:v[0],de=v[1]==null?$:v[1],we=v[2]==null?$:v[2],t(Ke["$empty?"]())||(Be=["id",Ke],s(je,"[]=",e.to_a(Be)),Be[O(Be.length,1)]),t(we["$empty?"]())?t(xe(P.$length(),1))&&(Be=["role",P.$tr("."," ").$lstrip()],s(je,"[]=",e.to_a(Be)),Be[O(Be.length,1)]):t(xe(P.$length(),1))?(Be=["role",u(u(P,"."),we).$tr("."," ").$lstrip()],s(je,"[]=",e.to_a(Be)),Be[O(Be.length,1)]):(Be=["role",we.$tr("."," ")],s(je,"[]=",e.to_a(Be)),Be[O(Be.length,1)])),je):_(["role"],{role:l})},nt.$$arity=1),e.def(N,"$normalize_text",yt=function(l,v,I){var U,P=this;return v==null&&(v=$),I==null&&(I=$),t(l["$empty?"]())||(t(v)&&(l=l.$strip().$tr(y(x,"LF")," ")),t(t(U=I)?l["$include?"](y(x,"R_SB")):U)&&(l=l.$gsub(y(x,"ESC_R_SB"),y(x,"R_SB")))),l},yt.$$arity=-2),e.def(N,"$split_simple_csv",lt=function(l){var v,I,U=this,P=$,de=$,be=$;return t(l["$empty?"]())?[]:t(l["$include?"]('"'))?(P=[],de="",be=$,s(l,"each_char",[],(v=function(je){var Be=v.$$s||this,Ke=$;return je==null&&(je=$),function(){return Ke=je,","["$==="](Ke)?t(be)?de=u(de,je):(P["$<<"](de.$strip()),de=""):'"'["$==="](Ke)?be=be["$!"]():de=u(de,je)}()},v.$$s=U,v.$$arity=1,v)),P["$<<"](de.$strip())):s(l.$split(","),"map",[],(I=function(je){var Be=I.$$s||this;return je==null&&(je=$),je.$strip()},I.$$s=U,I.$$arity=1,I))},lt.$$arity=1)})(w[0],w)}($e[0],$e)},Opal.modules["asciidoctor/version"]=function(e){var u=e.top,O=[],xe=e.nil,Xe=e.const_get_qualified,ie=e.const_get_relative,A=e.breaker,$e=e.slice,$=e.module;return function(n,y){var W=$(n,"Asciidoctor"),oe=[W].concat(y);e.const_set(oe[0],"VERSION","2.0.17")}(O[0],O)},Opal.modules["asciidoctor/abstract_node"]=function(e){function u(c,t){return typeof c=="number"&&typeof t=="number"?c-t:c["$-"](t)}function O(c,t){return typeof c=="number"&&typeof t=="number"?c<t:c["$<"](t)}var xe=e.top,Xe=[],ie=e.nil,A=e.const_get_qualified,$e=e.const_get_relative,$=e.breaker,n=e.slice,y=e.module,W=e.klass,oe=e.hash2,b=e.truthy,_=e.send;return e.add_stubs(["$include","$attr_reader","$attr_accessor","$==","$document","$to_s","$[]","$merge","$raise","$converter","$attributes","$key?","$[]=","$-","$delete","$tap","$new","$each_key","$end_with?","$<<","$slice","$length","$update","$split","$include?","$===","$join","$empty?","$apply_reftext_subs","$attr?","$attr","$extname?","$image_uri","$<","$safe","$uriish?","$encode_spaces_in_uri","$normalize_web_path","$generate_data_uri_from_uri","$generate_data_uri","$extname","$normalize_system_path","$readable?","$strict_encode64","$binread","$warn","$logger","$require_library","$!","$open_uri","$content_type","$read","$base_dir","$root?","$path_resolver","$system_path","$web_path","$!=","$prepare_source_string","$fetch","$read_asset"]),function(c,t){var s=y(c,"Asciidoctor"),i=[s].concat(t);(function(j,h,g){var w=W(j,h,"AbstractNode"),C=[w].concat(g),F,N,x,f,L,ae,Pe,Ie,ue,S,d,m,p,z,Z,re,ye,q,ee,V,_e,Me,Te,et,ct,it,Ne,Se,We,tt,Qe,nt,yt;return w.$$prototype.document=w.$$prototype.attributes=w.$$prototype.parent=ie,w.$include($e(C,"Logging")),w.$include($e(C,"Substitutors")),w.$attr_reader("attributes"),w.$attr_reader("context"),w.$attr_reader("document"),w.$attr_accessor("id"),w.$attr_reader("node_name"),w.$attr_reader("parent"),e.def(w,"$initialize",F=function(K,l,v){var I=this,U=ie;return v==null&&(v=oe([],{})),l["$=="]("document")?I.document=I:b(K)&&(I.document=(I.parent=K).$document()),I.node_name=(I.context=l).$to_s(),I.attributes=function(){return b(U=v["$[]"]("attributes"))?U.$merge():oe([],{})}(),I.passthroughs=[]},F.$$arity=-3),e.def(w,"$block?",N=function(){var lt=this;return lt.$raise(A("::","NotImplementedError"))},N.$$arity=0),e.def(w,"$inline?",x=function(){var lt=this;return lt.$raise(A("::","NotImplementedError"))},x.$$arity=0),e.def(w,"$converter",f=function(){var K=this;return K.document.$converter()},f.$$arity=0),e.def(w,"$parent=",L=function(lt){var K,l=this;return K=[lt,lt.$document()],l.parent=K[0],l.document=K[1],K},L.$$arity=1),e.def(w,"$attr",ae=function(K,l,v){var I,U,P,de,be=this;return l==null&&(l=ie),v==null&&(v=ie),b(I=be.attributes["$[]"](K.$to_s()))?I:b(U=b(P=b(de=v)?be.parent:de)?be.document.$attributes()["$[]"](function(){return v["$=="](!0)?K:v}().$to_s()):P)?U:l},ae.$$arity=-2),e.def(w,"$attr?",Pe=function(lt,K,l){var v,I,U=this;return K==null&&(K=ie),l==null&&(l=ie),b(K)?K["$=="](b(v=U.attributes["$[]"](lt.$to_s()))?v:function(){return b(b(I=l)?U.parent:I)?U.document.$attributes()["$[]"](function(){return l["$=="](!0)?lt:l}().$to_s()):ie}()):b(v=U.attributes["$key?"](lt.$to_s()))?v:function(){return b(b(I=l)?U.parent:I)?U.document.$attributes()["$key?"](function(){return l["$=="](!0)?lt:l}().$to_s()):!1}()},Pe.$$arity=-2),e.def(w,"$set_attr",Ie=function(K,l,v){var I,U=this,P=ie;return l==null&&(l=""),v==null&&(v=!0),b((I=v["$=="](!1))?U.attributes["$key?"](K):v["$=="](!1))?!1:(P=[K,l],_(U.attributes,"[]=",e.to_a(P)),P[u(P.length,1)],!0)},Ie.$$arity=-2),e.def(w,"$remove_attr",ue=function(K){var l=this;return l.attributes.$delete(K)},ue.$$arity=1),e.def(w,"$option?",S=function(lt){var K=this;return!!b(K.attributes["$[]"](""+lt+"-option"))},S.$$arity=1),e.def(w,"$set_option",d=function(K){var l=this,v=ie;return v=[""+K+"-option",""],_(l.attributes,"[]=",e.to_a(v)),v[u(v.length,1)],ie},d.$$arity=1),e.def(w,"$enabled_options",m=function(){var K,l=this;return _(A("::","Set").$new(),"tap",[],(K=function(v){var I=K.$$s||this,U;return I.attributes==null&&(I.attributes=ie),v==null&&(v=ie),_(I.attributes,"each_key",[],(U=function(P){var de=U.$$s||this;return P==null&&(P=ie),b(P.$to_s()["$end_with?"]("-option"))?v["$<<"](P.$slice(0,u(P.$length(),7))):ie},U.$$s=I,U.$$arity=1,U))},K.$$s=l,K.$$arity=1,K))},m.$$arity=0),e.def(w,"$update_attributes",p=function(K){var l=this;return l.attributes.$update(K)},p.$$arity=1),e.def(w,"$role",z=function(){var K=this;return K.attributes["$[]"]("role")},z.$$arity=0),e.def(w,"$roles",Z=function(){var K=this,l=ie;return b(l=K.attributes["$[]"]("role"))?l.$split():[]},Z.$$arity=0),e.def(w,"$role?",re=function(lt){var K=this;return lt==null&&(lt=ie),b(lt)?lt["$=="](K.attributes["$[]"]("role")):K.attributes["$key?"]("role")},re.$$arity=-1),e.def(w,"$has_role?",ye=function(lt){var K=this,l=ie;return b(l=K.attributes["$[]"]("role"))?(" "+l+" ")["$include?"](" "+lt+" "):!1},ye.$$arity=1),e.def(w,"$role=",q=function(lt){var K=this,l=ie;return l=["role",function(){return b(A("::","Array")["$==="](lt))?lt.$join(" "):lt}()],_(K.attributes,"[]=",e.to_a(l)),l[u(l.length,1)]},q.$$arity=1),e.def(w,"$add_role",ee=function(K){var l=this,v=ie,I=ie;return b(v=l.attributes["$[]"]("role"))?b((" "+v+" ")["$include?"](" "+K+" "))?!1:(I=["role",""+v+" "+K],_(l.attributes,"[]=",e.to_a(I)),I[u(I.length,1)],!0):(I=["role",K],_(l.attributes,"[]=",e.to_a(I)),I[u(I.length,1)],!0)},ee.$$arity=1),e.def(w,"$remove_role",V=function(K){var l,v=this,I=ie,U=ie;return b(b(l=I=v.attributes["$[]"]("role"))?(I=I.$split()).$delete(K):l)?(b(I["$empty?"]())?v.attributes.$delete("role"):(U=["role",I.$join(" ")],_(v.attributes,"[]=",e.to_a(U)),U[u(U.length,1)]),!0):!1},V.$$arity=1),e.def(w,"$reftext",_e=function(){var K=this,l=ie;return b(l=K.attributes["$[]"]("reftext"))?K.$apply_reftext_subs(l):ie},_e.$$arity=0),e.def(w,"$reftext?",Me=function(){var lt=this;return lt.attributes["$key?"]("reftext")},Me.$$arity=0),e.def(w,"$icon_uri",Te=function(K){var l=this,v=ie;return b(l["$attr?"]("icon"))?(v=l.$attr("icon"),b($e(C,"Helpers")["$extname?"](v))||(v=""+v+"."+l.document.$attr("icontype","png"))):v=""+K+"."+l.document.$attr("icontype","png"),l.$image_uri(v,"iconsdir")},Te.$$arity=1),e.def(w,"$image_uri",et=function(K,l){var v,I,U,P,de=this,be=ie,je=ie;return l==null&&(l="imagesdir"),b(b(v=O((be=de.document).$safe(),A($e(C,"SafeMode"),"SECURE")))?be["$attr?"]("data-uri"):v)?b(b(v=b(I=$e(C,"Helpers")["$uriish?"](K))?K=$e(C,"Helpers").$encode_spaces_in_uri(K):I)?v:b(I=b(U=b(P=l)?je=be.$attr(l):P)?$e(C,"Helpers")["$uriish?"](je):U)?K=de.$normalize_web_path(K,je,!1):I)?b(be["$attr?"]("allow-uri-read"))?de.$generate_data_uri_from_uri(K,be["$attr?"]("cache-uri")):K:de.$generate_data_uri(K,l):de.$normalize_web_path(K,function(){return b(l)?be.$attr(l):ie}())},et.$$arity=-2),e.def(w,"$media_uri",ct=function(K,l){var v=this;return l==null&&(l="imagesdir"),v.$normalize_web_path(K,function(){return b(l)?v.document.$attr(l):ie}())},ct.$$arity=-2),e.def(w,"$generate_data_uri",it=function(K,l){var v=this,I=ie,U=ie,P=ie;return l==null&&(l=ie),b(I=$e(C,"Helpers").$extname(K,ie))?U=function(){return I["$=="](".svg")?"image/svg+xml":"image/"+I.$slice(1,I.$length())}():U="application/octet-stream",b(l)?P=v.$normalize_system_path(K,v.document.$attr(l),ie,oe(["target_name"],{target_name:"image"})):P=v.$normalize_system_path(K),b(A("::","File")["$readable?"](P))?"data:"+U+";base64,"+A("::","Base64").$strict_encode64(A("::","File").$binread(P)):(v.$logger().$warn("image to embed not found or not readable: "+P),"data:"+U+";base64,")},it.$$arity=-2),e.def(w,"$generate_data_uri_from_uri",Ne=function(K,l){var v,I,U,P=this,de=ie,be=ie;l==null&&(l=!1),b(l)?$e(C,"Helpers").$require_library("open-uri/cached","open-uri-cached"):b($e(C,"RUBY_ENGINE_OPAL")["$!"]())&&A("::","OpenURI");try{return I=_(A("::","OpenURI"),"open_uri",[K,$e(C,"URI_READ_MODE")],(U=function(je){var Be=U.$$s||this;return je==null&&(je=ie),[je.$content_type(),je.$read()]},U.$$s=P,U.$$arity=1,U)),v=e.to_ary(I),de=v[0]==null?ie:v[0],be=v[1]==null?ie:v[1],"data:"+de+";base64,"+A("::","Base64").$strict_encode64(be)}catch(je){if(e.rescue(je,[$e(C,"StandardError")]))try{return P.$logger().$warn("could not retrieve image data from URI: "+K),K}finally{e.pop_exception()}else throw je}},Ne.$$arity=-2),e.def(w,"$normalize_asset_path",Se=function(K,l,v){var I=this;return l==null&&(l="path"),v==null&&(v=!0),I.$normalize_system_path(K,I.document.$base_dir(),ie,oe(["target_name","recover"],{target_name:l,recover:v}))},Se.$$arity=-2),e.def(w,"$normalize_system_path",We=function(K,l,v,I){var U,P=this,de=ie;return l==null&&(l=ie),v==null&&(v=ie),I==null&&(I=oe([],{})),b(O((de=P.document).$safe(),A($e(C,"SafeMode"),"SAFE")))?b(l)?b(de.$path_resolver()["$root?"](l))||(l=A("::","File").$join(de.$base_dir(),l)):l=de.$base_dir():(l=b(U=l)?U:de.$base_dir(),v=b(U=v)?U:de.$base_dir()),de.$path_resolver().$system_path(K,l,v,I)},We.$$arity=-2),e.def(w,"$normalize_web_path",tt=function(K,l,v){var I,U=this;return l==null&&(l=ie),v==null&&(v=!0),b(b(I=v)?$e(C,"Helpers")["$uriish?"](K):I)?$e(C,"Helpers").$encode_spaces_in_uri(K):U.document.$path_resolver().$web_path(K,l)},tt.$$arity=-2),e.def(w,"$read_asset",Qe=function(K,l){var v,I=this;return l==null&&(l=oe([],{})),b(A("::","Hash")["$==="](l))||(l=oe(["warn_on_failure"],{warn_on_failure:l["$!="](!1)})),b(A("::","File")["$readable?"](K))?b(l["$[]"]("normalize"))?$e(C,"Helpers").$prepare_source_string(A("::","File").$read(K,oe(["mode"],{mode:$e(C,"FILE_READ_MODE")}))).$join($e(C,"LF")):A("::","File").$read(K,oe(["mode"],{mode:$e(C,"FILE_READ_MODE")})):(b(l["$[]"]("warn_on_failure"))&&I.$logger().$warn(""+(b(v=I.$attr("docfile"))?v:"<stdin>")+": "+(b(v=l["$[]"]("label"))?v:"file")+" does not exist or cannot be read: "+K),ie)},Qe.$$arity=-2),e.def(w,"$read_contents",nt=function(K,l){var v,I,U,P,de,be=this,je=ie,Be=ie,Ke=ie;if(l==null&&(l=oe([],{})),je=be.document,b(b(v=$e(C,"Helpers")["$uriish?"](K))?v:b(I=b(U=Be=l["$[]"]("start"))?$e(C,"Helpers")["$uriish?"](Be):U)?K=je.$path_resolver().$web_path(K,Be):I))if(b(je["$attr?"]("allow-uri-read"))){b(je["$attr?"]("cache-uri"))&&$e(C,"Helpers").$require_library("open-uri/cached","open-uri-cached");try{b(l["$[]"]("normalize"))?Ke=$e(C,"Helpers").$prepare_source_string(_(A("::","OpenURI"),"open_uri",[K,$e(C,"URI_READ_MODE")],(P=function(we){var ot=P.$$s||this;return we==null&&(we=ie),we.$read()},P.$$s=be,P.$$arity=1,P))).$join($e(C,"LF")):Ke=_(A("::","OpenURI"),"open_uri",[K,$e(C,"URI_READ_MODE")],(de=function(we){var ot=de.$$s||this;return we==null&&(we=ie),we.$read()},de.$$s=be,de.$$arity=1,de))}catch(we){if(e.rescue(we,[$e(C,"StandardError")]))try{b(l.$fetch("warn_on_failure",!0))&&be.$logger().$warn("could not retrieve contents of "+(b(v=l["$[]"]("label"))?v:"asset")+" at URI: "+K)}finally{e.pop_exception()}else throw we}}else b(l.$fetch("warn_on_failure",!0))&&be.$logger().$warn("cannot retrieve contents of "+(b(v=l["$[]"]("label"))?v:"asset")+" at URI: "+K+" (allow-uri-read attribute not enabled)");else K=be.$normalize_system_path(K,l["$[]"]("start"),ie,oe(["target_name"],{target_name:b(v=l["$[]"]("label"))?v:"asset"})),Ke=be.$read_asset(K,oe(["normalize","warn_on_failure","label"],{normalize:l["$[]"]("normalize"),warn_on_failure:l.$fetch("warn_on_failure",!0),label:l["$[]"]("label")}));return b(b(v=b(I=Ke)?l["$[]"]("warn_if_empty"):I)?Ke["$empty?"]():v)&&be.$logger().$warn("contents of "+(b(v=l["$[]"]("label"))?v:"asset")+" is empty: "+K),Ke},nt.$$arity=-2),e.def(w,"$is_uri?",yt=function(lt){var K=this;return $e(C,"Helpers")["$uriish?"](lt)},yt.$$arity=1),ie&&"is_uri?"})(i[0],null,i)}(Xe[0],Xe)},Opal.modules["asciidoctor/abstract_block"]=function(e){function u(c,t){return typeof c=="number"&&typeof t=="number"?c-t:c["$-"](t)}function O(c,t){return typeof c=="number"&&typeof t=="number"?c+t:c["$+"](t)}var xe=e.top,Xe=[],ie=e.nil,A=e.const_get_qualified,$e=e.const_get_relative,$=e.breaker,n=e.slice,y=e.module,W=e.klass,oe=e.hash2,b=e.send,_=e.truthy;return e.add_stubs(["$attr_reader","$attr_writer","$attr_accessor","$==","$===","$level","$file","$lineno","$playback_attributes","$convert","$converter","$join","$map","$to_s","$parent","$parent=","$-","$<<","$empty?","$Integer","$find_by_internal","$to_proc","$context","$[]","$items","$+","$find_index","$include?","$next_adjacent_block","$blocks","$select","$sub_specialchars","$match?","$sub_replacements","$title","$apply_title_subs","$delete","$reftext","$!","$nil_or_empty?","$sub_placeholder","$sub_quotes","$compat_mode","$attributes","$chomp","$increment_and_store_counter","$index=","$numbered","$sectname","$counter","$numeral=","$numeral","$caption=","$int_to_roman","$each","$assign_numeral","$reindex_sections","$protected","$has_role?","$raise","$header?","$!=","$flatten","$head","$rows","$merge","$body","$foot","$style","$inner_document"]),function(c,t){var s=y(c,"Asciidoctor"),i=[s].concat(t);(function(j,h,g){var w=W(j,h,"AbstractBlock"),C=[w].concat(g),F,N,x,f,L,ae,Pe,Ie,ue,S,d,m,p,z,Z,re,ye,q,ee,V,_e,Me,Te,et,ct,it,Ne,Se,We,tt;return w.$$prototype.source_location=w.$$prototype.document=w.$$prototype.attributes=w.$$prototype.blocks=w.$$prototype.numeral=w.$$prototype.context=w.$$prototype.parent=w.$$prototype.caption=w.$$prototype.style=w.$$prototype.converted_title=w.$$prototype.title=w.$$prototype.subs=w.$$prototype.next_section_index=w.$$prototype.next_section_ordinal=w.$$prototype.id=w.$$prototype.header=ie,w.$attr_reader("blocks"),w.$attr_writer("caption"),w.$attr_accessor("content_model"),w.$attr_accessor("level"),w.$attr_accessor("numeral"),w.$attr_accessor("source_location"),w.$attr_accessor("style"),w.$attr_reader("subs"),e.def(w,"$initialize",F=function(nt,yt,lt){var K,l=F.$$p,v=l||ie,I=this,U=ie,P=ie,de=ie;for(l&&(F.$$p=null),P=0,de=arguments.length,U=new Array(de);P<de;P++)U[P]=arguments[P];return lt==null&&(lt=oe([],{})),b(I,e.find_super_dispatcher(I,"initialize",F,!1),U,l),I.content_model="compound",I.blocks=[],I.subs=[],I.id=I.title=I.caption=I.numeral=I.style=I.default_subs=I.source_location=ie,_(_(K=yt["$=="]("document"))?K:yt["$=="]("section"))?(I.level=I.next_section_index=0,I.next_section_ordinal=1):_($e(C,"AbstractBlock")["$==="](nt))?I.level=nt.$level():I.level=ie},F.$$arity=-3),e.def(w,"$block?",N=function(){var Qe=this;return!0},N.$$arity=0),e.def(w,"$inline?",x=function(){var Qe=this;return!1},x.$$arity=0),e.def(w,"$file",f=function(){var nt,yt=this;return _(nt=yt.source_location)?yt.source_location.$file():nt},f.$$arity=0),e.def(w,"$lineno",L=function(){var nt,yt=this;return _(nt=yt.source_location)?yt.source_location.$lineno():nt},L.$$arity=0),e.def(w,"$convert",ae=function(){var nt=this;return nt.document.$playback_attributes(nt.attributes),nt.$converter().$convert(nt)},ae.$$arity=0),e.alias(w,"render","convert"),e.def(w,"$content",Pe=function(){var nt,yt=this;return b(yt.blocks,"map",[],(nt=function(lt){var K=nt.$$s||this;return lt==null&&(lt=ie),lt.$convert()},nt.$$s=yt,nt.$$arity=1,nt)).$join($e(C,"LF"))},Pe.$$arity=0),e.def(w,"$context=",Ie=function(Qe){var nt=this;return nt.node_name=(nt.context=Qe).$to_s()},Ie.$$arity=1),e.def(w,"$<<",ue=function(Qe){var nt=this,yt=ie;return Qe.$parent()["$=="](nt)||(yt=[nt],b(Qe,"parent=",e.to_a(yt)),yt[u(yt.length,1)]),nt.blocks["$<<"](Qe),nt},ue.$$arity=1),e.alias(w,"append","<<"),e.def(w,"$blocks?",S=function(){var Qe=this;return!_(Qe.blocks["$empty?"]())},S.$$arity=0),e.def(w,"$sections?",d=function(){var Qe=this;return!1},d.$$arity=0),e.def(w,"$number",m=function(){var nt=this;try{return nt.$Integer(nt.numeral)}catch(yt){if(e.rescue(yt,[$e(C,"StandardError")]))try{return nt.numeral}finally{e.pop_exception()}else throw yt}},m.$$arity=0),e.def(w,"$number=",p=function(Qe){var nt=this;return nt.numeral=Qe.$to_s()},p.$$arity=1),e.def(w,"$find_by",z=function(nt){var yt=z.$$p,lt=yt||ie,K=this,l=ie;yt&&(z.$$p=null),yt&&(z.$$p=null),nt==null&&(nt=oe([],{}));try{return b(K,"find_by_internal",[nt,l=[]],lt.$to_proc())}catch(v){if(e.rescue(v,[A("::","StopIteration")]))try{return l}finally{e.pop_exception()}else throw v}},z.$$arity=-1),e.alias(w,"query","find_by"),e.def(w,"$next_adjacent_block",Z=function(){var nt,yt,lt=this,K=ie,l=ie;return lt.context["$=="]("document")?ie:_((nt=(K=lt.parent).$context()["$=="]("dlist"))?lt.context["$=="]("list_item"):(K=lt.parent).$context()["$=="]("dlist"))?_(l=K.$items()["$[]"](O(b(K.$items(),"find_index",[],(yt=function(v,I){var U=yt.$$s||this,P;return v==null&&(v=ie),I==null&&(I=ie),_(P=v["$include?"](U))?P:I["$=="](U)},yt.$$s=lt,yt.$$arity=2,yt)),1)))?l:K.$next_adjacent_block():_(l=K.$blocks()["$[]"](O(K.$blocks().$find_index(lt),1)))?l:K.$next_adjacent_block()},Z.$$arity=0),e.def(w,"$sections",re=function(){var nt,yt=this;return b(yt.blocks,"select",[],(nt=function(lt){var K=nt.$$s||this;return lt==null&&(lt=ie),lt.$context()["$=="]("section")},nt.$$s=yt,nt.$$arity=1,nt))},re.$$arity=0),e.def(w,"$alt",ye=function(){var nt=this,yt=ie;return _(yt=nt.attributes["$[]"]("alt"))?yt["$=="](nt.attributes["$[]"]("default-alt"))?nt.$sub_specialchars(yt):(yt=nt.$sub_specialchars(yt),_($e(C,"ReplaceableTextRx")["$match?"](yt))?nt.$sub_replacements(yt):yt):""},ye.$$arity=0),e.def(w,"$caption",q=function(){var nt=this;return nt.context["$=="]("admonition")?nt.attributes["$[]"]("textlabel"):nt.caption},q.$$arity=0),e.def(w,"$captioned_title",ee=function(){var nt=this;return""+nt.caption+nt.$title()},ee.$$arity=0),e.def(w,"$list_marker_keyword",V=function(nt){var yt,lt=this;return nt==null&&(nt=ie),$e(C,"ORDERED_LIST_KEYWORDS")["$[]"](_(yt=nt)?yt:lt.style)},V.$$arity=-1),e.def(w,"$title",_e=function(){var nt,yt,lt=this;return lt.converted_title=_(nt=lt.converted_title)?nt:_(yt=lt.title)?lt.$apply_title_subs(lt.title):yt},_e.$$arity=0),e.def(w,"$title?",Me=function(){var Qe=this;return!!_(Qe.title)},Me.$$arity=0),e.def(w,"$title=",Te=function(Qe){var nt=this;return nt.converted_title=ie,nt.title=Qe},Te.$$arity=1),e.def(w,"$sub?",et=function(Qe){var nt=this;return nt.subs["$include?"](Qe)},et.$$arity=1),e.def(w,"$remove_sub",ct=function(nt){var yt=this;return yt.subs.$delete(nt),ie},ct.$$arity=1),e.def(w,"$xreftext",it=function(nt){var yt,lt,K=this,l=ie,v=ie,I=ie,U=ie,P=ie;return nt==null&&(nt=ie),_(_(yt=l=K.$reftext())?l["$empty?"]()["$!"]():yt)?l:_(_(yt=_(lt=nt)?K.title:lt)?K.caption["$nil_or_empty?"]()["$!"]():yt)?function(){return v=nt,"full"["$==="](v)?(I=K.$sub_placeholder(K.$sub_quotes(function(){return _(K.document.$compat_mode())?"``%s''":'"`%s`"'}()),K.$title()),_(_(yt=_(lt=K.numeral)?U=$e(C,"CAPTION_ATTRIBUTE_NAMES")["$[]"](K.context):lt)?P=K.document.$attributes()["$[]"](U):yt)?""+P+" "+K.numeral+", "+I:""+K.caption.$chomp(". ")+", "+I):"short"["$==="](v)?_(_(yt=_(lt=K.numeral)?U=$e(C,"CAPTION_ATTRIBUTE_NAMES")["$[]"](K.context):lt)?P=K.document.$attributes()["$[]"](U):yt)?""+P+" "+K.numeral:K.caption.$chomp(". "):K.$title()}():K.$title()},it.$$arity=-1),e.def(w,"$assign_caption",Ne=function(nt,yt){var lt,K,l=this,v=ie,I=ie;return yt==null&&(yt=l.context),_(_(lt=_(K=l.caption)?K:l.title["$!"]())?lt:l.caption=_(K=nt)?K:l.document.$attributes()["$[]"]("caption"))||_(_(lt=v=$e(C,"CAPTION_ATTRIBUTE_NAMES")["$[]"](yt))?I=l.document.$attributes()["$[]"](v):lt)&&(l.caption=""+I+" "+(l.numeral=l.document.$increment_and_store_counter(""+yt+"-number",l))+". "),ie},Ne.$$arity=-2),e.def(w,"$assign_numeral",Se=function(nt){var yt,lt=this,K=ie,l=ie,v=ie,I=ie;return lt.next_section_index=O((K=[lt.next_section_index],b(nt,"index=",e.to_a(K)),K[u(K.length,1)]),1),_(l=nt.$numbered())&&((v=nt.$sectname())["$=="]("appendix")?(K=[lt.document.$counter("appendix-number","A")],b(nt,"numeral=",e.to_a(K)),K[u(K.length,1)],K=[function(){return _(I=lt.document.$attributes()["$[]"]("appendix-caption"))?""+I+" "+nt.$numeral()+": ":""+nt.$numeral()+". "}()],b(nt,"caption=",e.to_a(K)),K[u(K.length,1)]):_(_(yt=v["$=="]("chapter"))?yt:l["$=="]("chapter"))?(K=[lt.document.$counter("chapter-number",1).$to_s()],b(nt,"numeral=",e.to_a(K)),K[u(K.length,1)]):(K=[function(){return v["$=="]("part")?$e(C,"Helpers").$int_to_roman(lt.next_section_ordinal):lt.next_section_ordinal.$to_s()}()],b(nt,"numeral=",e.to_a(K)),K[u(K.length,1)],lt.next_section_ordinal=O(lt.next_section_ordinal,1))),ie},Se.$$arity=1),e.def(w,"$reindex_sections",We=function(){var nt,yt=this;return yt.next_section_index=0,yt.next_section_ordinal=1,b(yt.blocks,"each",[],(nt=function(lt){var K=nt.$$s||this;return lt==null&&(lt=ie),lt.$context()["$=="]("section")?(K.$assign_numeral(lt),lt.$reindex_sections()):ie},nt.$$s=yt,nt.$$arity=1,nt))},We.$$arity=0),w.$protected(),e.def(w,"$find_by_internal",tt=function(nt,yt){var lt=tt.$$p,K=lt||ie,l,v,I,U,P,de,be,je,Be,Ke,we=this,ot=ie,at=ie,vt=ie,Dt=ie,bt=ie,ce=ie,Ee=ie;if(lt&&(tt.$$p=null),lt&&(tt.$$p=null),nt==null&&(nt=oe([],{})),yt==null&&(yt=[]),_(_(l=_(v=_(I=_(U=ot=function(){return _(at=nt["$[]"]("context"))?ie:!0}())?U:at["$=="](we.context))?_(U=(vt=nt["$[]"]("style"))["$!"]())?U:vt["$=="](we.style):I)?_(I=(Dt=nt["$[]"]("role"))["$!"]())?I:we["$has_role?"](Dt):v)?_(v=(bt=nt["$[]"]("id"))["$!"]())?v:bt["$=="](we.id):l))if(K!==ie)if(_(ce=e.yield1(K,we))){if(Ee=ce,"prune"["$==="](Ee))return yt["$<<"](we),_(bt)&&we.$raise(A("::","StopIteration")),yt;if("reject"["$==="](Ee))return _(bt)&&we.$raise(A("::","StopIteration")),yt;"stop"["$==="](Ee)?we.$raise(A("::","StopIteration")):(yt["$<<"](we),_(bt)&&we.$raise(A("::","StopIteration")))}else _(bt)&&we.$raise(A("::","StopIteration"));else yt["$<<"](we),_(bt)&&we.$raise(A("::","StopIteration"));return Ee=we.context,"document"["$==="](Ee)?at["$=="]("document")||(_(_(l=we["$header?"]())?_(v=ot)?v:at["$=="]("section"):l)&&b(we.header,"find_by_internal",[nt,yt],K.$to_proc()),b(we.blocks,"each",[],(P=function(fe){var o=P.$$s||this,H;return fe==null&&(fe=ie),_((H=at["$=="]("section"))?fe.$context()["$!="]("section"):at["$=="]("section"))?ie:b(fe,"find_by_internal",[nt,yt],K.$to_proc())},P.$$s=we,P.$$arity=1,P))):"dlist"["$==="](Ee)?_(_(l=ot)?l:at["$!="]("section"))&&b(we.blocks.$flatten(),"each",[],(de=function(fe){var o=de.$$s||this;return fe==null&&(fe=ie),_(fe)?b(fe,"find_by_internal",[nt,yt],K.$to_proc()):ie},de.$$s=we,de.$$arity=1,de)):"table"["$==="](Ee)?_(nt["$[]"]("traverse_documents"))?(b(we.$rows().$head(),"each",[],(be=function(fe){var o=be.$$s||this,H;return fe==null&&(fe=ie),b(fe,"each",[],(H=function(Y){var Q=H.$$s||this;return Y==null&&(Y=ie),b(Y,"find_by_internal",[nt,yt],K.$to_proc())},H.$$s=o,H.$$arity=1,H))},be.$$s=we,be.$$arity=1,be)),at["$=="]("inner_document")&&(nt=nt.$merge(oe(["context"],{context:"document"}))),b(O(we.$rows().$body(),we.$rows().$foot()),"each",[],(je=function(fe){var o=je.$$s||this,H;return fe==null&&(fe=ie),b(fe,"each",[],(H=function(Y){var Q=H.$$s||this;return Y==null&&(Y=ie),b(Y,"find_by_internal",[nt,yt],K.$to_proc()),Y.$style()["$=="]("asciidoc")?b(Y.$inner_document(),"find_by_internal",[nt,yt],K.$to_proc()):ie},H.$$s=o,H.$$arity=1,H))},je.$$s=we,je.$$arity=1,je))):b(O(O(we.$rows().$head(),we.$rows().$body()),we.$rows().$foot()),"each",[],(Be=function(fe){var o=Be.$$s||this,H;return fe==null&&(fe=ie),b(fe,"each",[],(H=function(Y){var Q=H.$$s||this;return Y==null&&(Y=ie),b(Y,"find_by_internal",[nt,yt],K.$to_proc())},H.$$s=o,H.$$arity=1,H))},Be.$$s=we,Be.$$arity=1,Be)):b(we.blocks,"each",[],(Ke=function(fe){var o=Ke.$$s||this,H;return fe==null&&(fe=ie),_((H=at["$=="]("section"))?fe.$context()["$!="]("section"):at["$=="]("section"))?ie:b(fe,"find_by_internal",[nt,yt],K.$to_proc())},Ke.$$s=we,Ke.$$arity=1,Ke)),yt},tt.$$arity=-1),ie&&"find_by_internal"})(i[0],$e(i,"AbstractNode"),i)}(Xe[0],Xe)},Opal.modules["asciidoctor/attribute_list"]=function(e){function u(s,i){return typeof s=="number"&&typeof i=="number"?s+i:s["$+"](i)}function O(s,i){return typeof s=="number"&&typeof i=="number"?s-i:s["$-"](i)}function xe(s,i){return typeof s=="number"&&typeof i=="number"?s*i:s["$*"](i)}var Xe=e.top,ie=[],A=e.nil,$e=e.const_get_qualified,$=e.const_get_relative,n=e.breaker,y=e.slice,W=e.module,oe=e.klass,b=e.hash,_=e.hash2,c=e.truthy,t=e.send;return e.add_stubs(["$new","$[]","$update","$parse","$parse_attribute","$eos?","$skip_delimiter","$+","$rekey","$each_with_index","$[]=","$-","$private","$skip_blank","$peek","$===","$parse_attribute_value","$get_byte","$start_with?","$scan_name","$end_with?","$rstrip","$string","$==","$unscan","$scan_to_delimiter","$*","$include?","$delete","$each","$split","$empty?","$apply_subs","$scan_to_quote","$gsub","$skip","$scan"]),function(s,i){var j=W(s,"Asciidoctor"),h=[j].concat(i);(function(g,w,C){var F=oe(g,w,"AttributeList"),N=[F].concat(C),x,f,L,ae,Pe,Ie,ue,S,d,m,p,z;return F.$$prototype.attributes=F.$$prototype.scanner=F.$$prototype.delimiter=F.$$prototype.block=F.$$prototype.delimiter_skip_pattern=F.$$prototype.delimiter_boundary_pattern=A,e.const_set(N[0],"APOS","'"),e.const_set(N[0],"BACKSLASH","\\"),e.const_set(N[0],"QUOT",'"'),e.const_set(N[0],"BoundaryRx",b($(N,"QUOT"),/.*?[^\\](?=")/,$(N,"APOS"),/.*?[^\\](?=')/,",",/.*?(?=[ \t]*(,|$))/)),e.const_set(N[0],"EscapedQuotes",b($(N,"QUOT"),'\\"',$(N,"APOS"),"\\'")),e.const_set(N[0],"NameRx",new RegExp(""+$(N,"CG_WORD")+"["+$(N,"CC_WORD")+"\\-.]*")),e.const_set(N[0],"BlankRx",/[ \t]+/),e.const_set(N[0],"SkipRx",_([","],{",":/[ \t]*(,|$)/})),e.def(F,"$initialize",x=function(re,ye,q){var ee=this;return ye==null&&(ye=A),q==null&&(q=","),ee.scanner=$e("::","StringScanner").$new(re),ee.block=ye,ee.delimiter=q,ee.delimiter_skip_pattern=$(N,"SkipRx")["$[]"](q),ee.delimiter_boundary_pattern=$(N,"BoundaryRx")["$[]"](q),ee.attributes=A},x.$$arity=-2),e.def(F,"$parse_into",f=function(re,ye){var q=this;return ye==null&&(ye=[]),re.$update(q.$parse(ye))},f.$$arity=-2),e.def(F,"$parse",L=function(re){var ye,q=this,ee=A;if(re==null&&(re=[]),c(q.attributes))return q.attributes;for(q.attributes=_([],{}),ee=0;c(q.$parse_attribute(ee,re))&&!c(q.scanner["$eos?"]());)q.$skip_delimiter(),ee=u(ee,1);return q.attributes},L.$$arity=-1),e.def(F,"$rekey",ae=function(re){var ye=this;return $(N,"AttributeList").$rekey(ye.attributes,re)},ae.$$arity=1),e.defs(F,"$rekey",Pe=function(re,ye){var q,ee=this;return t(ye,"each_with_index",[],(q=function(V,_e){var Me=q.$$s||this,Te,et=A,ct=A;return V==null&&(V=A),_e==null&&(_e=A),c(c(Te=V)?et=re["$[]"](u(_e,1)):Te)?(ct=[V,et],t(re,"[]=",e.to_a(ct)),ct[O(ct.length,1)]):A},q.$$s=ee,q.$$arity=2,q)),re},Pe.$$arity=2),F.$private(),e.def(F,"$parse_attribute",Ie=function(re,ye){var q,ee,V,_e=this,Me=A,Te=A,et=A,ct=A,it=A,Ne=A,Se=A,We=A,tt=A;if(Me=!0,_e.$skip_blank(),Te=_e.scanner.$peek(1),$(N,"QUOT")["$==="](Te))et=_e.$parse_attribute_value(_e.scanner.$get_byte());else if($(N,"APOS")["$==="](Te))et=_e.$parse_attribute_value(_e.scanner.$get_byte()),c(et["$start_with?"]($(N,"APOS")))||(ct=!0);else if(it=c(q=c(ee=et=_e.$scan_name())?_e.$skip_blank():ee)?q:0,c(_e.scanner["$eos?"]())){if(!c(c(q=et)?q:_e.scanner.$string().$rstrip()["$end_with?"](_e.delimiter)))return A;Me=A}else if((Ne=_e.scanner.$get_byte())["$=="](_e.delimiter))_e.scanner.$unscan();else if(c(et))if(Ne["$=="]("=")){if(_e.$skip_blank(),Te=Ne=_e.scanner.$get_byte(),$(N,"QUOT")["$==="](Te))Se=_e.$parse_attribute_value(Ne);else if($(N,"APOS")["$==="](Te))Se=_e.$parse_attribute_value(Ne),c(Se["$start_with?"]($(N,"APOS")))||(ct=!0);else if(_e.delimiter["$==="](Te))Se="",_e.scanner.$unscan();else if(A["$==="](Te))Se="";else if(Se=""+Ne+_e.$scan_to_delimiter(),Se["$=="]("None"))return!0}else et=""+et+xe(" ",it)+Ne+_e.$scan_to_delimiter();else et=""+Ne+_e.$scan_to_delimiter();return c(Se)?(Te=et,"options"["$==="](Te)||"opts"["$==="](Te)?c(Se["$include?"](","))?(c(Se["$include?"](" "))&&(Se=Se.$delete(" ")),t(Se.$split(","),"each",[],(V=function(Qe){var nt=V.$$s||this,yt=A;return nt.attributes==null&&(nt.attributes=A),Qe==null&&(Qe=A),c(Qe["$empty?"]())?A:(yt=[""+Qe+"-option",""],t(nt.attributes,"[]=",e.to_a(yt)),yt[O(yt.length,1)])},V.$$s=_e,V.$$arity=1,V))):c(Se["$empty?"]())||(We=[""+Se+"-option",""],t(_e.attributes,"[]=",e.to_a(We)),We[O(We.length,1)]):c(c(q=ct)?_e.block:q)?(Te=et,"title"["$==="](Te)||"reftext"["$==="](Te)?(We=[et,Se],t(_e.attributes,"[]=",e.to_a(We)),We[O(We.length,1)]):(We=[et,_e.block.$apply_subs(Se)],t(_e.attributes,"[]=",e.to_a(We)),We[O(We.length,1)])):(We=[et,Se],t(_e.attributes,"[]=",e.to_a(We)),We[O(We.length,1)])):(c(c(q=ct)?_e.block:q)&&(et=_e.block.$apply_subs(et)),c(c(q=tt=ye["$[]"](re))?et:q)&&(We=[tt,et],t(_e.attributes,"[]=",e.to_a(We)),We[O(We.length,1)]),We=[u(re,1),et],t(_e.attributes,"[]=",e.to_a(We)),We[O(We.length,1)]),Me},Ie.$$arity=2),e.def(F,"$parse_attribute_value",ue=function(re){var ye=this,q=A;return ye.scanner.$peek(1)["$=="](re)?(ye.scanner.$get_byte(),""):c(q=ye.$scan_to_quote(re))?(ye.scanner.$get_byte(),c(q["$include?"]($(N,"BACKSLASH")))?q.$gsub($(N,"EscapedQuotes")["$[]"](re),re):q):""+re+ye.$scan_to_delimiter()},ue.$$arity=1),e.def(F,"$skip_blank",S=function(){var re=this;return re.scanner.$skip($(N,"BlankRx"))},S.$$arity=0),e.def(F,"$skip_delimiter",d=function(){var re=this;return re.scanner.$skip(re.delimiter_skip_pattern)},d.$$arity=0),e.def(F,"$scan_name",m=function(){var re=this;return re.scanner.$scan($(N,"NameRx"))},m.$$arity=0),e.def(F,"$scan_to_delimiter",p=function(){var re=this;return re.scanner.$scan(re.delimiter_boundary_pattern)},p.$$arity=0),e.def(F,"$scan_to_quote",z=function(re){var ye=this;return ye.scanner.$scan($(N,"BoundaryRx")["$[]"](re))},z.$$arity=1),A&&"scan_to_quote"})(h[0],null,h)}(ie[0],ie)},Opal.modules["asciidoctor/block"]=function(e){function u(c,t){return typeof c=="number"&&typeof t=="number"?c-t:c["$-"](t)}function O(c,t){return typeof c=="number"&&typeof t=="number"?c<t:c["$<"](t)}var xe=e.top,Xe=[],ie=e.nil,A=e.const_get_qualified,$e=e.const_get_relative,$=e.breaker,n=e.slice,y=e.module,W=e.klass,oe=e.send,b=e.hash2,_=e.truthy;return e.add_stubs(["$default=","$-","$attr_accessor","$[]","$key?","$===","$drop","$delete","$to_s","$[]=","$commit_subs","$nil_or_empty?","$prepare_source_string","$apply_subs","$join","$<","$size","$empty?","$rstrip","$shift","$pop","$==","$warn","$logger","$class","$object_id","$inspect"]),function(c,t){var s=y(c,"Asciidoctor"),i=[s].concat(t);(function(j,h,g){var w=W(j,h,"Block"),C=[w].concat(g),F,N,x,f,L=ie;return w.$$prototype.attributes=w.$$prototype.content_model=w.$$prototype.lines=w.$$prototype.subs=w.$$prototype.blocks=w.$$prototype.context=w.$$prototype.style=ie,L=["simple"],oe(e.const_set(C[0],"DEFAULT_CONTENT_MODEL",b(["audio","image","listing","literal","stem","open","page_break","pass","thematic_break","video"],{audio:"empty",image:"empty",listing:"verbatim",literal:"verbatim",stem:"raw",open:"compound",page_break:"empty",pass:"raw",thematic_break:"empty",video:"empty"})),"default=",e.to_a(L)),L[u(L.length,1)],e.alias(w,"blockname","context"),w.$attr_accessor("lines"),e.def(w,"$initialize",F=function(Pe,Ie,ue){var S,d=F.$$p,m=d||ie,p=this,z=ie,Z=ie,re=ie,ye=ie,q=ie,ee=ie,V=ie;for(d&&(F.$$p=null),ee=0,V=arguments.length,q=new Array(V);ee<V;ee++)q[ee]=arguments[ee];return ue==null&&(ue=b([],{})),oe(p,e.find_super_dispatcher(p,"initialize",F,!1),q,d),p.content_model=_(S=ue["$[]"]("content_model"))?S:$e(C,"DEFAULT_CONTENT_MODEL")["$[]"](Ie),_(ue["$key?"]("subs"))?_(z=ue["$[]"]("subs"))?(Z=z,"default"["$==="](Z)?p.default_subs=ue["$[]"]("default_subs"):A("::","Array")["$==="](Z)?(p.default_subs=z.$drop(0),p.attributes.$delete("subs")):(p.default_subs=ie,re=["subs",z.$to_s()],oe(p.attributes,"[]=",e.to_a(re)),re[u(re.length,1)]),p.$commit_subs()):(p.default_subs=[],p.attributes.$delete("subs")):p.default_subs=ie,_((ye=ue["$[]"]("source"))["$nil_or_empty?"]())?p.lines=[]:_(A("::","String")["$==="](ye))?p.lines=$e(C,"Helpers").$prepare_source_string(ye):p.lines=ye.$drop(0)},F.$$arity=-3),e.def(w,"$content",N=function(){var Pe,Ie,ue=N.$$p,S=ue||ie,d=this,m=ie,p=ie,z=ie,Z=ie,re=ie,ye=ie,q=ie;for(ue&&(N.$$p=null),ye=0,q=arguments.length,re=new Array(q);ye<q;ye++)re[ye]=arguments[ye];return function(){if(m=d.content_model,"compound"["$==="](m))return oe(d,e.find_super_dispatcher(d,"content",N,!1),re,ue);if("simple"["$==="](m))return d.$apply_subs(d.lines.$join($e(C,"LF")),d.subs);if("verbatim"["$==="](m)||"raw"["$==="](m)){if(p=d.$apply_subs(d.lines,d.subs),_(O(p.$size(),2)))return p["$[]"](0);for(;_(_(Ie=z=p["$[]"](0))?z.$rstrip()["$empty?"]():Ie);)p.$shift();for(;_(_(Ie=Z=p["$[]"](-1))?Z.$rstrip()["$empty?"]():Ie);)p.$pop();return p.$join($e(C,"LF"))}else return d.content_model["$=="]("empty")||d.$logger().$warn("Unknown content model '"+d.content_model+"' for block: "+d),ie}()},N.$$arity=0),e.def(w,"$source",x=function(){var Pe=this;return Pe.lines.$join($e(C,"LF"))},x.$$arity=0),e.def(w,"$to_s",f=function(){var Pe=this,Ie=ie;return Ie=function(){return Pe.content_model["$=="]("compound")?"blocks: "+Pe.blocks.$size():"lines: "+Pe.lines.$size()}(),"#<"+Pe.$class()+"@"+Pe.$object_id()+" {context: "+Pe.context.$inspect()+", content_model: "+Pe.content_model.$inspect()+", style: "+Pe.style.$inspect()+", "+Ie+"}>"},f.$$arity=0),ie&&"to_s"})(i[0],$e(i,"AbstractBlock"),i)}(Xe[0],Xe)},Opal.modules["asciidoctor/callouts"]=function(e){function u(s,i){return typeof s=="number"&&typeof i=="number"?s+i:s["$+"](i)}function O(s,i){return typeof s=="number"&&typeof i=="number"?s<=i:s["$<="](i)}function xe(s,i){return typeof s=="number"&&typeof i=="number"?s-i:s["$-"](i)}function Xe(s,i){return typeof s=="number"&&typeof i=="number"?s<i:s["$<"](i)}var ie=e.top,A=[],$e=e.nil,$=e.const_get_qualified,n=e.const_get_relative,y=e.breaker,W=e.slice,oe=e.module,b=e.klass,_=e.hash2,c=e.truthy,t=e.send;return e.add_stubs(["$next_list","$<<","$current_list","$to_i","$generate_next_callout_id","$+","$<=","$size","$[]","$-","$chop","$join","$map","$==","$<","$private","$generate_callout_id"]),function(s,i){var j=oe(s,"Asciidoctor"),h=[j].concat(i);(function(g,w,C){var F=b(g,w,"Callouts"),N=[F].concat(C),x,f,L,ae,Pe,Ie,ue,S,d;return F.$$prototype.co_index=F.$$prototype.lists=F.$$prototype.list_index=$e,e.def(F,"$initialize",x=function(){var p=this;return p.lists=[],p.list_index=0,p.$next_list()},x.$$arity=0),e.def(F,"$register",f=function(p){var z=this,Z=$e;return z.$current_list()["$<<"](_(["ordinal","id"],{ordinal:p.$to_i(),id:Z=z.$generate_next_callout_id()})),z.co_index=u(z.co_index,1),Z},f.$$arity=1),e.def(F,"$read_next_id",L=function(){var p=this,z=$e,Z=$e;return z=$e,Z=p.$current_list(),c(O(p.co_index,Z.$size()))&&(z=Z["$[]"](xe(p.co_index,1))["$[]"]("id")),p.co_index=u(p.co_index,1),z},L.$$arity=0),e.def(F,"$callout_ids",ae=function(p){var z,Z=this;return t(Z.$current_list(),"map",[],(z=function(re){var ye=z.$$s||this;return re==null&&(re=$e),re["$[]"]("ordinal")["$=="](p)?""+re["$[]"]("id")+" ":""},z.$$s=Z,z.$$arity=1,z)).$join().$chop()},ae.$$arity=1),e.def(F,"$current_list",Pe=function(){var p=this;return p.lists["$[]"](xe(p.list_index,1))},Pe.$$arity=0),e.def(F,"$next_list",Ie=function(){var p=this;return p.list_index=u(p.list_index,1),c(Xe(p.lists.$size(),p.list_index))&&p.lists["$<<"]([]),p.co_index=1,$e},Ie.$$arity=0),e.def(F,"$rewind",ue=function(){var p=this;return p.list_index=1,p.co_index=1,$e},ue.$$arity=0),F.$private(),e.def(F,"$generate_next_callout_id",S=function(){var p=this;return p.$generate_callout_id(p.list_index,p.co_index)},S.$$arity=0),e.def(F,"$generate_callout_id",d=function(p,z){var Z=this;return"CO"+p+"-"+z},d.$$arity=2),$e&&"generate_callout_id"})(h[0],null,h)}(A[0],A)},Opal.modules["asciidoctor/converter"]=function(e){function u(t,s){return typeof t=="number"&&typeof s=="number"?t-s:t["$-"](s)}function O(t,s){return typeof t=="number"&&typeof s=="number"?t+s:t["$+"](s)}var xe=e.top,Xe=[],ie=e.nil,A=e.const_get_qualified,$e=e.const_get_relative,$=e.breaker,n=e.slice,y=e.module,W=e.hash2,oe=e.truthy,b=e.send,_=e.klass,c=e.gvars;return e.add_stubs(["$autoload","$__dir__","$==","$attr_reader","$raise","$class","$[]","$sub","$slice","$length","$[]=","$backend_traits","$-","$derive_backend_traits","$register","$map","$to_s","$new","$create","$default","$each","$default=","$registry","$for","$===","$supports_templates?","$merge","$private","$include","$delete","$clear","$send","$extend","$private_class_method","$node_name","$+","$receiver","$name","$warn","$logger","$respond_to?","$content"]),function(t,s){var i=y(t,"Asciidoctor"),j=[i].concat(s);(function(h,g){var w=y(h,"Converter"),C=[w].concat(g),F,N,x,f,L;w.$autoload("CompositeConverter",""+w.$__dir__()+"/converter/composite"),$e(C,"RUBY_ENGINE")["$=="]("opal"),w.$attr_reader("backend"),e.def(w,"$initialize",F=function(Pe,Ie){var ue=this;return Ie==null&&(Ie=W([],{})),ue.backend=Pe},F.$$arity=-2),e.def(w,"$convert",N=function(Pe,Ie,ue){var S=this;return S.backend==null&&(S.backend=ie),Ie==null&&(Ie=ie),ue==null&&(ue=ie),S.$raise(A("::","NotImplementedError"),""+S.$class()+" (backend: "+S.backend+") must implement the #convert method")},N.$$arity=-2),e.def(w,"$handles?",x=function(ae){var Pe=this;return!0},x.$$arity=1),e.defs(w,"$derive_backend_traits",f=function(Pe,Ie){var ue,S=this,d=ie,m=ie;return Ie==null&&(Ie=ie),oe(Pe)?(oe(d=$e(C,"DEFAULT_EXTENSIONS")["$[]"](Ie=oe(ue=Ie)?ue:Pe.$sub($e(C,"TrailingDigitsRx"),"")))?m=d.$slice(1,d.$length()):d="."+(m=Ie),m["$=="]("html")?W(["basebackend","filetype","htmlsyntax","outfilesuffix"],{basebackend:Ie,filetype:m,htmlsyntax:"html",outfilesuffix:d}):W(["basebackend","filetype","outfilesuffix"],{basebackend:Ie,filetype:m,outfilesuffix:d})):W([],{})},f.$$arity=-2),function(ae,Pe){var Ie=y(ae,"BackendTraits"),ue=[Ie].concat(Pe),S,d,m,p,z,Z,re,ye,q;e.def(Ie,"$basebackend",S=function(V){var _e=this,Me=ie;return V==null&&(V=ie),oe(V)?(Me=["basebackend",V],b(_e.$backend_traits(V),"[]=",e.to_a(Me)),Me[u(Me.length,1)]):_e.$backend_traits()["$[]"]("basebackend")},S.$$arity=-1),e.def(Ie,"$filetype",d=function(V){var _e=this,Me=ie;return V==null&&(V=ie),oe(V)?(Me=["filetype",V],b(_e.$backend_traits(),"[]=",e.to_a(Me)),Me[u(Me.length,1)]):_e.$backend_traits()["$[]"]("filetype")},d.$$arity=-1),e.def(Ie,"$htmlsyntax",m=function(V){var _e=this,Me=ie;return V==null&&(V=ie),oe(V)?(Me=["htmlsyntax",V],b(_e.$backend_traits(),"[]=",e.to_a(Me)),Me[u(Me.length,1)]):_e.$backend_traits()["$[]"]("htmlsyntax")},m.$$arity=-1),e.def(Ie,"$outfilesuffix",p=function(V){var _e=this,Me=ie;return V==null&&(V=ie),oe(V)?(Me=["outfilesuffix",V],b(_e.$backend_traits(),"[]=",e.to_a(Me)),Me[u(Me.length,1)]):_e.$backend_traits()["$[]"]("outfilesuffix")},p.$$arity=-1),e.def(Ie,"$supports_templates",z=function(V){var _e=this,Me=ie;return V==null&&(V=!0),Me=["supports_templates",V],b(_e.$backend_traits(),"[]=",e.to_a(Me)),Me[u(Me.length,1)]},z.$$arity=-1),e.def(Ie,"$supports_templates?",Z=function(){var ee=this;return ee.$backend_traits()["$[]"]("supports_templates")},Z.$$arity=0),e.def(Ie,"$init_backend_traits",re=function(V){var _e,Me=this;return V==null&&(V=ie),Me.backend_traits=oe(_e=V)?_e:W([],{})},re.$$arity=-1),e.def(Ie,"$backend_traits",ye=function(V){var _e,Me=this;return Me.backend_traits==null&&(Me.backend_traits=ie),Me.backend==null&&(Me.backend=ie),V==null&&(V=ie),Me.backend_traits=oe(_e=Me.backend_traits)?_e:$e(ue,"Converter").$derive_backend_traits(Me.backend,V)},ye.$$arity=-1),e.alias(Ie,"backend_info","backend_traits"),e.defs(Ie,"$derive_backend_traits",q=function(V,_e){var Me=this;return _e==null&&(_e=ie),$e(ue,"Converter").$derive_backend_traits(V,_e)},q.$$arity=-2)}(C[0],C),function(ae,Pe){var Ie=y(ae,"Config"),ue=[Ie].concat(Pe),S;e.def(Ie,"$register_for",S=function(m){var p,z,Z,re=this;return p=e.slice.call(arguments,0,arguments.length),z=p,b($e(ue,"Converter"),"register",[re].concat(e.to_a(b(z,"map",[],(Z=function(ye){var q=Z.$$s||this;return ye==null&&(ye=ie),ye.$to_s()},Z.$$s=re,Z.$$arity=1,Z)))))},S.$$arity=-1)}(C[0],C),function(ae,Pe){var Ie=y(ae,"Factory"),ue=[Ie].concat(Pe),S,d,m,p,z,Z,re,ye;e.defs(Ie,"$new",S=function(q,ee){var V,_e,Me,Te,et=this;if(V=e.slice.call(arguments,0,arguments.length),_e=e.extract_kwargs(V),_e==null)_e=W([],{});else if(!_e.$$is_hash)throw e.ArgumentError.$new("expected kwargs");return V.length>0&&(Me=V[0],V.splice(0,1)),Me==null&&(Me=ie),Te=_e.$$smap.proxy_default,Te==null&&(Te=!0),oe(Te)?$e(ue,"DefaultFactoryProxy").$new(Me):$e(ue,"CustomFactory").$new(Me)},S.$$arity=-1),e.defs(Ie,"$default",d=function(q){var ee,V,_e=this;return ee=e.slice.call(arguments,0,arguments.length),V=ee,$e(ue,"Converter")},d.$$arity=-1),e.defs(Ie,"$create",m=function(ee,V){var _e=this;return V==null&&(V=W([],{})),_e.$default().$create(ee,V)},m.$$arity=-2),e.def(Ie,"$register",p=function(ee,V){var _e,Me,Te,et=this;return _e=e.slice.call(arguments,1,arguments.length),Me=_e,b(Me,"each",[],(Te=function(ct){var it=Te.$$s||this,Ne=ie;return ct==null&&(ct=ie),ct["$=="]("*")?(Ne=[ee],b(it.$registry(),"default=",e.to_a(Ne)),Ne[u(Ne.length,1)]):(Ne=[ct,ee],b(it.$registry(),"[]=",e.to_a(Ne)),Ne[u(Ne.length,1)])},Te.$$s=et,Te.$$arity=1,Te))},p.$$arity=-2),e.def(Ie,"$for",z=function(q){var ee=this;return ee.$registry()["$[]"](q)},z.$$arity=1),e.def(Ie,"$create",Z=function(ee,V){var _e,Me,Te=this,et=ie,ct=ie,it=ie;return V==null&&(V=W([],{})),oe(et=Te.$for(ee))?(oe(A("::","Class")["$==="](et))&&(et=et.$new(ee,V)),oe(oe(_e=oe(Me=ct=V["$[]"]("template_dirs"))?$e(ue,"BackendTraits")["$==="](et):Me)?et["$supports_templates?"]():_e)?$e(ue,"CompositeConverter").$new(ee,$e(ue,"TemplateConverter").$new(ee,ct,V),et,W(["backend_traits_source"],{backend_traits_source:et})):et):oe(ct=V["$[]"]("template_dirs"))?oe(oe(_e=it=V["$[]"]("delegate_backend"))?et=Te.$for(it):_e)?(oe(A("::","Class")["$==="](et))&&(et=et.$new(it,V)),$e(ue,"CompositeConverter").$new(ee,$e(ue,"TemplateConverter").$new(ee,ct,V),et,W(["backend_traits_source"],{backend_traits_source:et}))):$e(ue,"TemplateConverter").$new(ee,ct,V):ie},Z.$$arity=-2),e.def(Ie,"$converters",re=function(){var ee=this;return ee.$registry().$merge()},re.$$arity=0),Ie.$private(),e.def(Ie,"$registry",ye=function(){var ee=this;return ee.$raise(A("::","NotImplementedError"),""+$e(ue,"Factory")+" subclass "+ee.$class()+" must implement the #registry method")},ye.$$arity=0)}(C[0],C),function(ae,Pe,Ie){var ue=_(ae,Pe,"CustomFactory"),S=[ue].concat(Ie),d,m;return ue.$include($e(S,"Factory")),e.def(ue,"$initialize",d=function(z){var Z=this,re=ie;return z==null&&(z=ie),oe(z)?(re=[z.$delete("*")],b(z,"default=",e.to_a(re)),re[u(re.length,1)],Z.registry=z):Z.registry=W([],{})},d.$$arity=-1),e.def(ue,"$unregister_all",m=function(){var z=this,Z=ie;return Z=[ie],b(z.$registry().$clear(),"default=",e.to_a(Z)),Z[u(Z.length,1)]},m.$$arity=0),ue.$private(),ue.$attr_reader("registry")}(C[0],null,C),function(ae,Pe){var Ie=y(ae,"DefaultFactory"),ue=[Ie].concat(Pe),S;Ie.$include($e(ue,"Factory")),Ie.$private(),e.class_variable_set(ue[0],"@@registry",W([],{})),e.def(Ie,"$registry",S=function(){var m,p=this;return(m=ue[0].$$cvars["@@registry"])==null?ie:m},S.$$arity=0),$e(ue,"RUBY_ENGINE")["$=="]("opal")}(C[0],C),function(ae,Pe,Ie){var ue=_(ae,Pe,"DefaultFactoryProxy"),S=[ue].concat(Ie);return ue.$include($e(S,"DefaultFactory")),$e(S,"RUBY_ENGINE")["$=="]("opal"),ie}(C[0],$e(C,"CustomFactory"),C),e.defs(w,"$included",L=function(Pe){var Ie=this;return Pe.$send("include",$e(C,"BackendTraits")),Pe.$extend($e(C,"Config"))},L.$$arity=1),w.$private_class_method("included"),function(ae,Pe,Ie){var ue=_(ae,Pe,"Base"),S=[ue].concat(Ie),d,m,p,z;return ue.$$prototype.backend=ie,ue.$include($e(S,"Logging")),ue.$include($e(S,"Converter")),e.def(ue,"$convert",d=function(re,ye,q){var ee,V,_e=this,Me=ie;c["!"]==null&&(c["!"]=ie),ye==null&&(ye=re.$node_name()),q==null&&(q=ie);try{return oe(q)?_e.$send(O("convert_",ye),re,q):_e.$send(O("convert_",ye),re)}catch(Te){if(e.rescue(Te,[$e(S,"StandardError")]))try{return oe(oe(ee=oe(V=A("::","NoMethodError")["$==="](Me=c["!"]))?Me.$receiver()["$=="](_e):V)?Me.$name().$to_s()["$=="](ye):ee)||_e.$raise(),_e.$logger().$warn("missing convert handler for "+Me.$name()+" node in "+_e.backend+" backend ("+_e.$class()+")"),ie}finally{e.pop_exception()}else throw Te}},d.$$arity=-2),e.def(ue,"$handles?",m=function(Z){var re=this;return re["$respond_to?"]("convert_"+Z)},m.$$arity=1),e.def(ue,"$content_only",p=function(re){var ye=this;return re.$content()},p.$$arity=1),e.def(ue,"$skip",z=function(re){var ye=this;return ie},z.$$arity=1),ie&&"skip"}(C[0],null,C),w.$extend($e(C,"DefaultFactory"))})(j[0],j)}(Xe[0],Xe)},Opal.modules["asciidoctor/document"]=function(e){function u(h,g){return typeof h=="number"&&typeof g=="number"?h-g:h["$-"](g)}function O(h,g){return typeof h=="number"&&typeof g=="number"?h>=g:h["$>="](g)}function xe(h,g){return typeof h=="number"&&typeof g=="number"?h+g:h["$+"](g)}function Xe(h,g){return typeof h=="number"&&typeof g=="number"?h>g:h["$>"](g)}function ie(h,g){return typeof h=="number"&&typeof g=="number"?h<g:h["$<"](g)}var A=e.top,$e=[],$=e.nil,n=e.const_get_qualified,y=e.const_get_relative,W=e.breaker,oe=e.slice,b=e.module,_=e.klass,c=e.send,t=e.truthy,s=e.hash2,i=e.hash,j=e.gvars;return e.add_stubs(["$new","$attr_reader","$nil?","$<<","$[]","$[]=","$-","$include?","$strip","$squeeze","$gsub","$empty?","$!","$rpartition","$attr_accessor","$delete","$base_dir","$options","$merge","$catalog","$instance_variable_get","$attributes","$safe","$compat_mode","$outfilesuffix","$sourcemap","$path_resolver","$converter","$extensions","$syntax_highlighter","$each","$end_with?","$start_with?","$slice","$length","$chop","$==","$downcase","$===","$extname","$value_for_name","$key?","$freeze","$attribute_undefined","$attribute_missing","$update","$&","$keys","$name_for_value","$expand_path","$pwd","$to_s","$>=","$+","$abs","$to_i","$delete_if","$update_doctype_attributes","$cursor","$parse","$restore_attributes","$update_backend_attributes","$fetch","$fill_datetime_attributes","$activate","$groups","$create","$to_proc","$preprocessors?","$preprocessors","$process_method","$tree_processors?","$tree_processors","$!=","$counter","$attribute_locked?","$nil_or_empty?","$nextval","$value","$save_to","$register","$tap","$xreftext","$>","$source","$source_lines","$doctitle","$sectname=","$title=","$first_section","$title","$reftext","$<","$find","$context","$assign_numeral","$clear_playback_attributes","$save_attributes","$name","$negate","$rewind","$replace","$apply_attribute_value_subs","$delete?","$start","$doctype","$content_model","$warn","$logger","$content","$convert","$postprocessors?","$postprocessors","$record","$write","$respond_to?","$chomp","$class","$write_alternate_pages","$map","$split","$resolve_docinfo_subs","$normalize_system_path","$read_asset","$apply_subs","$docinfo_processors?","$join","$concat","$compact","$docinfo_processors","$object_id","$inspect","$size","$private","$=~","$resolve_pass_subs","$apply_header_subs","$limit_bytesize","$bytesize","$valid_encoding?","$byteslice","$resolve_subs","$utc","$at","$Integer","$now","$index","$strftime","$year","$utc_offset","$partition","$create_converter","$basebackend","$filetype","$htmlsyntax","$derive_backend_traits","$raise"]),function(h,g){var w=b(h,"Asciidoctor"),C=[w].concat(g);(function(F,N,x){var f=_(F,N,"Document"),L=[f].concat(x),ae,Pe,Ie,ue,S,d,m,p,z,Z,re,ye,q,ee,V,_e,Me,Te,et,ct,it,Ne,Se,We,tt,Qe,nt,yt,lt,K,l,v,I,U,P,de,be,je,Be,Ke,we,ot,at,vt,Dt,bt,ce,Ee,fe,o,H,Y,Q;return f.$$prototype.attributes=f.$$prototype.safe=f.$$prototype.sourcemap=f.$$prototype.reader=f.$$prototype.base_dir=f.$$prototype.parsed=f.$$prototype.parent_document=f.$$prototype.extensions=f.$$prototype.options=f.$$prototype.counters=f.$$prototype.catalog=f.$$prototype.reftexts=f.$$prototype.next_section_index=f.$$prototype.header=f.$$prototype.blocks=f.$$prototype.header_attributes=f.$$prototype.attributes_modified=f.$$prototype.backend=f.$$prototype.attribute_overrides=f.$$prototype.timings=f.$$prototype.converter=f.$$prototype.outfilesuffix=f.$$prototype.docinfo_processor_extensions=f.$$prototype.document=f.$$prototype.max_attribute_value_size=f.$$prototype.id=f.$$prototype.doctype=$,e.const_set(L[0],"ImageReference",c(n("::","Struct"),"new",["target","imagesdir"],(ae=function(){var ne=ae.$$s||this;return e.alias(ne,"to_s","target")},ae.$$s=f,ae.$$arity=0,ae))),e.const_set(L[0],"Footnote",n("::","Struct").$new("index","id","text")),function(ne,k,a){var E=_(ne,k,"AttributeEntry"),T=[E].concat(a),M,te;return E.$attr_reader("name","value","negate"),e.def(E,"$initialize",M=function(Ae,me,mt){var dt=this;return mt==null&&(mt=$),dt.name=Ae,dt.value=me,dt.negate=function(){return t(mt["$nil?"]())?me["$nil?"]():mt}()},M.$$arity=-3),e.def(E,"$save_to",te=function(Ae){var me,mt=this,dt=$;return(t(me=Ae["$[]"]("attribute_entries"))?me:(dt=["attribute_entries",[]],c(Ae,"[]=",e.to_a(dt)),dt[u(dt.length,1)]))["$<<"](mt),mt},te.$$arity=1),$&&"save_to"}(L[0],null,L),function(ne,k,a){var E=_(ne,k,"Title"),T=[E].concat(a),M,te,X,Ae;return E.$$prototype.sanitized=E.$$prototype.subtitle=E.$$prototype.combined=$,E.$attr_reader("main"),e.alias(E,"title","main"),E.$attr_reader("subtitle"),E.$attr_reader("combined"),e.def(E,"$initialize",M=function(mt,dt){var He,kt,$t=this,Tt=$,rt=$;return dt==null&&(dt=s([],{})),t(t(He=$t.sanitized=dt["$[]"]("sanitize"))?mt["$include?"]("<"):He)&&(mt=mt.$gsub(y(T,"XmlSanitizeRx"),"").$squeeze(" ").$strip()),t(t(He=(Tt=t(kt=dt["$[]"]("separator"))?kt:":")["$empty?"]())?He:mt["$include?"](Tt=""+Tt+" ")["$!"]())?($t.main=mt,$t.subtitle=$):(kt=mt.$rpartition(Tt),He=e.to_ary(kt),$t.main=He[0]==null?$:He[0],rt=He[1]==null?$:He[1],$t.subtitle=He[2]==null?$:He[2]),$t.combined=mt},M.$$arity=-2),e.def(E,"$sanitized?",te=function(){var me=this;return me.sanitized},te.$$arity=0),e.def(E,"$subtitle?",X=function(){var me=this;return!!t(me.subtitle)},X.$$arity=0),e.def(E,"$to_s",Ae=function(){var mt=this;return mt.combined},Ae.$$arity=0),$&&"to_s"}(L[0],null,L),e.const_set(L[0],"Author",n("::","Struct").$new("name","firstname","middlename","lastname","initials","email")),f.$attr_reader("safe"),f.$attr_reader("compat_mode"),f.$attr_reader("backend"),f.$attr_reader("doctype"),f.$attr_accessor("sourcemap"),f.$attr_reader("catalog"),e.alias(f,"references","catalog"),f.$attr_reader("counters"),f.$attr_reader("header"),f.$attr_reader("base_dir"),f.$attr_reader("options"),f.$attr_reader("outfilesuffix"),f.$attr_reader("parent_document"),f.$attr_reader("reader"),f.$attr_reader("path_resolver"),f.$attr_reader("converter"),f.$attr_reader("syntax_highlighter"),f.$attr_reader("extensions"),e.def(f,"$initialize",Pe=function(k,a){var E,T,M,te,X,Ae,me,mt,dt,He=Pe.$$p,kt=He||$,$t=this,Tt=$,rt=$,Lt=$,Yt=$,_t=$,Zt=$,rr=$,nr=$,sr=$,tr=$,hr=$,fr=$,mr=$,ir=$,pr=$,vr=$,br=$,yr=$;return He&&(Pe.$$p=null),k==null&&(k=$),a==null&&(a=s([],{})),c($t,e.find_super_dispatcher($t,"initialize",Pe,!1),[$t,"document"],null),t(Tt=a.$delete("parent"))?($t.parent_document=Tt,t(E=a["$[]"]("base_dir"))||(rt=["base_dir",Tt.$base_dir()],c(a,"[]=",e.to_a(rt)),rt[u(rt.length,1)]),t(Tt.$options()["$[]"]("catalog_assets"))&&(rt=["catalog_assets",!0],c(a,"[]=",e.to_a(rt)),rt[u(rt.length,1)]),$t.catalog=Tt.$catalog().$merge(s(["footnotes"],{footnotes:[]})),$t.attribute_overrides=Lt=Tt.$instance_variable_get("@attribute_overrides").$merge(Tt.$attributes()),Lt.$delete("compat-mode"),Yt=Lt.$delete("doctype"),Lt.$delete("notitle"),Lt.$delete("showtitle"),Lt.$delete("toc"),rt=["toc-placement",t(E=Lt.$delete("toc-placement"))?E:"auto"],c($t.attributes,"[]=",e.to_a(rt)),rt[u(rt.length,1)],Lt.$delete("toc-position"),$t.safe=Tt.$safe(),t($t.compat_mode=Tt.$compat_mode())&&(rt=["compat-mode",""],c($t.attributes,"[]=",e.to_a(rt)),rt[u(rt.length,1)]),$t.outfilesuffix=Tt.$outfilesuffix(),$t.sourcemap=Tt.$sourcemap(),$t.timings=$,$t.path_resolver=Tt.$path_resolver(),$t.converter=Tt.$converter(),_t=$,$t.extensions=Tt.$extensions(),$t.syntax_highlighter=Tt.$syntax_highlighter()):($t.parent_document=$,$t.catalog=s(["ids","refs","footnotes","links","images","callouts","includes"],{ids:s([],{}),refs:s([],{}),footnotes:[],links:[],images:[],callouts:y(L,"Callouts").$new(),includes:s([],{})}),$t.attribute_overrides=Lt=s([],{}),c(t(E=a["$[]"]("attributes"))?E:s([],{}),"each",[],(T=function(lr,_r){var xr=T.$$s||this,ur;return lr==null&&(lr=$),_r==null&&(_r=$),t(lr["$end_with?"]("@"))?t(lr["$start_with?"]("!"))?(ur=[lr.$slice(1,u(lr.$length(),2)),!1],lr=ur[0],_r=ur[1]):t(lr["$end_with?"]("!@"))?(ur=[lr.$slice(0,u(lr.$length(),2)),!1],lr=ur[0],_r=ur[1]):(ur=[lr.$chop(),""+_r+"@"],lr=ur[0],_r=ur[1]):t(lr["$start_with?"]("!"))?(ur=[lr.$slice(1,lr.$length()),function(){return _r["$=="]("@")?!1:$}()],lr=ur[0],_r=ur[1]):t(lr["$end_with?"]("!"))&&(ur=[lr.$chop(),function(){return _r["$=="]("@")?!1:$}()],lr=ur[0],_r=ur[1]),rt=[lr.$downcase(),_r],c(Lt,"[]=",e.to_a(rt)),rt[u(rt.length,1)]},T.$$s=$t,T.$$arity=2,T)),t(n("::","String")["$==="](Zt=a["$[]"]("to_file")))&&(rt=["outfilesuffix",y(L,"Helpers").$extname(Zt)],c(Lt,"[]=",e.to_a(rt)),rt[u(rt.length,1)]),t((rr=a["$[]"]("safe"))["$!"]())?$t.safe=n(y(L,"SafeMode"),"SECURE"):t(n("::","Integer")["$==="](rr))?$t.safe=rr:$t.safe=function(){try{return y(L,"SafeMode").$value_for_name(rr)}catch(lr){if(e.rescue(lr,[y(L,"StandardError")]))try{return n(y(L,"SafeMode"),"SECURE")}finally{e.pop_exception()}else throw lr}}(),nr=a.$delete("input_mtime"),$t.compat_mode=Lt["$key?"]("compat-mode"),$t.sourcemap=a["$[]"]("sourcemap"),$t.timings=a.$delete("timings"),$t.path_resolver=y(L,"PathResolver").$new(),_t=function(){return t(t(E=(te=n("::","Asciidoctor","skip_raise"))&&(M=n(te,"Extensions","skip_raise"))?"constant":$)?E:a["$key?"]("extensions"))?n(n("::","Asciidoctor"),"Extensions"):$}(),$t.extensions=$,t(t(E=a["$key?"]("header_footer"))?a["$key?"]("standalone")["$!"]():E)&&(rt=["standalone",a["$[]"]("header_footer")],c(a,"[]=",e.to_a(rt)),rt[u(rt.length,1)])),$t.parsed=$t.reftexts=$t.header=$t.header_attributes=$,$t.counters=s([],{}),$t.attributes_modified=n("::","Set").$new(),$t.docinfo_processor_extensions=s([],{}),sr=a["$[]"]("standalone"),($t.options=a).$freeze(),tr=$t.attributes,t(Tt)||(rt=["attribute-undefined",y(L,"Compliance").$attribute_undefined()],c(tr,"[]=",e.to_a(rt)),rt[u(rt.length,1)],rt=["attribute-missing",y(L,"Compliance").$attribute_missing()],c(tr,"[]=",e.to_a(rt)),rt[u(rt.length,1)],tr.$update(y(L,"DEFAULT_ATTRIBUTES"))),t(sr)?(rt=["embedded",$],c(Lt,"[]=",e.to_a(rt)),rt[u(rt.length,1)],rt=["copycss",""],c(tr,"[]=",e.to_a(rt)),rt[u(rt.length,1)],rt=["iconfont-remote",""],c(tr,"[]=",e.to_a(rt)),rt[u(rt.length,1)],rt=["stylesheet",""],c(tr,"[]=",e.to_a(rt)),rt[u(rt.length,1)],rt=["webfonts",""],c(tr,"[]=",e.to_a(rt)),rt[u(rt.length,1)]):(rt=["embedded",""],c(Lt,"[]=",e.to_a(rt)),rt[u(rt.length,1)],t(t(E=Lt["$key?"]("showtitle"))?Lt.$keys()["$&"](["notitle","showtitle"])["$[]"](-1)["$=="]("showtitle"):E)?(rt=["notitle",i($,"",!1,"@","@",!1)["$[]"](Lt["$[]"]("showtitle"))],c(Lt,"[]=",e.to_a(rt)),rt[u(rt.length,1)]):t(Lt["$key?"]("notitle"))?(rt=["showtitle",i($,"",!1,"@","@",!1)["$[]"](Lt["$[]"]("notitle"))],c(Lt,"[]=",e.to_a(rt)),rt[u(rt.length,1)]):(rt=["notitle",""],c(tr,"[]=",e.to_a(rt)),rt[u(rt.length,1)])),rt=["asciidoctor",""],c(Lt,"[]=",e.to_a(rt)),rt[u(rt.length,1)],rt=["asciidoctor-version",n(n("::","Asciidoctor"),"VERSION")],c(Lt,"[]=",e.to_a(rt)),rt[u(rt.length,1)],rt=["safe-mode-name",hr=y(L,"SafeMode").$name_for_value($t.safe)],c(Lt,"[]=",e.to_a(rt)),rt[u(rt.length,1)],rt=["safe-mode-"+hr,""],c(Lt,"[]=",e.to_a(rt)),rt[u(rt.length,1)],rt=["safe-mode-level",$t.safe],c(Lt,"[]=",e.to_a(rt)),rt[u(rt.length,1)],t(E=Lt["$[]"]("max-include-depth"))||(rt=["max-include-depth",64],c(Lt,"[]=",e.to_a(rt)),rt[u(rt.length,1)]),t(E=Lt["$[]"]("allow-uri-read"))||(rt=["allow-uri-read",$],c(Lt,"[]=",e.to_a(rt)),rt[u(rt.length,1)]),t(Lt["$key?"]("numbered"))&&(rt=["sectnums",Lt.$delete("numbered")],c(Lt,"[]=",e.to_a(rt)),rt[u(rt.length,1)]),t(Lt["$key?"]("hardbreaks"))&&(rt=["hardbreaks-option",Lt.$delete("hardbreaks")],c(Lt,"[]=",e.to_a(rt)),rt[u(rt.length,1)]),t(fr=a["$[]"]("base_dir"))?$t.base_dir=(rt=["docdir",n("::","File").$expand_path(fr)],c(Lt,"[]=",e.to_a(rt)),rt[u(rt.length,1)]):t(Lt["$[]"]("docdir"))?$t.base_dir=Lt["$[]"]("docdir"):$t.base_dir=(rt=["docdir",n("::","Dir").$pwd()],c(Lt,"[]=",e.to_a(rt)),rt[u(rt.length,1)]),t(mr=a["$[]"]("backend"))&&(rt=["backend",mr.$to_s()],c(Lt,"[]=",e.to_a(rt)),rt[u(rt.length,1)]),t(ir=a["$[]"]("doctype"))&&(rt=["doctype",ir.$to_s()],c(Lt,"[]=",e.to_a(rt)),rt[u(rt.length,1)]),t(O($t.safe,n(y(L,"SafeMode"),"SERVER")))?(t(E=Lt["$[]"]("copycss"))||(rt=["copycss",$],c(Lt,"[]=",e.to_a(rt)),rt[u(rt.length,1)]),t(E=Lt["$[]"]("source-highlighter"))||(rt=["source-highlighter",$],c(Lt,"[]=",e.to_a(rt)),rt[u(rt.length,1)]),t(E=Lt["$[]"]("backend"))||(rt=["backend",y(L,"DEFAULT_BACKEND")],c(Lt,"[]=",e.to_a(rt)),rt[u(rt.length,1)]),t(t(E=Tt["$!"]())?Lt["$key?"]("docfile"):E)&&(rt=["docfile",Lt["$[]"]("docfile")["$[]"](e.Range.$new(xe(Lt["$[]"]("docdir").$length(),1),-1,!1))],c(Lt,"[]=",e.to_a(rt)),rt[u(rt.length,1)]),rt=["docdir",""],c(Lt,"[]=",e.to_a(rt)),rt[u(rt.length,1)],t(E=Lt["$[]"]("user-home"))||(rt=["user-home","."],c(Lt,"[]=",e.to_a(rt)),rt[u(rt.length,1)]),t(O($t.safe,n(y(L,"SafeMode"),"SECURE")))&&(t(Lt["$key?"]("max-attribute-value-size"))||(rt=["max-attribute-value-size",4096],c(Lt,"[]=",e.to_a(rt)),rt[u(rt.length,1)]),t(Lt["$key?"]("linkcss"))||(rt=["linkcss",""],c(Lt,"[]=",e.to_a(rt)),rt[u(rt.length,1)]),t(E=Lt["$[]"]("icons"))||(rt=["icons",$],c(Lt,"[]=",e.to_a(rt)),rt[u(rt.length,1)]))):t(E=Lt["$[]"]("user-home"))||(rt=["user-home",y(L,"USER_HOME")],c(Lt,"[]=",e.to_a(rt)),rt[u(rt.length,1)]),$t.max_attribute_value_size=function(){return t(pr=t(E=Lt["$[]"]("max-attribute-value-size"))?E:(rt=["max-attribute-value-size",$],c(Lt,"[]=",e.to_a(rt)),rt[u(rt.length,1)]))?pr.$to_i().$abs():$}(),c(Lt,"delete_if",[],(X=function(lr,_r){var xr=X.$$s||this,ur,Ar=$;return lr==null&&(lr=$),_r==null&&(_r=$),t(_r)?(t(t(ur=n("::","String")["$==="](_r))?_r["$end_with?"]("@"):ur)&&(ur=[_r.$chop(),!0],_r=ur[0],Ar=ur[1]),rt=[lr,_r],c(tr,"[]=",e.to_a(rt)),rt[u(rt.length,1)]):(tr.$delete(lr),Ar=_r["$=="](!1)),Ar},X.$$s=$t,X.$$arity=2,X)),t(Tt)?($t.backend=tr["$[]"]("backend"),($t.doctype=(rt=["doctype",Yt],c(tr,"[]=",e.to_a(rt)),rt[u(rt.length,1)]))["$=="](y(L,"DEFAULT_DOCTYPE"))||$t.$update_doctype_attributes(y(L,"DEFAULT_DOCTYPE")),$t.reader=y(L,"Reader").$new(k,a["$[]"]("cursor")),t($t.sourcemap)&&($t.source_location=$t.reader.$cursor()),y(L,"Parser").$parse($t.reader,$t),$t.$restore_attributes(),$t.parsed=!0):($t.backend=$,(vr=t(E=tr["$[]"]("backend"))?E:y(L,"DEFAULT_BACKEND"))["$=="]("manpage")?$t.doctype=(rt=["doctype",(rt=["doctype","manpage"],c(Lt,"[]=",e.to_a(rt)),rt[u(rt.length,1)])],c(tr,"[]=",e.to_a(rt)),rt[u(rt.length,1)]):$t.doctype=t(E=tr["$[]"]("doctype"))?E:(rt=["doctype",y(L,"DEFAULT_DOCTYPE")],c(tr,"[]=",e.to_a(rt)),rt[u(rt.length,1)]),$t.$update_backend_attributes(vr,!0),t(E=tr["$[]"]("stylesdir"))||(rt=["stylesdir","."],c(tr,"[]=",e.to_a(rt)),rt[u(rt.length,1)]),t(E=tr["$[]"]("iconsdir"))||(rt=["iconsdir",""+tr.$fetch("imagesdir","./images")+"/icons"],c(tr,"[]=",e.to_a(rt)),rt[u(rt.length,1)]),$t.$fill_datetime_attributes(tr,nr),t(_t)&&(t(br=a["$[]"]("extension_registry"))?t(t(E=n(y(L,"Extensions"),"Registry")["$==="](br))?E:t(Ae=(dt=n("::","AsciidoctorJ","skip_raise"))&&(mt=n(dt,"Extensions","skip_raise"))&&(me=n(mt,"ExtensionRegistry","skip_raise"))?"constant":$)?n(n(n("::","AsciidoctorJ"),"Extensions"),"ExtensionRegistry")["$==="](br):Ae)&&($t.extensions=br.$activate($t)):t((yr=a["$[]"]("extensions"))["$nil?"]())?t(y(L,"Extensions").$groups()["$empty?"]())||($t.extensions=n(y(L,"Extensions"),"Registry").$new().$activate($t)):t(n("::","Proc")["$==="](yr))&&($t.extensions=c(y(L,"Extensions"),"create",[],yr.$to_proc()).$activate($t))),$t.reader=y(L,"PreprocessorReader").$new($t,k,n(y(L,"Reader"),"Cursor").$new(tr["$[]"]("docfile"),$t.base_dir),s(["normalize"],{normalize:!0})),t($t.sourcemap)?$t.source_location=$t.reader.$cursor():$)},Pe.$$arity=-1),e.def(f,"$parse",Ie=function(k){var a,E,T,M=this,te=$,X=$;return k==null&&(k=$),t(M.parsed)?M:(te=M,t(k)&&(M.reader=y(L,"PreprocessorReader").$new(te,k,n(y(L,"Reader"),"Cursor").$new(M.attributes["$[]"]("docfile"),M.base_dir),s(["normalize"],{normalize:!0})),t(M.sourcemap)&&(M.source_location=M.reader.$cursor())),t(t(a=X=function(){return t(M.parent_document)?$:M.extensions}())?X["$preprocessors?"]():a)&&c(X.$preprocessors(),"each",[],(E=function(Ae){var me=E.$$s||this,mt;return me.reader==null&&(me.reader=$),Ae==null&&(Ae=$),me.reader=t(mt=Ae.$process_method()["$[]"](te,me.reader))?mt:me.reader},E.$$s=M,E.$$arity=1,E)),y(L,"Parser").$parse(M.reader,te,s(["header_only"],{header_only:M.options["$[]"]("parse_header_only")})),M.$restore_attributes(),t(t(a=X)?X["$tree_processors?"]():a)&&c(X.$tree_processors(),"each",[],(T=function(Ae){var me=T.$$s||this,mt,dt,He=$;return Ae==null&&(Ae=$),t(t(mt=t(dt=He=Ae.$process_method()["$[]"](te))?y(L,"Document")["$==="](He):dt)?He["$!="](te):mt)?te=He:$},T.$$s=M,T.$$arity=1,T)),M.parsed=!0,te)},Ie.$$arity=-1),e.def(f,"$parsed?",ue=function(){var ne=this;return ne.parsed},ue.$$arity=0),e.def(f,"$counter",S=function(k,a){var E,T,M=this,te=$,X=$,Ae=$,me=$;return a==null&&(a=$),t(M.parent_document)?M.parent_document.$counter(k,a):(t(t(E=t(T=te=M["$attribute_locked?"](k))?X=M.counters["$[]"](k):T)?E:(X=M.attributes["$[]"](k))["$nil_or_empty?"]()["$!"]())?Ae=(me=[k,y(L,"Helpers").$nextval(X)],c(M.counters,"[]=",e.to_a(me)),me[u(me.length,1)]):t(a)?Ae=(me=[k,function(){return a["$=="](a.$to_i().$to_s())?a.$to_i():a}()],c(M.counters,"[]=",e.to_a(me)),me[u(me.length,1)]):Ae=(me=[k,1],c(M.counters,"[]=",e.to_a(me)),me[u(me.length,1)]),t(te)||(me=[k,Ae],c(M.attributes,"[]=",e.to_a(me)),me[u(me.length,1)]),Ae)},S.$$arity=-2),e.def(f,"$increment_and_store_counter",d=function(k,a){var E=this;return y(L,"AttributeEntry").$new(k,E.$counter(k)).$save_to(a.$attributes()).$value()},d.$$arity=2),e.alias(f,"counter_increment","increment_and_store_counter"),e.def(f,"$register",m=function(k,a){var E,T=this,M=$,te=$,X=$,Ae=$,me=$;return function(){return M=k,"ids"["$==="](M)?T.$register("refs",[te=a["$[]"](0),y(L,"Inline").$new(T,"anchor",a["$[]"](1),s(["type","id"],{type:"ref",id:te}))]):"refs"["$==="](M)?(X=T.catalog["$[]"]("refs"),t(E=X["$[]"](a["$[]"](0)))||(Ae=[a["$[]"](0),me=a["$[]"](1)],c(X,"[]=",e.to_a(Ae)),Ae[u(Ae.length,1)]),me):"footnotes"["$==="](M)?T.catalog["$[]"](k)["$<<"](a):t(T.options["$[]"]("catalog_assets"))?T.catalog["$[]"](k)["$<<"](function(){return k["$=="]("images")?y(L,"ImageReference").$new(a,T.attributes["$[]"]("imagesdir")):a}()):$}()},m.$$arity=2),e.def(f,"$resolve_id",p=function(k){var a,E,T=this,M=$,te=$;return t(T.reftexts)?T.reftexts["$[]"](k):t(T.parsed)?c(T.reftexts=s([],{}),"tap",[],(a=function(X){var Ae=a.$$s||this,me;return Ae.catalog==null&&(Ae.catalog=$),X==null&&(X=$),c(Ae.catalog["$[]"]("refs"),"each",[],(me=function(mt,dt){var He=me.$$s||this,kt,$t=$;return mt==null&&(mt=$),dt==null&&(dt=$),t(kt=X["$[]"](dt.$xreftext()))?kt:($t=[dt.$xreftext(),mt],c(X,"[]=",e.to_a($t)),$t[u($t.length,1)])},me.$$s=Ae,me.$$arity=2,me))},a.$$s=T,a.$$arity=1,a))["$[]"](k):(M=$,T.reftexts=te=s([],{}),function(){var X=e.new_brk();try{return c(T.catalog["$[]"]("refs"),"each",[],(E=function(Ae,me){var mt=E.$$s||this,dt,He=$,kt=$;return Ae==null&&(Ae=$),me==null&&(me=$),(He=me.$xreftext())["$=="](k)&&(M=Ae,e.brk($,X)),t(dt=te["$[]"](He))?dt:(kt=[He,Ae],c(te,"[]=",e.to_a(kt)),kt[u(kt.length,1)])},E.$$s=T,E.$$brk=X,E.$$arity=2,E))}catch(Ae){if(Ae===X)return Ae.$v;throw Ae}}(),T.reftexts=$,M)},p.$$arity=1),e.def(f,"$sections?",z=function(){var ne=this;return Xe(ne.next_section_index,0)},z.$$arity=0),e.def(f,"$footnotes?",Z=function(){var ne=this;return!t(ne.catalog["$[]"]("footnotes")["$empty?"]())},Z.$$arity=0),e.def(f,"$footnotes",re=function(){var k=this;return k.catalog["$[]"]("footnotes")},re.$$arity=0),e.def(f,"$callouts",ye=function(){var k=this;return k.catalog["$[]"]("callouts")},ye.$$arity=0),e.def(f,"$nested?",q=function(){var ne=this;return!!t(ne.parent_document)},q.$$arity=0),e.def(f,"$embedded?",ee=function(){var ne=this;return ne.attributes["$key?"]("embedded")},ee.$$arity=0),e.def(f,"$extensions?",V=function(){var ne=this;return!!t(ne.extensions)},V.$$arity=0),e.def(f,"$source",_e=function(){var k=this;return t(k.reader)?k.reader.$source():$},_e.$$arity=0),e.def(f,"$source_lines",Me=function(){var k=this;return t(k.reader)?k.reader.$source_lines():$},Me.$$arity=0),e.def(f,"$basebackend?",Te=function(ne){var k=this;return k.attributes["$[]"]("basebackend")["$=="](ne)},Te.$$arity=1),e.def(f,"$title",et=function(){var k=this;return k.$doctitle()},et.$$arity=0),e.def(f,"$title=",ct=function(ne){var k=this,a=$,E=$;return t(a=k.header)||(E=["header"],c(a=k.header=y(L,"Section").$new(k,0),"sectname=",e.to_a(E)),E[u(E.length,1)]),E=[ne],c(a,"title=",e.to_a(E)),E[u(E.length,1)]},ct.$$arity=1),e.def(f,"$doctitle",it=function(k){var a,E=this,T=$,M=$,te=$;if(k==null&&(k=s([],{})),!t(T=E.attributes["$[]"]("title"))){if(t(M=E.$first_section()))T=M.$title();else if(t((t(a=k["$[]"]("use_fallback"))?T=E.attributes["$[]"]("untitled-label"):a)["$!"]()))return $}return t(te=k["$[]"]("partition"))?y(L,"Title").$new(T,k.$merge(s(["separator"],{separator:function(){return te["$=="](!0)?E.attributes["$[]"]("title-separator"):te}()}))):t(t(a=k["$[]"]("sanitize"))?T["$include?"]("<"):a)?T.$gsub(y(L,"XmlSanitizeRx"),"").$squeeze(" ").$strip():T},it.$$arity=-1),e.alias(f,"name","doctitle"),e.def(f,"$xreftext",Ne=function(k){var a,E=this,T=$;return k==null&&(k=$),t(t(a=T=E.$reftext())?T["$empty?"]()["$!"]():a)?T:E.$title()},Ne.$$arity=-1),e.def(f,"$author",Se=function(){var k=this;return k.attributes["$[]"]("author")},Se.$$arity=0),e.def(f,"$authors",We=function(){var k,a=this,E=$,T=$,M=$,te=$;if(t((E=a.attributes)["$key?"]("author"))){if(T=[y(L,"Author").$new(E["$[]"]("author"),E["$[]"]("firstname"),E["$[]"]("middlename"),E["$[]"]("lastname"),E["$[]"]("authorinitials"),E["$[]"]("email"))],t(Xe(M=t(k=E["$[]"]("authorcount"))?k:0,1)))for(te=1;t(ie(te,M));)te=xe(te,1),T["$<<"](y(L,"Author").$new(E["$[]"]("author_"+te),E["$[]"]("firstname_"+te),E["$[]"]("middlename_"+te),E["$[]"]("lastname_"+te),E["$[]"]("authorinitials_"+te),E["$[]"]("email_"+te)));return T}else return[]},We.$$arity=0),e.def(f,"$revdate",tt=function(){var k=this;return k.attributes["$[]"]("revdate")},tt.$$arity=0),e.def(f,"$notitle",Qe=function(){var k=this;return k.attributes["$key?"]("notitle")},Qe.$$arity=0),e.def(f,"$noheader",nt=function(){var k=this;return k.attributes["$key?"]("noheader")},nt.$$arity=0),e.def(f,"$nofooter",yt=function(){var k=this;return k.attributes["$key?"]("nofooter")},yt.$$arity=0),e.def(f,"$first_section",lt=function(){var k,a,E=this;return t(k=E.header)?k:c(E.blocks,"find",[],(a=function(T){var M=a.$$s||this;return T==null&&(T=$),T.$context()["$=="]("section")},a.$$s=E,a.$$arity=1,a))},lt.$$arity=0),e.def(f,"$header?",K=function(){var ne=this;return!!t(ne.header)},K.$$arity=0),e.alias(f,"has_header?","header?"),e.def(f,"$<<",l=function(ne){var k=l.$$p,a=k||$,E=this,T=$,M=$,te=$;for(k&&(l.$$p=null),M=0,te=arguments.length,T=new Array(te);M<te;M++)T[M]=arguments[M];return ne.$context()["$=="]("section")&&E.$assign_numeral(ne),c(E,e.find_super_dispatcher(E,"<<",l,!1),T,k)},l.$$arity=1),e.def(f,"$finalize_header",v=function(k,a){var E=this,T=$;return a==null&&(a=!0),E.$clear_playback_attributes(k),E.$save_attributes(),t(a)||(T=["invalid-header",!0],c(k,"[]=",e.to_a(T)),T[u(T.length,1)]),k},v.$$arity=-2),e.def(f,"$playback_attributes",I=function(k){var a,E=this;return t(k["$key?"]("attribute_entries"))?c(k["$[]"]("attribute_entries"),"each",[],(a=function(T){var M=a.$$s||this,te=$,X=$;return M.attributes==null&&(M.attributes=$),T==null&&(T=$),te=T.$name(),t(T.$negate())?(M.attributes.$delete(te),te["$=="]("compat-mode")?M.compat_mode=!1:$):(X=[te,T.$value()],c(M.attributes,"[]=",e.to_a(X)),X[u(X.length,1)],te["$=="]("compat-mode")?M.compat_mode=!0:$)},a.$$s=E,a.$$arity=1,a)):$},I.$$arity=1),e.def(f,"$restore_attributes",U=function(){var k=this;return t(k.parent_document)||k.catalog["$[]"]("callouts").$rewind(),k.attributes.$replace(k.header_attributes)},U.$$arity=0),e.def(f,"$set_attribute",P=function(k,a){var E,T=this,M=$,te=$;return a==null&&(a=""),t(T["$attribute_locked?"](k))?$:(t(a["$empty?"]())||(a=T.$apply_attribute_value_subs(a)),t(T.header_attributes)?(M=[k,a],c(T.attributes,"[]=",e.to_a(M)),M[u(M.length,1)]):(te=k,"backend"["$==="](te)?T.$update_backend_attributes(a,t(E=T.attributes_modified["$delete?"]("htmlsyntax"))?a["$=="](T.backend):E):"doctype"["$==="](te)?T.$update_doctype_attributes(a):(M=[k,a],c(T.attributes,"[]=",e.to_a(M)),M[u(M.length,1)]),T.attributes_modified["$<<"](k)),a)},P.$$arity=-2),e.def(f,"$delete_attribute",de=function(k){var a=this;return t(a["$attribute_locked?"](k))?!1:(a.attributes.$delete(k),a.attributes_modified["$<<"](k),!0)},de.$$arity=1),e.def(f,"$attribute_locked?",be=function(ne){var k=this;return k.attribute_overrides["$key?"](ne)},be.$$arity=1),e.def(f,"$set_header_attribute",je=function(k,a,E){var T,M=this,te=$,X=$;return a==null&&(a=""),E==null&&(E=!0),te=t(T=M.header_attributes)?T:M.attributes,t((T=E["$=="](!1))?te["$key?"](k):E["$=="](!1))?!1:(X=[k,a],c(te,"[]=",e.to_a(X)),X[u(X.length,1)],!0)},je.$$arity=-2),e.def(f,"$convert",Be=function(k){var a,E,T=this,M=$,te=$,X=$,Ae=$,me=$;return k==null&&(k=s([],{})),t(T.timings)&&T.timings.$start("convert"),t(T.parsed)||T.$parse(),t(t(a=O(T.safe,n(y(L,"SafeMode"),"SERVER")))?a:k["$empty?"]())||(t((M=["outfile",k["$[]"]("outfile")],c(T.attributes,"[]=",e.to_a(M)),M[u(M.length,1)]))||T.attributes.$delete("outfile"),t((M=["outdir",k["$[]"]("outdir")],c(T.attributes,"[]=",e.to_a(M)),M[u(M.length,1)]))||T.attributes.$delete("outdir")),T.$doctype()["$=="]("inline")?t(te=t(a=T.blocks["$[]"](0))?a:T.header)&&(t(t(a=te.$content_model()["$=="]("compound"))?a:te.$content_model()["$=="]("empty"))?T.$logger().$warn("no inline candidate; use the inline doctype to convert a single paragragh, verbatim, or raw block"):X=te.$content()):(t(k["$key?"]("standalone"))?Ae=function(){return t(k["$[]"]("standalone"))?"document":"embedded"}():t(k["$key?"]("header_footer"))?Ae=function(){return t(k["$[]"]("header_footer"))?"document":"embedded"}():Ae=function(){return t(T.options["$[]"]("standalone"))?"document":"embedded"}(),X=T.converter.$convert(T,Ae)),t(T.parent_document)||t(t(a=me=T.extensions)?me["$postprocessors?"]():a)&&c(me.$postprocessors(),"each",[],(E=function(mt){var dt=E.$$s||this;return mt==null&&(mt=$),X=mt.$process_method()["$[]"](dt,X)},E.$$s=T,E.$$arity=1,E)),t(T.timings)&&T.timings.$record("convert"),X},Be.$$arity=-1),e.alias(f,"render","convert"),e.def(f,"$write",Ke=function(k,a){var E,T,M=this;return t(M.timings)&&M.timings.$start("write"),t(y(L,"Writer")["$==="](M.converter))?M.converter.$write(k,a):(t(a["$respond_to?"]("write"))?t(k["$nil_or_empty?"]())||(a.$write(k.$chomp()),a.$write(y(L,"LF"))):n("::","File").$write(a,k,s(["mode"],{mode:y(L,"FILE_WRITE_MODE")})),t(t(E=(T=M.backend["$=="]("manpage"))?n("::","String")["$==="](a):M.backend["$=="]("manpage"))?M.converter.$class()["$respond_to?"]("write_alternate_pages"):E)&&M.converter.$class().$write_alternate_pages(M.attributes["$[]"]("mannames"),M.attributes["$[]"]("manvolnum"),a)),t(M.timings)&&M.timings.$record("write"),$},Ke.$$arity=2),e.def(f,"$content",we=function(){var k=we.$$p,a=k||$,E=this,T=$,M=$,te=$;for(k&&(we.$$p=null),M=0,te=arguments.length,T=new Array(te);M<te;M++)T[M]=arguments[M];return E.attributes.$delete("title"),c(E,e.find_super_dispatcher(E,"content",we,!1),T,k)},we.$$arity=0),e.def(f,"$docinfo",ot=function(k,a){var E,T,M,te=this,X=$,Ae=$,me=$,mt=$,dt=$,He=$,kt=$,$t=$,Tt=$;return k==null&&(k="head"),a==null&&(a=$),t(ie(te.$safe(),n(y(L,"SafeMode"),"SECURE")))&&(k["$=="]("head")||(X="-"+k),a=t(E=a)?E:te.outfilesuffix,t((Ae=te.attributes["$[]"]("docinfo"))["$nil_or_empty?"]())?t(te.attributes["$key?"]("docinfo2"))?Ae=["private","shared"]:t(te.attributes["$key?"]("docinfo1"))?Ae=["shared"]:Ae=function(){return t(Ae)?["private"]:$}():Ae=c(Ae.$split(","),"map",[],(T=function(rt){var Lt=T.$$s||this;return rt==null&&(rt=$),rt.$strip()},T.$$s=te,T.$$arity=1,T)),t(Ae)&&(me=[],E=["docinfo"+X+a,te.attributes["$[]"]("docinfodir"),te.$resolve_docinfo_subs()],mt=E[0],dt=E[1],He=E[2],t(Ae["$&"](["shared","shared-"+k])["$empty?"]())||(kt=te.$normalize_system_path(mt,dt),t($t=te.$read_asset(kt,s(["normalize"],{normalize:!0})))&&me["$<<"](te.$apply_subs($t,He))),t(t(E=te.attributes["$[]"]("docname")["$nil_or_empty?"]())?E:Ae["$&"](["private","private-"+k])["$empty?"]())||(kt=te.$normalize_system_path(""+te.attributes["$[]"]("docname")+"-"+mt,dt),t(Tt=te.$read_asset(kt,s(["normalize"],{normalize:!0})))&&me["$<<"](te.$apply_subs(Tt,He))))),t(t(E=te.extensions)?te["$docinfo_processors?"](k):E)?(t(E=me)?E:[]).$concat(c(te.docinfo_processor_extensions["$[]"](k),"map",[],(M=function(rt){var Lt=M.$$s||this;return rt==null&&(rt=$),rt.$process_method()["$[]"](Lt)},M.$$s=te,M.$$arity=1,M)).$compact()).$join(y(L,"LF")):t(me)?me.$join(y(L,"LF")):""},ot.$$arity=-1),e.def(f,"$docinfo_processors?",at=function(ne){var k,a=this,E=$;return ne==null&&(ne="head"),t(a.docinfo_processor_extensions["$key?"](ne))?a.docinfo_processor_extensions["$[]"](ne)["$!="](!1):t(t(k=a.extensions)?a.document.$extensions()["$docinfo_processors?"](ne):k)?(E=[ne,a.document.$extensions().$docinfo_processors(ne)],c(a.docinfo_processor_extensions,"[]=",e.to_a(E)),E[u(E.length,1)])["$!"]()["$!"]():(E=[ne,!1],c(a.docinfo_processor_extensions,"[]=",e.to_a(E)),E[u(E.length,1)])},at.$$arity=-1),e.def(f,"$to_s",vt=function(){var k,a=this;return"#<"+a.$class()+"@"+a.$object_id()+" {doctype: "+a.$doctype().$inspect()+", doctitle: "+(t(k=a.header)?a.header.$title():k).$inspect()+", blocks: "+a.blocks.$size()+"}>"},vt.$$arity=0),f.$private(),e.def(f,"$apply_attribute_value_subs",Dt=function(k){var a,E=this;return t(y(L,"AttributeEntryPassMacroRx")["$=~"](k))?(k=(a=j["~"])===$?$:a["$[]"](2),t((a=j["~"])===$?$:a["$[]"](1))&&(k=E.$apply_subs(k,E.$resolve_pass_subs((a=j["~"])===$?$:a["$[]"](1))))):k=E.$apply_header_subs(k),t(E.max_attribute_value_size)?E.$limit_bytesize(k,E.max_attribute_value_size):k},Dt.$$arity=1),e.def(f,"$limit_bytesize",bt=function(k,a){var E,T=this;if(t(Xe(k.$bytesize(),a)))for(;!t((k=k.$byteslice(0,a))["$valid_encoding?"]());)a=u(a,1);return k},bt.$$arity=2),e.def(f,"$resolve_docinfo_subs",ce=function(){var k=this;return t(k.attributes["$key?"]("docinfosubs"))?k.$resolve_subs(k.attributes["$[]"]("docinfosubs"),"block",$,"docinfo"):["attributes"]},ce.$$arity=0),e.def(f,"$create_converter",Ee=function(k,a){var E,T=this,M=$,te=$,X=$,Ae=$,me=$;return M=s(["document","htmlsyntax"],{document:T,htmlsyntax:T.attributes["$[]"]("htmlsyntax")}),t(te=t(E=(X=T.options)["$[]"]("template_dirs"))?E:X["$[]"]("template_dir"))&&(Ae=["template_dirs",[].concat(e.to_a(te))],c(M,"[]=",e.to_a(Ae)),Ae[u(Ae.length,1)],Ae=["template_cache",X.$fetch("template_cache",!0)],c(M,"[]=",e.to_a(Ae)),Ae[u(Ae.length,1)],Ae=["template_engine",X["$[]"]("template_engine")],c(M,"[]=",e.to_a(Ae)),Ae[u(Ae.length,1)],Ae=["template_engine_options",X["$[]"]("template_engine_options")],c(M,"[]=",e.to_a(Ae)),Ae[u(Ae.length,1)],Ae=["eruby",X["$[]"]("eruby")],c(M,"[]=",e.to_a(Ae)),Ae[u(Ae.length,1)],Ae=["safe",T.safe],c(M,"[]=",e.to_a(Ae)),Ae[u(Ae.length,1)],t(a)&&(Ae=["delegate_backend",a],c(M,"[]=",e.to_a(Ae)),Ae[u(Ae.length,1)])),t(me=X["$[]"]("converter"))?n(y(L,"Converter"),"CustomFactory").$new(i(k,me)).$create(k,M):X.$fetch("converter_factory",y(L,"Converter")).$create(k,M)},Ee.$$arity=2),e.def(f,"$clear_playback_attributes",fe=function(k){var a=this;return k.$delete("attribute_entries")},fe.$$arity=1),e.def(f,"$save_attributes",o=function(){var k,a,E=this,T=$,M=$,te=$,X=$,Ae=$,me=$,mt=$,dt=$,He=$,kt=$,$t=$,Tt=$,rt=$,Lt=$,Yt=$;return t(t(k=(T=E.attributes)["$key?"]("doctitle"))?k:(M=E.$doctitle())["$!"]())||(te=["doctitle",M],c(T,"[]=",e.to_a(te)),te[u(te.length,1)]),E.id=t(k=E.id)?k:T["$[]"]("css-signature"),t(X=function(){return t(T.$delete("toc2"))?"left":T["$[]"]("toc")}())&&(Ae=function(){return t(t(k=me=T.$fetch("toc-placement","macro"))?me["$!="]("auto"):k)?me:T["$[]"]("toc-position")}(),t(t(k=X["$empty?"]())?Ae["$nil_or_empty?"]():k)||(mt="left",dt="toc2",He=function(){return t(Ae["$nil_or_empty?"]())?t(X["$empty?"]())?mt:X:Ae}(),te=["toc",""],c(T,"[]=",e.to_a(te)),te[u(te.length,1)],te=["toc-placement","auto"],c(T,"[]=",e.to_a(te)),te[u(te.length,1)],kt=He,"left"["$==="](kt)||"<"["$==="](kt)||"&lt;"["$==="](kt)?(te=["toc-position","left"],c(T,"[]=",e.to_a(te)),te[u(te.length,1)]):"right"["$==="](kt)||">"["$==="](kt)||"&gt;"["$==="](kt)?(te=["toc-position","right"],c(T,"[]=",e.to_a(te)),te[u(te.length,1)]):"top"["$==="](kt)||"^"["$==="](kt)?(te=["toc-position","top"],c(T,"[]=",e.to_a(te)),te[u(te.length,1)]):"bottom"["$==="](kt)||"v"["$==="](kt)?(te=["toc-position","bottom"],c(T,"[]=",e.to_a(te)),te[u(te.length,1)]):"preamble"["$==="](kt)||"macro"["$==="](kt)?(te=["toc-position","content"],c(T,"[]=",e.to_a(te)),te[u(te.length,1)],te=["toc-placement",He],c(T,"[]=",e.to_a(te)),te[u(te.length,1)],dt=$):(T.$delete("toc-position"),dt=$),t(dt)&&(t(k=T["$[]"]("toc-class"))||(te=["toc-class",dt],c(T,"[]=",e.to_a(te)),te[u(te.length,1)])))),t(t(k=$t=T["$[]"]("icons"))?T["$key?"]("icontype")["$!"]():k)&&(kt=$t,""["$==="](kt)||"font"["$==="](kt)||(te=["icons",""],c(T,"[]=",e.to_a(te)),te[u(te.length,1)],$t["$=="]("image")||(te=["icontype",$t],c(T,"[]=",e.to_a(te)),te[u(te.length,1)]))),t(t(k=E.compat_mode=T["$key?"]("compat-mode"))?T["$key?"]("language"):k)&&(te=["source-language",T["$[]"]("language")],c(T,"[]=",e.to_a(te)),te[u(te.length,1)]),t(E.parent_document)||((Tt=T["$[]"]("basebackend"))["$=="]("html")?t(t(k=rt=T["$[]"]("source-highlighter"))?T["$[]"](""+rt+"-unavailable")["$!"]():k)&&(t(Lt=E.options["$[]"]("syntax_highlighter_factory"))?E.syntax_highlighter=Lt.$create(rt,E.backend,s(["document"],{document:E})):t(Yt=E.options["$[]"]("syntax_highlighters"))?E.syntax_highlighter=n(y(L,"SyntaxHighlighter"),"DefaultFactoryProxy").$new(Yt).$create(rt,E.backend,s(["document"],{document:E})):E.syntax_highlighter=y(L,"SyntaxHighlighter").$create(rt,E.backend,s(["document"],{document:E}))):Tt["$=="]("docbook")&&(t(t(k=E["$attribute_locked?"]("toc"))?k:E.attributes_modified["$include?"]("toc"))||(te=["toc",""],c(T,"[]=",e.to_a(te)),te[u(te.length,1)]),t(t(k=E["$attribute_locked?"]("sectnums"))?k:E.attributes_modified["$include?"]("sectnums"))||(te=["sectnums",""],c(T,"[]=",e.to_a(te)),te[u(te.length,1)])),E.outfilesuffix=T["$[]"]("outfilesuffix"),c(y(L,"FLEXIBLE_ATTRIBUTES"),"each",[],(a=function(_t){var Zt=a.$$s||this,rr;return Zt.attribute_overrides==null&&(Zt.attribute_overrides=$),_t==null&&(_t=$),t(t(rr=Zt.attribute_overrides["$key?"](_t))?Zt.attribute_overrides["$[]"](_t):rr)?Zt.attribute_overrides.$delete(_t):$},a.$$s=E,a.$$arity=1,a))),E.header_attributes=T.$merge()},o.$$arity=0),e.def(f,"$fill_datetime_attributes",H=function(k,a){var E,T,M=this,te=$,X=$,Ae=$,me=$,mt=$,dt=$,He=$;return te=function(){return t(n("::","ENV")["$key?"]("SOURCE_DATE_EPOCH"))?X=n("::","Time").$at(M.$Integer(n("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))).$utc():n("::","Time").$now()}(),t(Ae=k["$[]"]("localdate"))?t(E=k["$[]"]("localyear"))||(me=["localyear",function(){return Ae.$index("-")["$=="](4)?Ae.$slice(0,4):$}()],c(k,"[]=",e.to_a(me)),me[u(me.length,1)]):(Ae=(me=["localdate",te.$strftime("%F")],c(k,"[]=",e.to_a(me)),me[u(me.length,1)]),t(E=k["$[]"]("localyear"))||(me=["localyear",te.$year().$to_s()],c(k,"[]=",e.to_a(me)),me[u(me.length,1)])),mt=t(E=k["$[]"]("localtime"))?E:(me=["localtime",te.$strftime("%T "+function(){return te.$utc_offset()["$=="](0)?"UTC":"%z"}())],c(k,"[]=",e.to_a(me)),me[u(me.length,1)]),t(E=k["$[]"]("localdatetime"))||(me=["localdatetime",""+Ae+" "+mt],c(k,"[]=",e.to_a(me)),me[u(me.length,1)]),a=t(E=t(T=X)?T:a)?E:te,t(dt=k["$[]"]("docdate"))?t(E=k["$[]"]("docyear"))||(me=["docyear",function(){return dt.$index("-")["$=="](4)?dt.$slice(0,4):$}()],c(k,"[]=",e.to_a(me)),me[u(me.length,1)]):(dt=(me=["docdate",a.$strftime("%F")],c(k,"[]=",e.to_a(me)),me[u(me.length,1)]),t(E=k["$[]"]("docyear"))||(me=["docyear",a.$year().$to_s()],c(k,"[]=",e.to_a(me)),me[u(me.length,1)])),He=t(E=k["$[]"]("doctime"))?E:(me=["doctime",a.$strftime("%T "+function(){return a.$utc_offset()["$=="](0)?"UTC":"%z"}())],c(k,"[]=",e.to_a(me)),me[u(me.length,1)]),t(E=k["$[]"]("docdatetime"))||(me=["docdatetime",""+dt+" "+He],c(k,"[]=",e.to_a(me)),me[u(me.length,1)]),$},H.$$arity=2),e.def(f,"$update_backend_attributes",Y=function(k,a){var E,T,M=this,te=$,X=$,Ae=$,me=$,mt=$,dt=$,He=$,kt=$,$t=$,Tt=$,rt=$,Lt=$,Yt=$,_t=$,Zt=$;return a==null&&(a=$),t(t(E=a)?E:k["$!="](M.backend))?(te=M.backend,X=(Ae=M.attributes)["$[]"]("basebackend"),me=M.doctype,t(k["$include?"](":"))&&(T=k.$partition(":"),E=e.to_ary(T),mt=E[0]==null?$:E[0],dt=E[1]==null?$:E[1],k=E[2]==null?$:E[2]),t(k["$start_with?"]("xhtml"))?(He=["htmlsyntax","xml"],c(Ae,"[]=",e.to_a(He)),He[u(He.length,1)],k=k.$slice(1,k.$length())):t(k["$start_with?"]("html"))&&(t(E=Ae["$[]"]("htmlsyntax"))||(He=["htmlsyntax","html"],c(Ae,"[]=",e.to_a(He)),He[u(He.length,1)])),k=t(E=y(L,"BACKEND_ALIASES")["$[]"](k))?E:k,t(mt)&&(E=[mt,k],k=E[0],kt=E[1]),t(me)?(t(te)&&(Ae.$delete("backend-"+te),Ae.$delete("backend-"+te+"-doctype-"+me)),He=["backend-"+k+"-doctype-"+me,""],c(Ae,"[]=",e.to_a(He)),He[u(He.length,1)],He=["doctype-"+me,""],c(Ae,"[]=",e.to_a(He)),He[u(He.length,1)]):t(te)&&Ae.$delete("backend-"+te),He=["backend-"+k,""],c(Ae,"[]=",e.to_a(He)),He[u(He.length,1)],M.backend=(He=["backend",k],c(Ae,"[]=",e.to_a(He)),He[u(He.length,1)]),t(n(y(L,"Converter"),"BackendTraits")["$==="]($t=M.$create_converter(k,kt)))?(Tt=$t.$basebackend(),rt=$t.$filetype(),t(Lt=$t.$htmlsyntax())&&(He=["htmlsyntax",Lt],c(Ae,"[]=",e.to_a(He)),He[u(He.length,1)]),t(a)?t(E=Ae["$[]"]("outfilesuffix"))||(He=["outfilesuffix",$t.$outfilesuffix()],c(Ae,"[]=",e.to_a(He)),He[u(He.length,1)]):t(M["$attribute_locked?"]("outfilesuffix"))||(He=["outfilesuffix",$t.$outfilesuffix()],c(Ae,"[]=",e.to_a(He)),He[u(He.length,1)])):t($t)?(Yt=y(L,"Converter").$derive_backend_traits(k),Tt=Yt["$[]"]("basebackend"),rt=Yt["$[]"]("filetype"),t(a)?t(E=Ae["$[]"]("outfilesuffix"))||(He=["outfilesuffix",Yt["$[]"]("outfilesuffix")],c(Ae,"[]=",e.to_a(He)),He[u(He.length,1)]):t(M["$attribute_locked?"]("outfilesuffix"))||(He=["outfilesuffix",Yt["$[]"]("outfilesuffix")],c(Ae,"[]=",e.to_a(He)),He[u(He.length,1)])):M.$raise(n("::","NotImplementedError"),"asciidoctor: FAILED: missing converter for backend '"+k+"'. Processing aborted."),M.converter=$t,t(_t=Ae["$[]"]("filetype"))&&Ae.$delete("filetype-"+_t),He=["filetype",rt],c(Ae,"[]=",e.to_a(He)),He[u(He.length,1)],He=["filetype-"+rt,""],c(Ae,"[]=",e.to_a(He)),He[u(He.length,1)],t(Zt=y(L,"DEFAULT_PAGE_WIDTHS")["$[]"](Tt))?(He=["pagewidth",Zt],c(Ae,"[]=",e.to_a(He)),He[u(He.length,1)]):Ae.$delete("pagewidth"),t(Tt["$!="](X))&&(t(me)?(t(X)&&(Ae.$delete("basebackend-"+X),Ae.$delete("basebackend-"+X+"-doctype-"+me)),He=["basebackend-"+Tt+"-doctype-"+me,""],c(Ae,"[]=",e.to_a(He)),He[u(He.length,1)]):t(X)&&Ae.$delete("basebackend-"+X),He=["basebackend-"+Tt,""],c(Ae,"[]=",e.to_a(He)),He[u(He.length,1)],He=["basebackend",Tt],c(Ae,"[]=",e.to_a(He)),He[u(He.length,1)]),k):$},Y.$$arity=-2),e.def(f,"$update_doctype_attributes",Q=function(k){var a,E=this,T=$,M=$,te=$,X=$,Ae=$;return t(t(a=k)?k["$!="](E.doctype):a)?(a=[E.backend,(T=E.attributes)["$[]"]("basebackend"),E.doctype],M=a[0],te=a[1],X=a[2],t(X)?(T.$delete("doctype-"+X),t(M)&&(T.$delete("backend-"+M+"-doctype-"+X),Ae=["backend-"+M+"-doctype-"+k,""],c(T,"[]=",e.to_a(Ae)),Ae[u(Ae.length,1)]),t(te)&&(T.$delete("basebackend-"+te+"-doctype-"+X),Ae=["basebackend-"+te+"-doctype-"+k,""],c(T,"[]=",e.to_a(Ae)),Ae[u(Ae.length,1)])):(t(M)&&(Ae=["backend-"+M+"-doctype-"+k,""],c(T,"[]=",e.to_a(Ae)),Ae[u(Ae.length,1)]),t(te)&&(Ae=["basebackend-"+te+"-doctype-"+k,""],c(T,"[]=",e.to_a(Ae)),Ae[u(Ae.length,1)])),Ae=["doctype-"+k,""],c(T,"[]=",e.to_a(Ae)),Ae[u(Ae.length,1)],E.doctype=(Ae=["doctype",k],c(T,"[]=",e.to_a(Ae)),Ae[u(Ae.length,1)])):$},Q.$$arity=1),$&&"update_doctype_attributes"})(C[0],y(C,"AbstractBlock"),C)}($e[0],$e)},Opal.modules["asciidoctor/inline"]=function(e){var u=e.top,O=[],xe=e.nil,Xe=e.const_get_qualified,ie=e.const_get_relative,A=e.breaker,$e=e.slice,$=e.module,n=e.klass,y=e.hash2,W=e.send,oe=e.truthy;return e.add_stubs(["$attr_accessor","$attr_reader","$[]","$convert","$converter","$attr","$==","$apply_reftext_subs","$reftext"]),function(b,_){var c=$(b,"Asciidoctor"),t=[c].concat(_);(function(s,i,j){var h=n(s,i,"Inline"),g=[h].concat(j),w,C,F,N,x,f,L,ae;return h.$$prototype.text=h.$$prototype.type=xe,h.$attr_accessor("text"),h.$attr_reader("type"),h.$attr_accessor("target"),e.def(h,"$initialize",w=function(Ie,ue,S,d){var m=w.$$p,p=m||xe,z=this;return m&&(w.$$p=null),S==null&&(S=xe),d==null&&(d=y([],{})),W(z,e.find_super_dispatcher(z,"initialize",w,!1),[Ie,ue,d],null),z.node_name="inline_"+ue,z.text=S,z.id=d["$[]"]("id"),z.type=d["$[]"]("type"),z.target=d["$[]"]("target")},w.$$arity=-3),e.def(h,"$block?",C=function(){var Pe=this;return!1},C.$$arity=0),e.def(h,"$inline?",F=function(){var Pe=this;return!0},F.$$arity=0),e.def(h,"$convert",N=function(){var Ie=this;return Ie.$converter().$convert(Ie)},N.$$arity=0),e.alias(h,"render","convert"),e.def(h,"$alt",x=function(){var Ie,ue=this;return oe(Ie=ue.$attr("alt"))?Ie:""},x.$$arity=0),e.def(h,"$reftext?",f=function(){var Pe,Ie,ue=this;return oe(Pe=ue.text)?oe(Ie=ue.type["$=="]("ref"))?Ie:ue.type["$=="]("bibref"):Pe},f.$$arity=0),e.def(h,"$reftext",L=function(){var Ie=this,ue=xe;return oe(ue=Ie.text)?Ie.$apply_reftext_subs(ue):xe},L.$$arity=0),e.def(h,"$xreftext",ae=function(Ie){var ue=this;return Ie==null&&(Ie=xe),ue.$reftext()},ae.$$arity=-1),xe&&"xreftext"})(t[0],ie(t,"AbstractNode"),t)}(O[0],O)},Opal.modules["asciidoctor/list"]=function(e){var u=e.top,O=[],xe=e.nil,Xe=e.const_get_qualified,ie=e.const_get_relative,A=e.breaker,$e=e.slice,$=e.module,n=e.klass,y=e.hash2,W=e.send,oe=e.truthy;return e.add_stubs(["$==","$next_list","$callouts","$class","$object_id","$inspect","$size","$items","$attr_accessor","$level","$drop","$nil_or_empty?","$apply_subs","$attr_writer","$empty?","$===","$[]","$outline?","$!","$simple?","$source","$shift","$context","$parent"]),function(b,_){var c=$(b,"Asciidoctor"),t=[c].concat(_);(function(s,i,j){var h=n(s,i,"List"),g=[h].concat(j),w,C,F,N;return h.$$prototype.context=h.$$prototype.document=h.$$prototype.style=xe,e.alias(h,"items","blocks"),e.alias(h,"content","blocks"),e.alias(h,"items?","blocks?"),e.def(h,"$initialize",w=function(f,L,ae){var Pe=w.$$p,Ie=Pe||xe,ue=this,S=xe,d=xe,m=xe;for(Pe&&(w.$$p=null),d=0,m=arguments.length,S=new Array(m);d<m;d++)S[d]=arguments[d];return ae==null&&(ae=y([],{})),W(ue,e.find_super_dispatcher(ue,"initialize",w,!1),S,Pe)},w.$$arity=-3),e.def(h,"$outline?",C=function(){var x,f=this;return oe(x=f.context["$=="]("ulist"))?x:f.context["$=="]("olist")},C.$$arity=0),e.def(h,"$convert",F=function(){var f=F.$$p,L=f||xe,ae=this,Pe=xe,Ie=xe,ue=xe,S=xe;for(f&&(F.$$p=null),ue=0,S=arguments.length,Ie=new Array(S);ue<S;ue++)Ie[ue]=arguments[ue];return ae.context["$=="]("colist")?(Pe=W(ae,e.find_super_dispatcher(ae,"convert",F,!1),Ie,f),ae.document.$callouts().$next_list(),Pe):W(ae,e.find_super_dispatcher(ae,"convert",F,!1),Ie,f)},F.$$arity=0),e.alias(h,"render","convert"),e.def(h,"$to_s",N=function(){var f=this;return"#<"+f.$class()+"@"+f.$object_id()+" {context: "+f.context.$inspect()+", style: "+f.style.$inspect()+", items: "+f.$items().$size()+"}>"},N.$$arity=0),xe&&"to_s"})(t[0],ie(t,"AbstractBlock"),t),function(s,i,j){var h=n(s,i,"ListItem"),g=[h].concat(j),w,C,F,N,x,f,L;return h.$$prototype.text=h.$$prototype.subs=h.$$prototype.blocks=xe,e.alias(h,"list","parent"),h.$attr_accessor("marker"),e.def(h,"$initialize",w=function(Pe,Ie){var ue=w.$$p,S=ue||xe,d=this;return ue&&(w.$$p=null),Ie==null&&(Ie=xe),W(d,e.find_super_dispatcher(d,"initialize",w,!1),[Pe,"list_item"],null),d.text=Ie,d.level=Pe.$level(),d.subs=ie(g,"NORMAL_SUBS").$drop(0)},w.$$arity=-2),e.def(h,"$text?",C=function(){var ae=this;return!oe(ae.text["$nil_or_empty?"]())},C.$$arity=0),e.def(h,"$text",F=function(){var Pe,Ie=this;return oe(Pe=Ie.text)?Ie.$apply_subs(Ie.text,Ie.subs):Pe},F.$$arity=0),h.$attr_writer("text"),e.def(h,"$simple?",N=function(){var ae,Pe,Ie,ue=this,S=xe;return oe(ae=ue.blocks["$empty?"]())?ae:oe(Pe=(Ie=ue.blocks.$size()["$=="](1))?ie(g,"List")["$==="](S=ue.blocks["$[]"](0)):ue.blocks.$size()["$=="](1))?S["$outline?"]():Pe},N.$$arity=0),e.def(h,"$compound?",x=function(){var ae=this;return ae["$simple?"]()["$!"]()},x.$$arity=0),e.def(h,"$fold_first",f=function(){var Pe=this;return Pe.text=function(){return oe(Pe.text["$nil_or_empty?"]())?Pe.blocks.$shift().$source():""+Pe.text+ie(g,"LF")+Pe.blocks.$shift().$source()}(),xe},f.$$arity=0),e.def(h,"$to_s",L=function(){var Pe,Ie=this;return"#<"+Ie.$class()+"@"+Ie.$object_id()+" {list_context: "+Ie.$parent().$context().$inspect()+", text: "+Ie.text.$inspect()+", blocks: "+(oe(Pe=Ie.blocks)?Pe:[]).$size()+"}>"},L.$$arity=0),xe&&"to_s"}(t[0],ie(t,"AbstractBlock"),t)}(O[0],O)},Opal.modules["asciidoctor/parser"]=function(e){function u(j,h){return typeof j=="number"&&typeof h=="number"?j-h:j["$-"](h)}function O(j,h){return typeof j=="number"&&typeof h=="number"?j+h:j["$+"](h)}function xe(j,h){return typeof j=="number"&&typeof h=="number"?j<h:j["$<"](h)}function Xe(j,h){return typeof j=="number"&&typeof h=="number"?j>h:j["$>"](h)}function ie(j,h){return typeof j=="number"&&typeof h=="number"?j*h:j["$*"](h)}var A=e.top,$e=[],$=e.nil,n=e.const_get_qualified,y=e.const_get_relative,W=e.breaker,oe=e.slice,b=e.module,_=e.klass,c=e.send,t=e.truthy,s=e.hash2,i=e.gvars;return e.add_stubs(["$include","$new","$proc","$start_with?","$match?","$is_delimited_block?","$private_class_method","$parse_document_header","$[]","$has_more_lines?","$next_section","$assign_numeral","$<<","$blocks","$skip_blank_lines","$parse_block_metadata_lines","$attributes","$is_next_line_doctitle?","$[]=","$-","$finalize_header","$nil_or_empty?","$title=","$sourcemap","$cursor","$parse_section_title","$id=","$include?","$sub_specialchars","$sub_attributes","$source_location=","$header","$attribute_locked?","$id","$clear","$delete","$instance_variable_get","$parse_header_metadata","$==","$!","$register","$process_authors","$update","$doctype","$parse_manpage_header","$=~","$downcase","$error","$logger","$message_with_context","$cursor_at_line","$backend","$save","$is_next_line_section?","$initialize_section","$join","$map","$read_lines_until","$lstrip","$split","$title","$restore_save","$discard_save","$context","$empty?","$header?","$!=","$attr?","$attr","$key?","$document","$+","$level","$special","$sectname","$to_i","$<","$>","$warn","$next_block","$blocks?","$style","$context=","$style=","$parent=","$size","$content_model","$shift","$unwrap_standalone_preamble","$source_location","$merge","$fetch","$parse_block_metadata_line","$extensions","$block_macros?","$mark","$read_line","$terminator","$to_s","$masq","$to_sym","$registered_for_block?","$debug?","$debug","$cursor_at_mark","$strict_verbatim_paragraphs","$unshift_line","$markdown_syntax","$keys","$chr","$uniform?","$length","$end_with?","$===","$parse_attributes","$attribute_missing","$tr","$basename","$assign_caption","$registered_for_block_macro?","$config","$process_method","$replace","$parse_callout_list","$callouts","$parse_list","$parse_description_list","$underline_style_section_titles","$is_section_title?","$peek_line","$atx_section_title?","$generate_id","$level=","$read_paragraph_lines","$adjust_indentation!","$map!","$slice","$pop","$build_block","$apply_subs","$chop","$catalog_inline_anchors","$rekey","$index","$strip","$parse_table","$each","$raise","$title?","$update_attributes","$commit_subs","$sub?","$catalog_callouts","$source","$remove_sub","$block_terminates_paragraph","$to_proc","$nil?","$lines","$parse_blocks","$parse_list_item","$items","$scan","$gsub","$count","$advance","$dup","$match","$callout_ids","$next_list","$catalog_inline_anchor","$marker=","$catalog_inline_biblio_anchor","$set_option","$text=","$resolve_ordered_list_marker","$read_lines_for_list_item","$skip_line_comments","$unshift_lines","$fold_first","$text?","$is_sibling_list_item?","$concat","$find","$casecmp","$sectname=","$special=","$numbered=","$numbered","$lineno","$peek_lines","$setext_section_title?","$abs","$cursor_at_prev_line","$process_attribute_entries","$next_line_empty?","$apply_header_subs","$rstrip","$each_with_index","$compact","$to_h","$squeeze","$to_a","$parse_style_attribute","$process_attribute_entry","$skip_comment_lines","$store_attribute","$sanitize_attribute_name","$set_attribute","$save_to","$delete_attribute","$ord","$int_to_roman","$resolve_list_marker","$parse_colspecs","$create_columns","$has_header_option=","$format","$starts_with_delimiter?","$close_open_cell","$parse_cellspec","$delimiter","$match_delimiter","$pre_match","$post_match","$buffer_has_unclosed_quotes?","$skip_past_delimiter","$buffer","$buffer=","$skip_past_escaped_delimiter","$keep_cell_open","$push_cellspec","$close_cell","$cell_open?","$columns","$assign_column_widths","$partition_header_footer","$upto","$partition","$shorthand_property_syntax","$each_char","$yield_buffered_attribute","$any?","$*","$each_byte","$%"]),function(j,h){var g=b(j,"Asciidoctor"),w=[g].concat(h);(function(C,F,N){var x=_(C,F,"Parser"),f=[x].concat(N),L,ae,Pe,Ie,ue,S,d,m,p,z,Z,re,ye,q,ee,V,_e,Me,Te,et,ct,it,Ne,Se,We,tt,Qe,nt,yt,lt,K,l,v,I,U,P,de,be,je,Be,Ke,we,ot,at,vt,Dt;return x.$include(y(f,"Logging")),e.const_set(f[0],"BlockMatchData",y(f,"Struct").$new("context","masq","tip","terminator")),e.const_set(f[0],"TAB","	"),e.const_set(f[0],"TabIndentRx",/^\t+/),e.const_set(f[0],"StartOfBlockProc",c(x,"proc",[],(L=function(bt){var ce=L.$$s||this,Ee,fe;return bt==null&&(bt=$),t(Ee=t(fe=bt["$start_with?"]("["))?y(f,"BlockAttributeLineRx")["$match?"](bt):fe)?Ee:ce["$is_delimited_block?"](bt)},L.$$s=x,L.$$arity=1,L))),e.const_set(f[0],"StartOfListProc",c(x,"proc",[],(ae=function(bt){var ce=ae.$$s||this;return bt==null&&(bt=$),y(f,"AnyListRx")["$match?"](bt)},ae.$$s=x,ae.$$arity=1,ae))),e.const_set(f[0],"StartOfBlockOrListProc",c(x,"proc",[],(Pe=function(bt){var ce=Pe.$$s||this,Ee,fe,o;return bt==null&&(bt=$),t(Ee=t(fe=ce["$is_delimited_block?"](bt))?fe:t(o=bt["$start_with?"]("["))?y(f,"BlockAttributeLineRx")["$match?"](bt):o)?Ee:y(f,"AnyListRx")["$match?"](bt)},Pe.$$s=x,Pe.$$arity=1,Pe))),e.const_set(f[0],"NoOp",$),e.const_set(f[0],"AuthorKeys",["author","authorinitials","firstname","middlename","lastname","email"]),e.const_set(f[0],"TableCellHorzAlignments",s(["<",">","^"],{"<":"left",">":"right","^":"center"})),e.const_set(f[0],"TableCellVertAlignments",s(["<",">","^"],{"<":"top",">":"bottom","^":"middle"})),e.const_set(f[0],"TableCellStyles",s(["d","s","e","m","h","l","a"],{d:"none",s:"strong",e:"emphasis",m:"monospaced",h:"header",l:"literal",a:"asciidoc"})),x.$private_class_method("new"),e.defs(x,"$parse",Ie=function(ce,Ee,fe){var o,H,Y,Q=this,ne=$,k=$,a=$;if(fe==null&&(fe=s([],{})),ne=Q.$parse_document_header(ce,Ee,k=fe["$[]"]("header_only")),!t(k))for(;t(ce["$has_more_lines?"]());)Y=Q.$next_section(ce,Ee,ne),H=e.to_ary(Y),a=H[0]==null?$:H[0],ne=H[1]==null?$:H[1],t(a)&&(Ee.$assign_numeral(a),Ee.$blocks()["$<<"](a));return Ee},Ie.$$arity=-3),e.defs(x,"$parse_document_header",ue=function(ce,Ee,fe){var o,H,Y=this,Q=$,ne=$,k=$,a=$,E=$,T=$,M=$,te=$,X=$,Ae=$,me=$,mt=$,dt=$,He=$,kt=$,$t=$,Tt=$;return fe==null&&(fe=!1),Q=function(){return t(ce.$skip_blank_lines())?Y.$parse_block_metadata_lines(ce,Ee):s([],{})}(),ne=Ee.$attributes(),t(t(o=k=Y["$is_next_line_doctitle?"](ce,Q,ne["$[]"]("leveloffset")))?Q["$[]"]("title"):o)?(a=["authorcount",0],c(ne,"[]=",e.to_a(a)),a[u(a.length,1)],Ee.$finalize_header(Q,!1)):(t((E=ne["$[]"]("doctitle"))["$nil_or_empty?"]())||(a=[T=E],c(Ee,"title=",e.to_a(a)),a[u(a.length,1)]),t(k)?(t(Ee.$sourcemap())&&(M=ce.$cursor()),H=Y.$parse_section_title(ce,Ee),o=e.to_ary(H),Ee["$id="](o[0]==null?$:o[0]),te=o[1]==null?$:o[1],X=o[2]==null?$:o[2],te=o[3]==null?$:o[3],Ae=o[4]==null?$:o[4],t(T)?X=$:(a=[X],c(Ee,"title=",e.to_a(a)),a[u(a.length,1)],t((a=["doctitle",T=Ee.$sub_specialchars(X)],c(ne,"[]=",e.to_a(a)),a[u(a.length,1)])["$include?"](y(f,"ATTR_REF_HEAD")))&&(a=["doctitle",T=Ee.$sub_attributes(T,s(["attribute_missing"],{attribute_missing:"skip"}))],c(ne,"[]=",e.to_a(a)),a[u(a.length,1)])),t(M)&&(a=[M],c(Ee.$header(),"source_location=",e.to_a(a)),a[u(a.length,1)]),t(t(o=Ae)?o:Ee["$attribute_locked?"]("compat-mode"))||(a=["compat-mode",""],c(ne,"[]=",e.to_a(a)),a[u(a.length,1)]),t(me=Q["$[]"]("separator"))&&(t(Ee["$attribute_locked?"]("title-separator"))||(a=["title-separator",me],c(ne,"[]=",e.to_a(a)),a[u(a.length,1)])),t(mt=Q["$[]"]("id"))?(a=[mt],c(Ee,"id=",e.to_a(a)),a[u(a.length,1)]):mt=Ee.$id(),t(dt=Q["$[]"]("role"))&&(a=["role",dt],c(ne,"[]=",e.to_a(a)),a[u(a.length,1)]),t(He=Q["$[]"]("reftext"))&&(a=["reftext",He],c(ne,"[]=",e.to_a(a)),a[u(a.length,1)]),Q.$clear(),(kt=Ee.$instance_variable_get("@attributes_modified")).$delete("doctitle"),Y.$parse_header_metadata(ce,Ee,$),t(kt["$include?"]("doctitle"))?t(t(o=(E=ne["$[]"]("doctitle"))["$nil_or_empty?"]())?o:E["$=="](T))?(a=["doctitle",T],c(ne,"[]=",e.to_a(a)),a[u(a.length,1)]):(a=[E],c(Ee,"title=",e.to_a(a)),a[u(a.length,1)]):t(X["$!"]())&&kt["$<<"]("doctitle"),t(mt)&&Ee.$register("refs",[mt,Ee])):t($t=ne["$[]"]("author"))?(Tt=Y.$process_authors($t,!0,!1),t(ne["$[]"]("authorinitials"))&&Tt.$delete("authorinitials"),ne.$update(Tt)):t($t=ne["$[]"]("authors"))?(Tt=Y.$process_authors($t,!0),ne.$update(Tt)):(a=["authorcount",0],c(ne,"[]=",e.to_a(a)),a[u(a.length,1)]),Ee.$doctype()["$=="]("manpage")&&Y.$parse_manpage_header(ce,Ee,Q,fe),Ee.$finalize_header(Q))},ue.$$arity=-3),e.defs(x,"$parse_manpage_header",S=function(ce,Ee,fe,o){var H,Y,Q,ne,k=this,a=$,E=$,T=$,M=$,te=$,X=$,Ae=$,me=$,mt=$,dt=$,He=$;return o==null&&(o=!1),t(y(f,"ManpageTitleVolnumRx")["$=~"]((a=Ee.$attributes())["$[]"]("doctitle")))?(E=["manvolnum",T=(H=i["~"])===$?$:H["$[]"](2)],c(a,"[]=",e.to_a(E)),E[u(E.length,1)],E=["mantitle",function(){return t((M=(H=i["~"])===$?$:H["$[]"](1))["$include?"](y(f,"ATTR_REF_HEAD")))?Ee.$sub_attributes(M):M}().$downcase()],c(a,"[]=",e.to_a(E)),E[u(E.length,1)]):(k.$logger().$error(k.$message_with_context("non-conforming manpage title",s(["source_location"],{source_location:ce.$cursor_at_line(1)}))),E=["mantitle",t(H=t(Y=a["$[]"]("doctitle"))?Y:a["$[]"]("docname"))?H:"command"],c(a,"[]=",e.to_a(E)),E[u(E.length,1)],E=["manvolnum",T="1"],c(a,"[]=",e.to_a(E)),E[u(E.length,1)]),t(t(H=te=a["$[]"]("manname"))?a["$[]"]("manpurpose"):H)?(t(H=a["$[]"]("manname-title"))||(E=["manname-title","Name"],c(a,"[]=",e.to_a(E)),E[u(E.length,1)]),E=["mannames",[te]],c(a,"[]=",e.to_a(E)),E[u(E.length,1)],Ee.$backend()["$=="]("manpage")&&(E=["docname",te],c(a,"[]=",e.to_a(E)),E[u(E.length,1)],E=["outfilesuffix","."+T],c(a,"[]=",e.to_a(E)),E[u(E.length,1)])):t(o)||(ce.$skip_blank_lines(),ce.$save(),fe.$update(k.$parse_block_metadata_lines(ce,Ee)),t(X=k["$is_next_line_section?"](ce,s([],{})))?X["$=="](1)?(Ae=k.$initialize_section(ce,Ee,s([],{})),me=c(ce.$read_lines_until(s(["break_on_blank_lines","skip_line_comments"],{break_on_blank_lines:!0,skip_line_comments:!0})),"map",[],(Q=function(kt){var $t=Q.$$s||this;return kt==null&&(kt=$),kt.$lstrip()},Q.$$s=k,Q.$$arity=1,Q)).$join(" "),t(y(f,"ManpageNamePurposeRx")["$=~"](me))?(t((te=(H=i["~"])===$?$:H["$[]"](1))["$include?"](y(f,"ATTR_REF_HEAD")))&&(te=Ee.$sub_attributes(te)),t(te["$include?"](","))?te=(mt=c(te.$split(","),"map",[],(ne=function(kt){var $t=ne.$$s||this;return kt==null&&(kt=$),kt.$lstrip()},ne.$$s=k,ne.$$arity=1,ne)))["$[]"](0):mt=[te],t((dt=(H=i["~"])===$?$:H["$[]"](2))["$include?"](y(f,"ATTR_REF_HEAD")))&&(dt=Ee.$sub_attributes(dt)),t(H=a["$[]"]("manname-title"))||(E=["manname-title",Ae.$title()],c(a,"[]=",e.to_a(E)),E[u(E.length,1)]),t(Ae.$id())&&(E=["manname-id",Ae.$id()],c(a,"[]=",e.to_a(E)),E[u(E.length,1)]),E=["manname",te],c(a,"[]=",e.to_a(E)),E[u(E.length,1)],E=["mannames",mt],c(a,"[]=",e.to_a(E)),E[u(E.length,1)],E=["manpurpose",dt],c(a,"[]=",e.to_a(E)),E[u(E.length,1)],Ee.$backend()["$=="]("manpage")&&(E=["docname",te],c(a,"[]=",e.to_a(E)),E[u(E.length,1)],E=["outfilesuffix","."+T],c(a,"[]=",e.to_a(E)),E[u(E.length,1)])):He="non-conforming name section body"):He="name section must be at level 1":He="name section expected",t(He)?(ce.$restore_save(),k.$logger().$error(k.$message_with_context(He,s(["source_location"],{source_location:ce.$cursor()}))),E=["manname",te=t(H=a["$[]"]("docname"))?H:"command"],c(a,"[]=",e.to_a(E)),E[u(E.length,1)],E=["mannames",[te]],c(a,"[]=",e.to_a(E)),E[u(E.length,1)],Ee.$backend()["$=="]("manpage")&&(E=["docname",te],c(a,"[]=",e.to_a(E)),E[u(E.length,1)],E=["outfilesuffix","."+T],c(a,"[]=",e.to_a(E)),E[u(E.length,1)])):ce.$discard_save()),$},S.$$arity=-4),e.defs(x,"$next_section",d=function(ce,Ee,fe){var o,H,Y,Q,ne=this,k=$,a=$,E=$,T=$,M=$,te=$,X=$,Ae=$,me=$,mt=$,dt=$,He=$,kt=$,$t=$,Tt=$,rt=$,Lt=$,Yt=$,_t=$,Zt=$;for(fe==null&&(fe=s([],{})),k=a=E=!1,t(t(o=(H=Ee.$context()["$=="]("document"))?Ee.$blocks()["$empty?"]():Ee.$context()["$=="]("document"))?t(H=t(Y=T=Ee["$header?"]())?Y:fe.$delete("invalid-header"))?H:ne["$is_next_line_section?"](ce,fe)["$!"]():o)?(M=(te=Ee).$doctype()["$=="]("book"),t(t(o=T)?o:t(H=M)?fe["$[]"](1)["$!="]("abstract"):H)&&(k=a=y(f,"Block").$new(Ee,"preamble",s(["content_model"],{content_model:"compound"})),t(t(o=M)?Ee["$attr?"]("preface-title"):o)&&(X=[Ee.$attr("preface-title")],c(k,"title=",e.to_a(X)),X[u(X.length,1)]),Ee.$blocks()["$<<"](k)),Ae=Ee,me=0,t(Ee.$attributes()["$key?"]("fragment"))?mt=-1:t(M)?(o=[1,0],mt=o[0],dt=o[1]):mt=1):(M=(te=Ee.$document()).$doctype()["$=="]("book"),Ae=ne.$initialize_section(ce,Ee,fe),fe=function(){return t(He=fe["$[]"]("title"))?s(["title"],{title:He}):s([],{})}(),mt=O(me=Ae.$level(),1),me["$=="](0)?E=M:t((o=me["$=="](1))?Ae.$special():me["$=="](1))&&(t(t(o=t(H=(kt=Ae.$sectname())["$=="]("appendix"))?H:kt["$=="]("preface"))?o:kt["$=="]("abstract"))||(mt=$))),ce.$skip_blank_lines();t(ce["$has_more_lines?"]());){if(ne.$parse_block_metadata_lines(ce,te,fe),t($t=ne["$is_next_line_section?"](ce,fe)))if(t(te["$attr?"]("leveloffset"))&&($t=O($t,te.$attr("leveloffset").$to_i()),t(xe($t,0))&&($t=0)),t(Xe($t,me)))t(mt)?t(t(H=t(Y=$t["$=="](mt))?Y:t(Q=dt)?$t["$=="](dt):Q)?H:xe(mt,0))||(Tt=function(){return t(dt)?"expected levels "+dt+" or "+mt:"expected level "+mt}(),ne.$logger().$warn(ne.$message_with_context("section title out of sequence: "+Tt+", got level "+$t,s(["source_location"],{source_location:ce.$cursor()})))):ne.$logger().$error(ne.$message_with_context(""+kt+" sections do not support nested sections",s(["source_location"],{source_location:ce.$cursor()}))),Y=ne.$next_section(ce,Ae,fe),H=e.to_ary(Y),rt=H[0]==null?$:H[0],fe=H[1]==null?$:H[1],Ae.$assign_numeral(rt),Ae.$blocks()["$<<"](rt);else if(t((H=$t["$=="](0))?Ae["$=="](te):$t["$=="](0)))t(M)||ne.$logger().$error(ne.$message_with_context("level 0 sections can only be used when doctype is book",s(["source_location"],{source_location:ce.$cursor()}))),Y=ne.$next_section(ce,Ae,fe),H=e.to_ary(Y),rt=H[0]==null?$:H[0],fe=H[1]==null?$:H[1],Ae.$assign_numeral(rt),Ae.$blocks()["$<<"](rt);else break;else Lt=ce.$cursor(),t(Yt=ne.$next_block(ce,t(H=a)?H:Ae,fe,s(["parse_metadata"],{parse_metadata:!1})))&&(t(E)&&(t(Ae["$blocks?"]()["$!"]())?t(Yt.$style()["$!="]("partintro"))&&(Yt.$context()["$=="]("paragraph")?(X=["open"],c(Yt,"context=",e.to_a(X)),X[u(X.length,1)],X=["partintro"],c(Yt,"style=",e.to_a(X)),X[u(X.length,1)]):(X=[a=y(f,"Block").$new(Ae,"open",s(["content_model"],{content_model:"compound"}))],c(Yt,"parent=",e.to_a(X)),X[u(X.length,1)],X=["partintro"],c(a,"style=",e.to_a(X)),X[u(X.length,1)],Ae.$blocks()["$<<"](a))):Ae.$blocks().$size()["$=="](1)&&(_t=Ae.$blocks()["$[]"](0),t(t(H=a["$!"]())?_t.$content_model()["$=="]("compound"):H)?ne.$logger().$error(ne.$message_with_context("illegal block content outside of partintro block",s(["source_location"],{source_location:Lt}))):t(_t.$content_model()["$!="]("compound"))&&(X=[a=y(f,"Block").$new(Ae,"open",s(["content_model"],{content_model:"compound"}))],c(Yt,"parent=",e.to_a(X)),X[u(X.length,1)],X=["partintro"],c(a,"style=",e.to_a(X)),X[u(X.length,1)],Ae.$blocks().$shift(),_t.$style()["$=="]("partintro")&&(X=["paragraph"],c(_t,"context=",e.to_a(X)),X[u(X.length,1)],X=[$],c(_t,"style=",e.to_a(X)),X[u(X.length,1)]),a["$<<"](_t),Ae.$blocks()["$<<"](a)))),(t(H=a)?H:Ae).$blocks()["$<<"](Yt),fe.$clear());if(!t(H=ce.$skip_blank_lines()))break}if(t(E))t(t(o=Ae["$blocks?"]())?Ae.$blocks()["$[]"](-1).$context()["$=="]("section"):o)||ne.$logger().$error(ne.$message_with_context("invalid part, must have at least one section (e.g., chapter, appendix, etc.)",s(["source_location"],{source_location:ce.$cursor()})));else if(t(k))if(t(k["$blocks?"]()))if(t(t(o=t(H=M)?H:te.$blocks()["$[]"](1))?o:y(f,"Compliance").$unwrap_standalone_preamble()["$!"]()))t(te.$sourcemap())&&(X=[k.$blocks()["$[]"](0).$source_location()],c(k,"source_location=",e.to_a(X)),X[u(X.length,1)]);else for(te.$blocks().$shift();t(Zt=k.$blocks().$shift());)te["$<<"](Zt);else te.$blocks().$shift();return[function(){return Ae["$=="](Ee)?$:Ae}(),fe.$merge()]},d.$$arity=-3),e.defs(x,"$next_block",m=function(ce,Ee,fe,o){try{var H,Y,Q,ne,k,a,E,T=this,M=$,te=$,X=$,Ae=$,me=$,mt=$,dt=$,He=$,kt=$,$t=$,Tt=$,rt=$,Lt=$,Yt=$,_t=$,Zt=$,rr=$,nr=$,sr=$,tr=$,hr=$,fr=$,mr=$,ir=$,pr=$,vr=$,br=$,yr=$,lr=$,_r=$,xr=$,ur=$,Ar=$,Tr=$,Ir=$,qr=$,dr=$,Lr=$,Cr=$,kr=$,Sr=$,Rr=$,wr=$,zr=$,Dr=$,Br=$,Fr=$,Mr=$,Nr=$;if(i["~"]==null&&(i["~"]=$),fe==null&&(fe=s([],{})),o==null&&(o=s([],{})),!t(M=ce.$skip_blank_lines()))return $;if(t(t(H=te=o["$[]"]("text_only"))?Xe(M,0):H)&&(o.$delete("text_only"),te=$),X=Ee.$document(),t(o.$fetch("parse_metadata",!0)))for(;t(T.$parse_block_metadata_line(ce,X,fe,o));)ce.$shift(),t(Y=ce.$skip_blank_lines())||e.ret($);if(t(Ae=X.$extensions())&&(H=[Ae["$blocks?"](),Ae["$block_macros?"]()],me=H[0],mt=H[1]),ce.$mark(),H=[ce.$read_line(),X.$attributes(),fe["$[]"](1)],dt=H[0],He=H[1],kt=H[2],$t=Tt=rt=Lt=$,t(Yt=T["$is_delimited_block?"](dt,!0))&&(Tt=rt=Yt.$context(),Lt=Yt.$terminator(),t(kt)?kt["$=="](Tt.$to_s())||(t(Yt.$masq()["$include?"](kt))?Tt=kt.$to_sym():t(t(H=Yt.$masq()["$include?"]("admonition"))?y(f,"ADMONITION_STYLES")["$include?"](kt):H)?Tt="admonition":t(t(H=me)?Ae["$registered_for_block?"](kt,Tt):H)?Tt=kt.$to_sym():(t(T.$logger()["$debug?"]())&&T.$logger().$debug(T.$message_with_context("unknown style for "+Tt+" block: "+kt,s(["source_location"],{source_location:ce.$cursor_at_mark()}))),kt=Tt.$to_s())):kt=(_t=["style",Tt.$to_s()],c(fe,"[]=",e.to_a(_t)),_t[u(_t.length,1)])),!t(Yt))for(;t(!0);){if(t(t(Y=t(Q=kt)?y(f,"Compliance").$strict_verbatim_paragraphs():Q)?y(f,"VERBATIM_STYLES")["$include?"](kt):Y)){Tt=kt.$to_sym(),ce.$unshift_line(dt);break}if(t(te))Zt=dt["$start_with?"](" ",y(f,"TAB"));else if(rr=y(f,"Compliance").$markdown_syntax(),t(dt["$start_with?"](" "))){if(Y=[!0," "],Zt=Y[0],nr=Y[1],t(t(Y=t(Q=rr)?c(dt.$lstrip(),"start_with?",e.to_a(y(f,"MARKDOWN_THEMATIC_BREAK_CHARS").$keys())):Q)?y(f,"MarkdownThematicBreakRx")["$match?"](dt):Y)){$t=y(f,"Block").$new(Ee,"thematic_break",s(["content_model"],{content_model:"empty"}));break}}else if(t(dt["$start_with?"](y(f,"TAB"))))Y=[!0,y(f,"TAB")],Zt=Y[0],nr=Y[1];else if(Y=[!1,dt.$chr()],Zt=Y[0],nr=Y[1],sr=function(){return t(rr)?y(f,"HYBRID_LAYOUT_BREAK_CHARS"):y(f,"LAYOUT_BREAK_CHARS")}(),t(t(Y=sr["$key?"](nr))?function(){return t(rr)?y(f,"ExtLayoutBreakRx")["$match?"](dt):t(Q=T["$uniform?"](dt,nr,tr=dt.$length()))?Xe(tr,2):Q}():Y)){$t=y(f,"Block").$new(Ee,sr["$[]"](nr),s(["content_model"],{content_model:"empty"}));break}else if(t(t(Y=dt["$end_with?"]("]"))?dt["$include?"]("::"):Y)){if(t(t(Y=t(Q=nr["$=="]("i"))?Q:dt["$start_with?"]("video:","audio:"))?y(f,"BlockMediaMacroRx")["$=~"](dt):Y)){if(Y=[((Q=i["~"])===$?$:Q["$[]"](1)).$to_sym(),(Q=i["~"])===$?$:Q["$[]"](2),(Q=i["~"])===$?$:Q["$[]"](3)],hr=Y[0],fr=Y[1],mr=Y[2],$t=y(f,"Block").$new(Ee,hr,s(["content_model"],{content_model:"empty"})),t(mr)&&(ir=hr,"video"["$==="](ir)?pr=["poster","width","height"]:"audio"["$==="](ir)?pr=[]:pr=["alt","width","height"],$t.$parse_attributes(mr,pr,s(["sub_input","into"],{sub_input:!0,into:fe}))),t(fe["$key?"]("style"))&&fe.$delete("style"),t(fr["$include?"](y(f,"ATTR_REF_HEAD")))){if(t(t(Y=t(Q=(vr=$t.$sub_attributes(fr))["$empty?"]())?(t(ne=He["$[]"]("attribute-missing"))?ne:y(f,"Compliance").$attribute_missing())["$=="]("drop-line"):Q)?$t.$sub_attributes(O(fr," "),s(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]():Y))return fe.$clear(),$;fr=vr}hr["$=="]("image")&&(X.$register("images",fr),_t=["imagesdir",He["$[]"]("imagesdir")],c(fe,"[]=",e.to_a(_t)),_t[u(_t.length,1)],t(Y=fe["$[]"]("alt"))||(_t=["alt",t(Q=kt)?Q:(_t=["default-alt",y(f,"Helpers").$basename(fr,!0).$tr("_-"," ")],c(fe,"[]=",e.to_a(_t)),_t[u(_t.length,1)])],c(fe,"[]=",e.to_a(_t)),_t[u(_t.length,1)]),t((br=fe.$delete("scaledwidth"))["$nil_or_empty?"]())||(_t=["scaledwidth",function(){return t(y(f,"TrailingDigitsRx")["$match?"](br))?""+br+"%":br}()],c(fe,"[]=",e.to_a(_t)),_t[u(_t.length,1)]),t(fe["$[]"]("title"))&&(_t=[yr=fe.$delete("title")],c($t,"title=",e.to_a(_t)),_t[u(_t.length,1)],$t.$assign_caption(fe.$delete("caption"),"figure"))),_t=["target",fr],c(fe,"[]=",e.to_a(_t)),_t[u(_t.length,1)];break}else if(t(t(Y=(Q=nr["$=="]("t"))?dt["$start_with?"]("toc:"):nr["$=="]("t"))?y(f,"BlockTocMacroRx")["$=~"](dt):Y)){$t=y(f,"Block").$new(Ee,"toc",s(["content_model"],{content_model:"empty"})),t((Y=i["~"])===$?$:Y["$[]"](1))&&$t.$parse_attributes((Y=i["~"])===$?$:Y["$[]"](1),[],s(["into"],{into:fe}));break}else if(t(function(){return t(mt)?t(Y=t(Q=y(f,"CustomBlockMacroRx")["$=~"](dt))?lr=Ae["$registered_for_block_macro?"]((ne=i["~"])===$?$:ne["$[]"](1)):Q)?Y:_r=T.$logger()["$debug?"]():t(Y=T.$logger()["$debug?"]())?_r=y(f,"CustomBlockMacroRx")["$=~"](dt):Y}()))if(t(_r))T.$logger().$debug(T.$message_with_context("unknown name for block macro: "+((Y=i["~"])===$?$:Y["$[]"](1)),s(["source_location"],{source_location:ce.$cursor_at_mark()})));else{if(xr=(Y=i["~"])===$?$:Y["$[]"](3),t((fr=(Y=i["~"])===$?$:Y["$[]"](2))["$include?"](y(f,"ATTR_REF_HEAD")))){if(t(t(Y=t(Q=(vr=Ee.$sub_attributes(fr))["$empty?"]())?(t(ne=He["$[]"]("attribute-missing"))?ne:y(f,"Compliance").$attribute_missing())["$=="]("drop-line"):Q)?Ee.$sub_attributes(O(fr," "),s(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]():Y))return fe.$clear(),$;fr=vr}if((ur=lr.$config())["$[]"]("content_model")["$=="]("attributes")?t(xr)&&X.$parse_attributes(xr,t(Y=t(Q=ur["$[]"]("positional_attrs"))?Q:ur["$[]"]("pos_attrs"))?Y:[],s(["sub_input","into"],{sub_input:!0,into:fe})):(_t=["text",t(Y=xr)?Y:""],c(fe,"[]=",e.to_a(_t)),_t[u(_t.length,1)]),t(Ar=ur["$[]"]("default_attrs"))&&c(fe,"update",[Ar],(k=function(gr,Er){var Hr=k.$$s||this;return gr==null&&(gr=$),Er==null&&(Er=$),Er},k.$$s=T,k.$$arity=2,k)),t(t(Y=$t=lr.$process_method()["$[]"](Ee,fr,fe))?$t["$!="](Ee):Y)){fe.$replace($t.$attributes());break}else return fe.$clear(),$}}if(t(t(Y=t(Q=Zt["$!"]())?(nr=t(ne=nr)?ne:dt.$chr())["$=="]("<"):Q)?y(f,"CalloutListRx")["$=~"](dt):Y)){ce.$unshift_line(dt),$t=T.$parse_callout_list(ce,i["~"],Ee,X.$callouts()),_t=["style","arabic"],c(fe,"[]=",e.to_a(_t)),_t[u(_t.length,1)];break}else if(t(y(f,"UnorderedListRx")["$match?"](dt))){ce.$unshift_line(dt),t(t(Y=t(Q=kt["$!"]())?y(f,"Section")["$==="](Ee):Q)?Ee.$sectname()["$=="]("bibliography"):Y)&&(_t=["style",kt="bibliography"],c(fe,"[]=",e.to_a(_t)),_t[u(_t.length,1)]),$t=T.$parse_list(ce,"ulist",Ee,kt);break}else if(t(y(f,"OrderedListRx")["$match?"](dt))){ce.$unshift_line(dt),$t=T.$parse_list(ce,"olist",Ee,kt),t($t.$style())&&(_t=["style",$t.$style()],c(fe,"[]=",e.to_a(_t)),_t[u(_t.length,1)]);break}else if(t(t(Y=t(Q=dt["$include?"]("::"))?Q:dt["$include?"](";;"))?y(f,"DescriptionListRx")["$=~"](dt):Y)){ce.$unshift_line(dt),$t=T.$parse_description_list(ce,i["~"],Ee);break}else if(t(t(Y=t(Q=kt["$=="]("float"))?Q:kt["$=="]("discrete"))?function(){return t(y(f,"Compliance").$underline_style_section_titles())?T["$is_section_title?"](dt,ce.$peek_line()):t(Q=Zt["$!"]())?T["$atx_section_title?"](dt):Q}():Y)){ce.$unshift_line(dt),Q=T.$parse_section_title(ce,X,fe["$[]"]("id")),Y=e.to_ary(Q),Tr=Y[0]==null?$:Y[0],Ir=Y[1]==null?$:Y[1],yr=Y[2]==null?$:Y[2],qr=Y[3]==null?$:Y[3],t(Ir)&&(_t=["reftext",Ir],c(fe,"[]=",e.to_a(_t)),_t[u(_t.length,1)]),$t=y(f,"Block").$new(Ee,"floating_title",s(["content_model"],{content_model:"empty"})),_t=[yr],c($t,"title=",e.to_a(_t)),_t[u(_t.length,1)],fe.$delete("title"),_t=[t(Y=Tr)?Y:function(){return t(He["$key?"]("sectids"))?y(f,"Section").$generate_id($t.$title(),X):$}()],c($t,"id=",e.to_a(_t)),_t[u(_t.length,1)],_t=[qr],c($t,"level=",e.to_a(_t)),_t[u(_t.length,1)];break}else if(t(t(Y=kt)?kt["$!="]("normal"):Y))if(t(y(f,"PARAGRAPH_STYLES")["$include?"](kt))){Tt=kt.$to_sym(),rt="paragraph",ce.$unshift_line(dt);break}else if(t(y(f,"ADMONITION_STYLES")["$include?"](kt))){Tt="admonition",rt="paragraph",ce.$unshift_line(dt);break}else if(t(t(Y=me)?Ae["$registered_for_block?"](kt,"paragraph"):Y)){Tt=kt.$to_sym(),rt="paragraph",ce.$unshift_line(dt);break}else t(T.$logger()["$debug?"]())&&T.$logger().$debug(T.$message_with_context("unknown style for paragraph: "+kt,s(["source_location"],{source_location:ce.$cursor_at_mark()}))),kt=$;if(ce.$unshift_line(dt),t(t(Y=Zt)?kt["$!"]():Y))dr=T.$read_paragraph_lines(ce,Lr=function(){return M["$=="](0)?o["$[]"]("list_type"):$}(),s(["skip_line_comments"],{skip_line_comments:te})),T["$adjust_indentation!"](dr),t(t(Y=te)?Y:Lr["$=="]("dlist"))?$t=y(f,"Block").$new(Ee,"paragraph",s(["content_model","source","attributes"],{content_model:"simple",source:dr,attributes:fe})):$t=y(f,"Block").$new(Ee,"literal",s(["content_model","source","attributes"],{content_model:"verbatim",source:dr,attributes:fe}));else{if(dr=T.$read_paragraph_lines(ce,(Y=M["$=="](0))?o["$[]"]("list_type"):M["$=="](0),s(["skip_line_comments"],{skip_line_comments:!0})),t(te))t(t(Y=Zt)?kt["$=="]("normal"):Y)&&T["$adjust_indentation!"](dr),$t=y(f,"Block").$new(Ee,"paragraph",s(["content_model","source","attributes"],{content_model:"simple",source:dr,attributes:fe}));else if(t(t(Y=t(Q=y(f,"ADMONITION_STYLE_HEADS")["$include?"](nr))?dt["$include?"](":"):Q)?y(f,"AdmonitionParagraphRx")["$=~"](dt):Y))_t=[0,(Y=i["~"])===$?$:Y.$post_match()],c(dr,"[]=",e.to_a(_t)),_t[u(_t.length,1)],_t=["name",Cr=(_t=["style",(Y=i["~"])===$?$:Y["$[]"](1)],c(fe,"[]=",e.to_a(_t)),_t[u(_t.length,1)]).$downcase()],c(fe,"[]=",e.to_a(_t)),_t[u(_t.length,1)],_t=["textlabel",t(Y=fe.$delete("caption"))?Y:He["$[]"](""+Cr+"-caption")],c(fe,"[]=",e.to_a(_t)),_t[u(_t.length,1)],$t=y(f,"Block").$new(Ee,"admonition",s(["content_model","source","attributes"],{content_model:"simple",source:dr,attributes:fe}));else if(t(t(Y=t(Q=rr)?nr["$=="](">"):Q)?dt["$start_with?"]("> "):Y)){if(c(dr,"map!",[],(a=function(gr){var Er=a.$$s||this;return gr==null&&(gr=$),gr["$=="](">")?gr.$slice(1,gr.$length()):t(gr["$start_with?"]("> "))?gr.$slice(2,gr.$length()):gr},a.$$s=T,a.$$arity=1,a)),t(dr["$[]"](-1)["$start_with?"]("-- "))&&(kr=(kr=dr.$pop()).$slice(3,kr.$length()),!t(dr["$empty?"]())))for(;t(dr["$[]"](-1)["$empty?"]());)dr.$pop();_t=["style","quote"],c(fe,"[]=",e.to_a(_t)),_t[u(_t.length,1)],$t=T.$build_block("quote","compound",!1,Ee,y(f,"Reader").$new(dr),fe),t(kr)&&(Q=$t.$apply_subs(kr).$split(", ",2),Y=e.to_ary(Q),Sr=Y[0]==null?$:Y[0],Rr=Y[1]==null?$:Y[1],t(Sr)&&(_t=["attribution",Sr],c(fe,"[]=",e.to_a(_t)),_t[u(_t.length,1)]),t(Rr)&&(_t=["citetitle",Rr],c(fe,"[]=",e.to_a(_t)),_t[u(_t.length,1)]))}else if(t(t(Y=t(Q=(ne=nr["$=="]('"'))?Xe(dr.$size(),1):nr["$=="]('"'))?dr["$[]"](-1)["$start_with?"]("-- "):Q)?dr["$[]"](-2)["$end_with?"]('"'):Y)){for(_t=[0,dt.$slice(1,dt.$length())],c(dr,"[]=",e.to_a(_t)),_t[u(_t.length,1)],kr=(kr=dr.$pop()).$slice(3,kr.$length());t(dr["$[]"](-1)["$empty?"]());)dr.$pop();dr["$<<"](dr.$pop().$chop()),_t=["style","quote"],c(fe,"[]=",e.to_a(_t)),_t[u(_t.length,1)],$t=y(f,"Block").$new(Ee,"quote",s(["content_model","source","attributes"],{content_model:"simple",source:dr,attributes:fe})),Q=$t.$apply_subs(kr).$split(", ",2),Y=e.to_ary(Q),Sr=Y[0]==null?$:Y[0],Rr=Y[1]==null?$:Y[1],t(Sr)&&(_t=["attribution",Sr],c(fe,"[]=",e.to_a(_t)),_t[u(_t.length,1)]),t(Rr)&&(_t=["citetitle",Rr],c(fe,"[]=",e.to_a(_t)),_t[u(_t.length,1)])}else t(t(Y=Zt)?kt["$=="]("normal"):Y)&&T["$adjust_indentation!"](dr),$t=y(f,"Block").$new(Ee,"paragraph",s(["content_model","source","attributes"],{content_model:"simple",source:dr,attributes:fe}));T.$catalog_inline_anchors(dr.$join(y(f,"LF")),$t,X,ce)}break}if(!t($t))if(ir=Tt,"listing"["$==="](ir)||"source"["$==="](ir))t(t(H=Tt["$=="]("source"))?H:t(Y=fe["$[]"](1)["$!"]())?wr=t(Q=fe["$[]"](2))?Q:He["$[]"]("source-language"):Y)&&(t(wr)?(_t=["style","source"],c(fe,"[]=",e.to_a(_t)),_t[u(_t.length,1)],_t=["language",wr],c(fe,"[]=",e.to_a(_t)),_t[u(_t.length,1)],y(f,"AttributeList").$rekey(fe,[$,$,"linenums"])):(y(f,"AttributeList").$rekey(fe,[$,"language","linenums"]),t(fe["$key?"]("language"))||t(He["$key?"]("source-language"))&&(_t=["language",He["$[]"]("source-language")],c(fe,"[]=",e.to_a(_t)),_t[u(_t.length,1)])),t(fe["$key?"]("linenums"))||t(t(H=fe["$[]"]("linenums-option"))?H:He["$[]"]("source-linenums-option"))&&(_t=["linenums",""],c(fe,"[]=",e.to_a(_t)),_t[u(_t.length,1)]),t(fe["$key?"]("indent"))||t(He["$key?"]("source-indent"))&&(_t=["indent",He["$[]"]("source-indent")],c(fe,"[]=",e.to_a(_t)),_t[u(_t.length,1)])),$t=T.$build_block("listing","verbatim",Lt,Ee,ce,fe);else if("fenced_code"["$==="](ir))_t=["style","source"],c(fe,"[]=",e.to_a(_t)),_t[u(_t.length,1)],t(Xe(tr=dt.$length(),3))&&(t(zr=(wr=dt.$slice(3,tr)).$index(","))?t(Xe(zr,0))?(wr=wr.$slice(0,zr).$strip(),t(xe(zr,u(tr,4)))&&(_t=["linenums",""],c(fe,"[]=",e.to_a(_t)),_t[u(_t.length,1)])):t(Xe(tr,4))&&(_t=["linenums",""],c(fe,"[]=",e.to_a(_t)),_t[u(_t.length,1)]):wr=wr.$lstrip()),t(wr["$nil_or_empty?"]())?t(He["$key?"]("source-language"))&&(_t=["language",He["$[]"]("source-language")],c(fe,"[]=",e.to_a(_t)),_t[u(_t.length,1)]):(_t=["language",wr],c(fe,"[]=",e.to_a(_t)),_t[u(_t.length,1)]),t(fe["$key?"]("linenums"))||t(t(H=fe["$[]"]("linenums-option"))?H:He["$[]"]("source-linenums-option"))&&(_t=["linenums",""],c(fe,"[]=",e.to_a(_t)),_t[u(_t.length,1)]),t(fe["$key?"]("indent"))||t(He["$key?"]("source-indent"))&&(_t=["indent",He["$[]"]("source-indent")],c(fe,"[]=",e.to_a(_t)),_t[u(_t.length,1)]),Lt=Lt.$slice(0,3),$t=T.$build_block("listing","verbatim",Lt,Ee,ce,fe);else if("table"["$==="](ir))Dr=ce.$cursor(),Br=y(f,"Reader").$new(ce.$read_lines_until(s(["terminator","skip_line_comments","context","cursor"],{terminator:Lt,skip_line_comments:!0,context:"table",cursor:"at_mark"})),Dr),t(Lt["$start_with?"]("|","!"))||t(H=fe["$[]"]("format"))||(_t=["format",function(){return t(Lt["$start_with?"](","))?"csv":"dsv"}()],c(fe,"[]=",e.to_a(_t)),_t[u(_t.length,1)]),$t=T.$parse_table(Br,Ee,fe);else if("sidebar"["$==="](ir))$t=T.$build_block(Tt,"compound",Lt,Ee,ce,fe);else if("admonition"["$==="](ir))_t=["name",Cr=kt.$downcase()],c(fe,"[]=",e.to_a(_t)),_t[u(_t.length,1)],_t=["textlabel",t(H=fe.$delete("caption"))?H:He["$[]"](""+Cr+"-caption")],c(fe,"[]=",e.to_a(_t)),_t[u(_t.length,1)],$t=T.$build_block(Tt,"compound",Lt,Ee,ce,fe);else if("open"["$==="](ir)||"abstract"["$==="](ir)||"partintro"["$==="](ir))$t=T.$build_block("open","compound",Lt,Ee,ce,fe);else if("literal"["$==="](ir))$t=T.$build_block(Tt,"verbatim",Lt,Ee,ce,fe);else if("example"["$==="](ir))t(fe["$[]"]("collapsible-option"))&&(_t=["caption",""],c(fe,"[]=",e.to_a(_t)),_t[u(_t.length,1)]),$t=T.$build_block(Tt,"compound",Lt,Ee,ce,fe);else if("quote"["$==="](ir)||"verse"["$==="](ir))y(f,"AttributeList").$rekey(fe,[$,"attribution","citetitle"]),$t=T.$build_block(Tt,function(){return Tt["$=="]("verse")?"verbatim":"compound"}(),Lt,Ee,ce,fe);else if("stem"["$==="](ir)||"latexmath"["$==="](ir)||"asciimath"["$==="](ir))Tt["$=="]("stem")&&(_t=["style",y(f,"STEM_TYPE_ALIASES")["$[]"](t(H=fe["$[]"](2))?H:He["$[]"]("stem"))],c(fe,"[]=",e.to_a(_t)),_t[u(_t.length,1)]),$t=T.$build_block("stem","raw",Lt,Ee,ce,fe);else if("pass"["$==="](ir))$t=T.$build_block(Tt,"raw",Lt,Ee,ce,fe);else{if("comment"["$==="](ir))return T.$build_block(Tt,"skip",Lt,Ee,ce,fe),fe.$clear(),$;if(t(t(H=me)?lr=Ae["$registered_for_block?"](Tt,rt):H)){if((Fr=(ur=lr.$config())["$[]"]("content_model"))["$=="]("skip")||(t((Mr=t(H=ur["$[]"]("positional_attrs"))?H:ur["$[]"]("pos_attrs"))["$nil_or_empty?"]())||y(f,"AttributeList").$rekey(fe,O([$],Mr)),t(Ar=ur["$[]"]("default_attrs"))&&c(Ar,"each",[],(E=function(gr,Er){var Hr=E.$$s||this,Pr;return gr==null&&(gr=$),Er==null&&(Er=$),t(Pr=fe["$[]"](gr))?Pr:(_t=[gr,Er],c(fe,"[]=",e.to_a(_t)),_t[u(_t.length,1)])},E.$$s=T,E.$$arity=2,E)),_t=["cloaked-context",rt],c(fe,"[]=",e.to_a(_t)),_t[u(_t.length,1)]),!t($t=T.$build_block(Tt,Fr,Lt,Ee,ce,fe,s(["extension"],{extension:lr}))))return fe.$clear(),$}else T.$raise("Unsupported block type "+Tt+" at "+ce.$cursor())}return t(X.$sourcemap())&&(_t=[ce.$cursor_at_mark()],c($t,"source_location=",e.to_a(_t)),_t[u(_t.length,1)]),t(fe["$[]"]("title"))&&(_t=[yr=fe.$delete("title")],c($t,"title=",e.to_a(_t)),_t[u(_t.length,1)],t(y(f,"CAPTION_ATTRIBUTE_NAMES")["$[]"]($t.$context()))&&$t.$assign_caption(fe.$delete("caption"))),_t=[fe["$[]"]("style")],c($t,"style=",e.to_a(_t)),_t[u(_t.length,1)],t(Nr=t(H=$t.$id())?H:(_t=[fe["$[]"]("id")],c($t,"id=",e.to_a(_t)),_t[u(_t.length,1)]))&&(t(function(){return t(yr)?yr["$include?"](y(f,"ATTR_REF_HEAD")):$t["$title?"]()}())&&$t.$title(),t(X.$register("refs",[Nr,$t]))||T.$logger().$warn(T.$message_with_context("id assigned to block already in use: "+Nr,s(["source_location"],{source_location:ce.$cursor_at_mark()})))),t(fe["$empty?"]())||$t.$update_attributes(fe),$t.$commit_subs(),t($t["$sub?"]("callouts"))&&(t(T.$catalog_callouts($t.$source(),X))||$t.$remove_sub("callouts")),$t}catch(gr){if(gr===e.returner)return gr.$v;throw gr}},m.$$arity=-3),e.defs(x,"$read_paragraph_lines",p=function(ce,Ee,fe){var o=this,H=$,Y=$;return fe==null&&(fe=s([],{})),H=["break_on_blank_lines",!0],c(fe,"[]=",e.to_a(H)),H[u(H.length,1)],H=["break_on_list_continuation",!0],c(fe,"[]=",e.to_a(H)),H[u(H.length,1)],H=["preserve_last_line",!0],c(fe,"[]=",e.to_a(H)),H[u(H.length,1)],Y=function(){return t(Ee)?t(y(f,"Compliance").$block_terminates_paragraph())?y(f,"StartOfBlockOrListProc"):y(f,"StartOfListProc"):t(y(f,"Compliance").$block_terminates_paragraph())?y(f,"StartOfBlockProc"):y(f,"NoOp")}(),c(ce,"read_lines_until",[fe],Y.$to_proc())},p.$$arity=-3),e.defs(x,"$is_delimited_block?",z=function(bt,ce){var Ee,fe,o=this,H=$,Y=$,Q=$,ne=$,k=$;if(ce==null&&(ce=$),!t(t(Ee=Xe(H=bt.$length(),1))?y(f,"DELIMITED_BLOCK_HEADS")["$[]"](bt.$slice(0,2)):Ee))return $;if(H["$=="](2))Y=bt,Q=2;else if(t(xe(H,5))?(Y=bt,Q=H):Y=bt.$slice(0,Q=4),t(t(Ee=y(f,"Compliance").$markdown_syntax())?Y["$start_with?"]("`"):Ee)){if(Q["$=="](4)){if(t(t(Ee=Y["$=="]("````"))?Ee:(Y=Y.$chop())["$!="]("```")))return $;bt=Y,H=Q=3}else if(t(Y["$!="]("```")))return $}else if(Q["$=="](3))return $;return fe=y(f,"DELIMITED_BLOCKS")["$[]"](Y),Ee=e.to_ary(fe),ne=Ee[0]==null?$:Ee[0],k=Ee[1]==null?$:Ee[1],t(t(Ee=ne)?t(fe=H["$=="](Q))?fe:o["$uniform?"](bt.$slice(1,H),y(f,"DELIMITED_BLOCK_TAILS")["$[]"](Y),u(H,1)):Ee)?t(ce)?y(f,"BlockMatchData").$new(ne,k,Y,bt):!0:$},z.$$arity=-2),e.defs(x,"$build_block",Z=function(ce,Ee,fe,o,H,Y,Q){var ne,k,a=this,E=$,T=$,M=$,te=$,X=$,Ae=$,me=$,mt=$,dt=$,He=$;if(Q==null&&(Q=s([],{})),E=Ee,"skip"["$==="](E)?(ne=[!0,"simple"],T=ne[0],M=ne[1]):"raw"["$==="](E)?(ne=[!1,"simple"],T=ne[0],M=ne[1]):(ne=[!1,Ee],T=ne[0],M=ne[1]),t(fe["$nil?"]())?(M["$=="]("verbatim")?te=H.$read_lines_until(s(["break_on_blank_lines","break_on_list_continuation"],{break_on_blank_lines:!0,break_on_list_continuation:!0})):(Ee["$=="]("compound")&&(Ee="simple"),te=a.$read_paragraph_lines(H,!1,s(["skip_line_comments","skip_processing"],{skip_line_comments:!0,skip_processing:T}))),X=$):t(M["$!="]("compound"))?(te=H.$read_lines_until(s(["terminator","skip_processing","context","cursor"],{terminator:fe,skip_processing:T,context:ce,cursor:"at_mark"})),X=$):fe["$=="](!1)?(te=$,X=H):(te=$,Ae=H.$cursor(),X=y(f,"Reader").$new(H.$read_lines_until(s(["terminator","skip_processing","context","cursor"],{terminator:fe,skip_processing:T,context:ce,cursor:"at_mark"})),Ae)),E=Ee,"verbatim"["$==="](E))me=(t(ne=Y["$[]"]("tabsize"))?ne:o.$document().$attributes()["$[]"]("tabsize")).$to_i(),t(mt=Y["$[]"]("indent"))?a["$adjust_indentation!"](te,mt.$to_i(),me):t(Xe(me,0))&&a["$adjust_indentation!"](te,-1,me);else if("skip"["$==="](E))return $;if(t(dt=Q["$[]"]("extension")))if(Y.$delete("style"),t(t(ne=He=dt.$process_method()["$[]"](o,t(k=X)?k:y(f,"Reader").$new(te),Y.$merge()))?He["$!="](o):ne))Y.$replace(He.$attributes()),t(t(ne=(k=He.$content_model()["$=="]("compound"))?y(f,"Block")["$==="](He):He.$content_model()["$=="]("compound"))?(te=He.$lines())["$empty?"]()["$!"]():ne)&&(Ee="compound",X=y(f,"Reader").$new(te));else return $;else He=y(f,"Block").$new(o,ce,s(["content_model","source","attributes"],{content_model:Ee,source:te,attributes:Y}));return Ee["$=="]("compound")&&a.$parse_blocks(X,He),He},Z.$$arity=-7),e.defs(x,"$parse_blocks",re=function(ce,Ee,fe){var o,H,Y,Q=this,ne=$;if(fe==null&&(fe=$),t(fe))for(;t(t(H=t(Y=ne=Q.$next_block(ce,Ee,fe.$merge()))?Ee.$blocks()["$<<"](ne):Y)?H:ce["$has_more_lines?"]()););else for(;t(t(H=t(Y=ne=Q.$next_block(ce,Ee))?Ee.$blocks()["$<<"](ne):Y)?H:ce["$has_more_lines?"]()););return $},re.$$arity=-3),e.defs(x,"$parse_list",ye=function(ce,Ee,fe,o){var H,Y,Q=this,ne=$,k=$,a=$;for(i["~"]==null&&(i["~"]=$),ne=y(f,"List").$new(fe,Ee),k=y(f,"ListRxMap")["$[]"](Ee);t(t(Y=ce["$has_more_lines?"]())?k["$=~"](ce.$peek_line()):Y)&&(t(a=Q.$parse_list_item(ce,ne,i["~"],(Y=i["~"])===$?$:Y["$[]"](1),o))&&ne.$items()["$<<"](a),!!t(Y=ce.$skip_blank_lines())););return ne},ye.$$arity=4),e.defs(x,"$catalog_callouts",q=function(ce,Ee){var fe,o=this,H=$,Y=$;return H=!1,Y=0,t(ce["$include?"]("<"))&&c(ce,"scan",[y(f,"CalloutScanRx")],(fe=function(){var Q=fe.$$s||this,ne;return t(((ne=i["~"])===$?$:ne["$[]"](0))["$start_with?"]("\\"))||Ee.$callouts().$register(function(){return((ne=i["~"])===$?$:ne["$[]"](2))["$=="](".")?(Y=O(Y,1)).$to_s():(ne=i["~"])===$?$:ne["$[]"](2)}()),H=!0},fe.$$s=o,fe.$$arity=0,fe)),H},q.$$arity=2),e.defs(x,"$catalog_inline_anchor",ee=function(ce,Ee,fe,o,H){var Y,Q=this;return H==null&&(H=fe.$document()),t(t(Y=Ee)?Ee["$include?"](y(f,"ATTR_REF_HEAD")):Y)&&(Ee=H.$sub_attributes(Ee)),t(H.$register("refs",[ce,y(f,"Inline").$new(fe,"anchor",Ee,s(["type","id"],{type:"ref",id:ce}))]))||(t(y(f,"Reader")["$==="](o))&&(o=o.$cursor()),Q.$logger().$warn(Q.$message_with_context("id assigned to anchor already in use: "+ce,s(["source_location"],{source_location:o})))),$},ee.$$arity=-5),e.defs(x,"$catalog_inline_anchors",V=function(ce,Ee,fe,o){var H,Y,Q=this;return t(t(H=ce["$include?"]("[["))?H:ce["$include?"]("or:"))&&c(ce,"scan",[y(f,"InlineAnchorScanRx")],(Y=function(){var ne=Y.$$s||this,k,a,E,T=$,M=$,te=$,X=$;if(t(T=(k=i["~"])===$?$:k["$[]"](1))){if(t(t(k=t(a=M=(E=i["~"])===$?$:E["$[]"](2))?M["$include?"](y(f,"ATTR_REF_HEAD")):a)?(M=fe.$sub_attributes(M))["$empty?"]():k))return $}else if(T=(k=i["~"])===$?$:k["$[]"](3),t(M=(k=i["~"])===$?$:k["$[]"](4))){if(t(M["$include?"]("]")))M=M.$gsub("\\]","]"),t(M["$include?"](y(f,"ATTR_REF_HEAD")))&&(M=fe.$sub_attributes(M));else if(t(t(k=M["$include?"](y(f,"ATTR_REF_HEAD")))?(M=fe.$sub_attributes(M))["$empty?"]():k))return $}return t(fe.$register("refs",[T,y(f,"Inline").$new(Ee,"anchor",M,s(["type","id"],{type:"ref",id:T}))]))?$:(te=o.$cursor_at_mark(),t(Xe(X=O(((k=i["~"])===$?$:k.$pre_match()).$count(y(f,"LF")),function(){return t(((k=i["~"])===$?$:k["$[]"](0))["$start_with?"](y(f,"LF")))?1:0}()),0))&&(te=te.$dup()).$advance(X),ne.$logger().$warn(ne.$message_with_context("id assigned to anchor already in use: "+T,s(["source_location"],{source_location:te}))))},Y.$$s=Q,Y.$$arity=0,Y)),$},V.$$arity=4),e.defs(x,"$catalog_inline_biblio_anchor",_e=function(ce,Ee,fe,o){var H,Y=this;return t(fe.$document().$register("refs",[ce,y(f,"Inline").$new(fe,"anchor",t(H=Ee)?"["+Ee+"]":H,s(["type","id"],{type:"bibref",id:ce}))]))||Y.$logger().$warn(Y.$message_with_context("id assigned to bibliography anchor already in use: "+ce,s(["source_location"],{source_location:o.$cursor()}))),$},_e.$$arity=4),e.defs(x,"$parse_description_list",Me=function(ce,Ee,fe){var o,H,Y=this,Q=$,ne=$,k=$,a=$,E=$;for(i["~"]==null&&(i["~"]=$),Q=y(f,"List").$new(fe,"dlist"),ne=y(f,"DescriptionListSiblingRx")["$[]"](Ee["$[]"](2)),Q.$items()["$<<"](k=Y.$parse_list_item(ce,Q,Ee,ne));t(t(H=ce["$has_more_lines?"]())?ne["$=~"](ce.$peek_line()):H);)a=Y.$parse_list_item(ce,Q,i["~"],ne),t(k["$[]"](1))?Q.$items()["$<<"](k=a):(k["$[]"](0)["$<<"](a["$[]"](0)["$[]"](0)),E=[1,a["$[]"](1)],c(k,"[]=",e.to_a(E)),E[u(E.length,1)]);return Q},Me.$$arity=3),e.defs(x,"$parse_callout_list",Te=function(ce,Ee,fe,o){var H,Y,Q,ne=this,k=$,a=$,E=$,T=$,M=$,te=$,X=$;for(k=y(f,"List").$new(fe,"colist"),a=1,E=0;t(t(Y=Ee)?Y:t(Q=Ee=y(f,"CalloutListRx").$match(ce.$peek_line()))?ce.$mark():Q);)(T=Ee["$[]"](1))["$=="](".")&&(T=(E=O(E,1)).$to_s()),T["$=="](a.$to_s())||ne.$logger().$warn(ne.$message_with_context("callout list item index: expected "+a+", got "+T,s(["source_location"],{source_location:ce.$cursor_at_mark()}))),t(M=ne.$parse_list_item(ce,k,Ee,"<1>"))&&(k.$items()["$<<"](M),t((te=o.$callout_ids(k.$items().$size()))["$empty?"]())?ne.$logger().$warn(ne.$message_with_context("no callout found for <"+k.$items().$size()+">",s(["source_location"],{source_location:ce.$cursor_at_mark()}))):(X=["coids",te],c(M.$attributes(),"[]=",e.to_a(X)),X[u(X.length,1)])),a=O(a,1),Ee=$;return o.$next_list(),k},Te.$$arity=4),e.defs(x,"$parse_list_item",et=function(ce,Ee,fe,o,H){var Y,Q,ne=this,k=$,a=$,E=$,T=$,M=$,te=$,X=$,Ae=$,me=$,mt=$,dt=$,He=$,kt=$,$t=$,Tt=$,rt=$,Lt=$,Yt=$,_t=$;if(H==null&&(H=$),(k=Ee.$context())["$=="]("dlist")?(a=!0,E=y(f,"ListItem").$new(Ee,T=fe["$[]"](1)),t(t(Y=T["$start_with?"]("[["))?y(f,"LeadingInlineAnchorRx")["$=~"](T):Y)&&ne.$catalog_inline_anchor((Y=i["~"])===$?$:Y["$[]"](1),t(Y=(Q=i["~"])===$?$:Q["$[]"](2))?Y:((Q=i["~"])===$?$:Q.$post_match()).$lstrip(),E,ce),t(M=fe["$[]"](3))&&(te=!0),X=y(f,"ListItem").$new(Ee,M),t(Ee.$document().$sourcemap())&&(Ae=[ce.$cursor()],c(E,"source_location=",e.to_a(Ae)),Ae[u(Ae.length,1)],t(te)?(Ae=[E.$source_location()],c(X,"source_location=",e.to_a(Ae)),Ae[u(Ae.length,1)]):me=!0)):(te=!0,X=y(f,"ListItem").$new(Ee,M=fe["$[]"](2)),t(Ee.$document().$sourcemap())&&(Ae=[ce.$cursor()],c(X,"source_location=",e.to_a(Ae)),Ae[u(Ae.length,1)]),mt=k,"ulist"["$==="](mt)?(Ae=[o],c(X,"marker=",e.to_a(Ae)),Ae[u(Ae.length,1)],t(M["$start_with?"]("["))&&(t(t(Y=H)?H["$=="]("bibliography"):Y)?t(y(f,"InlineBiblioAnchorRx")["$=~"](M))&&ne.$catalog_inline_biblio_anchor((Y=i["~"])===$?$:Y["$[]"](1),(Y=i["~"])===$?$:Y["$[]"](2),X,ce):t(M["$start_with?"]("[["))?t(y(f,"LeadingInlineAnchorRx")["$=~"](M))&&ne.$catalog_inline_anchor((Y=i["~"])===$?$:Y["$[]"](1),(Y=i["~"])===$?$:Y["$[]"](2),X,ce):t(M["$start_with?"]("[ ] ","[x] ","[*] "))&&(Ee.$set_option("checklist"),Ae=["checkbox",""],c(X.$attributes(),"[]=",e.to_a(Ae)),Ae[u(Ae.length,1)],t(M["$start_with?"]("[ "))||(Ae=["checked",""],c(X.$attributes(),"[]=",e.to_a(Ae)),Ae[u(Ae.length,1)]),Ae=[M.$slice(4,M.$length())],c(X,"text=",e.to_a(Ae)),Ae[u(Ae.length,1)]))):"olist"["$==="](mt)?(Q=ne.$resolve_ordered_list_marker(o,dt=Ee.$items().$size(),!0,ce),Y=e.to_ary(Q),o=Y[0]==null?$:Y[0],He=Y[1]==null?$:Y[1],Ae=[o],c(X,"marker=",e.to_a(Ae)),Ae[u(Ae.length,1)],t((Y=dt["$=="](0))?H["$!"]():dt["$=="](0))&&(Ae=[t(Y=He)?Y:(t(Q=y(f,"ORDERED_LIST_STYLES")["$[]"](u(o.$length(),1)))?Q:"arabic").$to_s()],c(Ee,"style=",e.to_a(Ae)),Ae[u(Ae.length,1)]),t(t(Y=M["$start_with?"]("[["))?y(f,"LeadingInlineAnchorRx")["$=~"](M):Y)&&ne.$catalog_inline_anchor((Y=i["~"])===$?$:Y["$[]"](1),(Y=i["~"])===$?$:Y["$[]"](2),X,ce)):(Ae=[o],c(X,"marker=",e.to_a(Ae)),Ae[u(Ae.length,1)],t(t(Y=M["$start_with?"]("[["))?y(f,"LeadingInlineAnchorRx")["$=~"](M):Y)&&ne.$catalog_inline_anchor((Y=i["~"])===$?$:Y["$[]"](1),(Y=i["~"])===$?$:Y["$[]"](2),X,ce))),ce.$shift(),kt=ce.$cursor(),$t=y(f,"Reader").$new(ne.$read_lines_for_list_item(ce,k,o,te),kt),t($t["$has_more_lines?"]())){for(t(me)&&(Ae=[kt],c(X,"source_location=",e.to_a(Ae)),Ae[u(Ae.length,1)]),Tt=$t.$skip_line_comments(),t(rt=$t.$peek_line())&&(t(Tt["$empty?"]())||$t.$unshift_lines(Tt),t(rt["$empty?"]())||(Lt=!0,t(a)||(te=$))),t(Yt=ne.$next_block($t,X,s([],{}),s(["text_only","list_type"],{text_only:function(){return t(te)?$:!0}(),list_type:k})))&&X.$blocks()["$<<"](Yt);t($t["$has_more_lines?"]());)t(Yt=ne.$next_block($t,X,s([],{}),s(["list_type"],{list_type:k})))&&X.$blocks()["$<<"](Yt);t(t(Y=t(Q=Lt)?_t=X.$blocks()["$[]"](0):Q)?_t.$context()["$=="]("paragraph"):Y)&&X.$fold_first()}return t(a)?[[E],function(){return t(t(Y=X["$text?"]())?Y:X["$blocks?"]())?X:$}()]:X},et.$$arity=-5),e.defs(x,"$read_lines_for_list_item",ct=function(ce,Ee,fe,o){var H,Y,Q,ne,k,a,E,T,M=this,te=$,X=$,Ae=$,me=$,mt=$,dt=$,He=$,kt=$,$t=$,Tt=$,rt=$;for(fe==null&&(fe=$),o==null&&(o=!0),te=[],X="inactive",Ae=!1,me=$,mt=Ee["$=="]("dlist");t(ce["$has_more_lines?"]())&&(dt=ce.$read_line(),!t(M["$is_sibling_list_item?"](dt,Ee,fe)));){if(He=function(){return t(te["$empty?"]())?$:te["$[]"](-1)}(),He["$=="](y(f,"LIST_CONTINUATION"))&&(X["$=="]("inactive")&&(X="active",o=!0,t(Ae)||(kt=[-1,""],c(te,"[]=",e.to_a(kt)),kt[u(kt.length,1)])),dt["$=="](y(f,"LIST_CONTINUATION")))){t(X["$!="]("frozen"))&&(X="frozen",te["$<<"](dt)),dt=$;continue}if(t($t=M["$is_delimited_block?"](dt,!0)))if(X["$=="]("active"))te["$<<"](dt),te.$concat(ce.$read_lines_until(s(["terminator","read_last_line","context"],{terminator:$t.$terminator(),read_last_line:!0,context:$}))),X="inactive";else break;else{if(t(t(Y=t(Q=mt)?X["$!="]("active"):Q)?y(f,"BlockAttributeLineRx")["$match?"](dt):Y))break;if(t((Y=X["$=="]("active"))?dt["$empty?"]()["$!"]():X["$=="]("active")))t(y(f,"LiteralParagraphRx")["$match?"](dt))?(ce.$unshift_line(dt),t(mt)?te.$concat(c(ce,"read_lines_until",[s(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],(ne=function(Lt){var Yt=ne.$$s||this;return Lt==null&&(Lt=$),Yt["$is_sibling_list_item?"](Lt,Ee,fe)},ne.$$s=M,ne.$$arity=1,ne))):te.$concat(ce.$read_lines_until(s(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0}))),X="inactive"):t(t(Y=t(Q=y(f,"BlockTitleRx")["$match?"](dt))?Q:y(f,"BlockAttributeLineRx")["$match?"](dt))?Y:y(f,"AttributeEntryRx")["$match?"](dt))?te["$<<"](dt):(t(Tt=c(function(){return t(Ae)?["dlist"]:y(f,"NESTABLE_LIST_CONTEXTS")}(),"find",[],(k=function(Lt){var Yt=k.$$s||this;return Lt==null&&(Lt=$),y(f,"ListRxMap")["$[]"](Lt)["$match?"](dt)},k.$$s=M,k.$$arity=1,k)))&&(Ae=!0,t((Y=Tt["$=="]("dlist"))?((Q=i["~"])===$?$:Q["$[]"](3))["$nil_or_empty?"]():Tt["$=="]("dlist"))&&(o=!1)),te["$<<"](dt),X="inactive");else if(t(t(Y=He)?He["$empty?"]():Y)){if(t(dt["$empty?"]())&&(!t(dt=t(Y=ce.$skip_blank_lines())?ce.$read_line():Y)||t(M["$is_sibling_list_item?"](dt,Ee,fe))))break;if(dt["$=="](y(f,"LIST_CONTINUATION")))me=te.$size(),te["$<<"](dt);else if(t(o)){if(t(M["$is_sibling_list_item?"](dt,Ee,fe)))break;if(t(Tt=c(y(f,"NESTABLE_LIST_CONTEXTS"),"find",[],(a=function(Lt){var Yt=a.$$s||this;return Lt==null&&(Lt=$),y(f,"ListRxMap")["$[]"](Lt)["$=~"](dt)},a.$$s=M,a.$$arity=1,a))))te["$<<"](dt),Ae=!0,t((Y=Tt["$=="]("dlist"))?((Q=i["~"])===$?$:Q["$[]"](3))["$nil_or_empty?"]():Tt["$=="]("dlist"))&&(o=!1);else if(t(y(f,"LiteralParagraphRx")["$match?"](dt)))ce.$unshift_line(dt),t(mt)?te.$concat(c(ce,"read_lines_until",[s(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],(E=function(Lt){var Yt=E.$$s||this;return Lt==null&&(Lt=$),Yt["$is_sibling_list_item?"](Lt,Ee,fe)},E.$$s=M,E.$$arity=1,E))):te.$concat(ce.$read_lines_until(s(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})));else break}else t(Ae)||te.$pop(),te["$<<"](dt),o=!0}else t(dt["$empty?"]())||(o=!0),t(Tt=c(function(){return t(Ae)?["dlist"]:y(f,"NESTABLE_LIST_CONTEXTS")}(),"find",[],(T=function(Lt){var Yt=T.$$s||this;return Lt==null&&(Lt=$),y(f,"ListRxMap")["$[]"](Lt)["$=~"](dt)},T.$$s=M,T.$$arity=1,T)))&&(Ae=!0,t((Y=Tt["$=="]("dlist"))?((Q=i["~"])===$?$:Q["$[]"](3))["$nil_or_empty?"]():Tt["$=="]("dlist"))&&(o=!1)),te["$<<"](dt)}dt=$}for(t(dt)&&ce.$unshift_line(dt),t(me)&&(kt=[me,""],c(te,"[]=",e.to_a(kt)),kt[u(kt.length,1)]);!t(te["$empty?"]());)if(t((rt=te["$[]"](-1))["$empty?"]()))te.$pop();else{rt["$=="](y(f,"LIST_CONTINUATION"))&&te.$pop();break}return te},ct.$$arity=-3),e.defs(x,"$initialize_section",it=function(ce,Ee,fe){var o,H,Y=this,Q=$,ne=$,k=$,a=$,E=$,T=$,M=$,te=$,X=$,Ae=$,me=$,mt=$,dt=$,He=$,kt=$,$t=$,Tt=$;return fe==null&&(fe=s([],{})),Q=Ee.$document(),ne=(k=Q.$doctype())["$=="]("book"),t(Q.$sourcemap())&&(a=ce.$cursor()),E=fe["$[]"](1),H=Y.$parse_section_title(ce,Q,fe["$[]"]("id")),o=e.to_ary(H),T=o[0]==null?$:o[0],M=o[1]==null?$:o[1],te=o[2]==null?$:o[2],X=o[3]==null?$:o[3],Ae=o[4]==null?$:o[4],t(E)?t(t(o=ne)?E["$=="]("abstract"):o)?(o=["chapter",1],me=o[0],X=o[1]):t(t(o=E["$start_with?"]("sect"))?y(f,"SectionLevelStyleRx")["$match?"](E):o)?me="section":(o=[E,!0],me=o[0],mt=o[1],X["$=="](0)&&(X=1),dt=me["$=="]("appendix")):t(ne)?me=function(){return X["$=="](0)?"part":t(Xe(X,1))?"section":"chapter"}():t((o=k["$=="]("manpage"))?te.$casecmp("synopsis")["$=="](0):k["$=="]("manpage"))?(o=["synopsis",!0],me=o[0],mt=o[1]):me="section",t(M)&&(He=["reftext",M],c(fe,"[]=",e.to_a(He)),He[u(He.length,1)]),kt=y(f,"Section").$new(Ee,X),o=[T,te,me,a],kt["$id="](o[0]),kt["$title="](o[1]),kt["$sectname="](o[2]),kt["$source_location="](o[3]),t(mt)?(He=[!0],c(kt,"special=",e.to_a(He)),He[u(He.length,1)],t(dt)?(He=[!0],c(kt,"numbered=",e.to_a(He)),He[u(He.length,1)]):Q.$attributes()["$[]"]("sectnums")["$=="]("all")&&(He=[function(){return t(t(o=ne)?X["$=="](1):o)?"chapter":!0}()],c(kt,"numbered=",e.to_a(He)),He[u(He.length,1)])):t(t(o=Q.$attributes()["$[]"]("sectnums"))?Xe(X,0):o)?(He=[function(){return t(kt.$special())?t(o=Ee.$numbered())?!0:o:!0}()],c(kt,"numbered=",e.to_a(He)),He[u(He.length,1)]):t(t(o=t(H=ne)?X["$=="](0):H)?Q.$attributes()["$[]"]("partnums"):o)&&(He=[!0],c(kt,"numbered=",e.to_a(He)),He[u(He.length,1)]),t($t=t(o=kt.$id())?o:(He=[function(){return t(Q.$attributes()["$key?"]("sectids"))?Tt=y(f,"Section").$generate_id(kt.$title(),Q):$}()],c(kt,"id=",e.to_a(He)),He[u(He.length,1)]))&&(t(t(o=Tt)?o:te["$include?"](y(f,"ATTR_REF_HEAD"))["$!"]())||kt.$title(),t(Q.$register("refs",[$t,kt]))||Y.$logger().$warn(Y.$message_with_context("id assigned to section already in use: "+$t,s(["source_location"],{source_location:ce.$cursor_at_line(u(ce.$lineno(),function(){return t(Ae)?1:2}()))})))),kt.$update_attributes(fe),ce.$skip_blank_lines(),kt},it.$$arity=-3),e.defs(x,"$is_next_line_section?",Ne=function(bt,ce){var Ee,fe,o=this,H=$,Y=$;return t(t(Ee=H=ce["$[]"](1))?t(fe=H["$=="]("discrete"))?fe:H["$=="]("float"):Ee)?$:t(y(f,"Compliance").$underline_style_section_titles())?(Y=bt.$peek_lines(2,t(Ee=H)?H["$=="]("comment"):Ee),o["$is_section_title?"](t(Ee=Y["$[]"](0))?Ee:"",Y["$[]"](1))):o["$atx_section_title?"](t(Ee=bt.$peek_line())?Ee:"")},Ne.$$arity=2),e.defs(x,"$is_next_line_doctitle?",Se=function(bt,ce,Ee){var fe,o=this,H=$;return t(Ee)?t(fe=H=o["$is_next_line_section?"](bt,ce))?O(H,Ee.$to_i())["$=="](0):fe:o["$is_next_line_section?"](bt,ce)["$=="](0)},Se.$$arity=3),e.defs(x,"$is_section_title?",We=function(bt,ce){var Ee,fe=this;return ce==null&&(ce=$),t(Ee=fe["$atx_section_title?"](bt))?Ee:function(){return t(ce["$nil_or_empty?"]())?$:fe["$setext_section_title?"](bt,ce)}()},We.$$arity=-2),e.defs(x,"$atx_section_title?",tt=function(bt){var ce,Ee=this;return t(function(){return t(y(f,"Compliance").$markdown_syntax())?t(ce=bt["$start_with?"]("=","#"))?y(f,"ExtAtxSectionTitleRx")["$=~"](bt):ce:t(ce=bt["$start_with?"]("="))?y(f,"AtxSectionTitleRx")["$=~"](bt):ce}())?u(((ce=i["~"])===$?$:ce["$[]"](1)).$length(),1):$},tt.$$arity=1),e.defs(x,"$setext_section_title?",Qe=function(bt,ce){var Ee,fe,o,H=this,Y=$,Q=$,ne=$;return t(t(Ee=t(fe=t(o=Y=y(f,"SETEXT_SECTION_LEVELS")["$[]"](Q=ce.$chr()))?H["$uniform?"](ce,Q,ne=ce.$length()):o)?y(f,"SetextSectionTitleRx")["$match?"](bt):fe)?xe(u(bt.$length(),ne).$abs(),2):Ee)?Y:$},Qe.$$arity=2),e.defs(x,"$parse_section_title",nt=function(ce,Ee,fe){var o,H,Y,Q,ne,k=this,a=$,E=$,T=$,M=$,te=$,X=$,Ae=$,me=$;return fe==null&&(fe=$),a=$,E=ce.$read_line(),t(function(){return t(y(f,"Compliance").$markdown_syntax())?t(o=E["$start_with?"]("=","#"))?y(f,"ExtAtxSectionTitleRx")["$=~"](E):o:t(o=E["$start_with?"]("="))?y(f,"AtxSectionTitleRx")["$=~"](E):o}())?(o=[u(((H=i["~"])===$?$:H["$[]"](1)).$length(),1),(H=i["~"])===$?$:H["$[]"](2),!0],T=o[0],M=o[1],te=o[2],t(fe)||t(t(o=t(H=M["$end_with?"]("]]"))?y(f,"InlineSectionAnchorRx")["$=~"](M):H)?((H=i["~"])===$?$:H["$[]"](1))["$!"]():o)&&(o=[M.$slice(0,u(M.$length(),((H=i["~"])===$?$:H["$[]"](0)).$length())),(H=i["~"])===$?$:H["$[]"](2),(H=i["~"])===$?$:H["$[]"](3)],M=o[0],fe=o[1],a=o[2])):t(t(o=t(H=t(Y=t(Q=t(ne=y(f,"Compliance").$underline_style_section_titles())?X=ce.$peek_line(!0):ne)?T=y(f,"SETEXT_SECTION_LEVELS")["$[]"](Ae=X.$chr()):Q)?k["$uniform?"](X,Ae,me=X.$length()):Y)?M=t(Y=y(f,"SetextSectionTitleRx")["$=~"](E))?(Q=i["~"])===$?$:Q["$[]"](1):Y:H)?xe(u(E.$length(),me).$abs(),2):o)?(te=!1,t(fe)||t(t(o=t(H=M["$end_with?"]("]]"))?y(f,"InlineSectionAnchorRx")["$=~"](M):H)?((H=i["~"])===$?$:H["$[]"](1))["$!"]():o)&&(o=[M.$slice(0,u(M.$length(),((H=i["~"])===$?$:H["$[]"](0)).$length())),(H=i["~"])===$?$:H["$[]"](2),(H=i["~"])===$?$:H["$[]"](3)],M=o[0],fe=o[1],a=o[2]),ce.$shift()):k.$raise("Unrecognized section at "+ce.$cursor_at_prev_line()),t(Ee["$attr?"]("leveloffset"))&&(T=O(T,Ee.$attr("leveloffset").$to_i()),t(xe(T,0))&&(T=0)),[fe,a,M,T,te]},nt.$$arity=-3),e.defs(x,"$parse_header_metadata",yt=function(ce,Ee,fe){var o,H,Y,Q,ne=this,k=$,a=$,E=$,T=$,M=$,te=$,X=$,Ae=$,me=$,mt=$,dt=$,He=$,kt=$,$t=$,Tt=$,rt=$,Lt=$,Yt=$,_t=$;if(Ee==null&&(Ee=$),fe==null&&(fe=!0),k=t(o=Ee)?Ee.$attributes():o,ne.$process_attribute_entries(ce,Ee),t(t(o=ce["$has_more_lines?"]())?ce["$next_line_empty?"]()["$!"]():o)?(a=(E=ne.$process_authors(ce.$read_line())).$delete("authorcount"),t(t(o=Ee)?Xe((T=["authorcount",a],c(k,"[]=",e.to_a(T)),T[u(T.length,1)]),0):o)&&(c(E,"each",[],(H=function(Zt,rr){var nr=H.$$s||this;return Zt==null&&(Zt=$),rr==null&&(rr=$),t(k["$key?"](Zt))?$:(T=[Zt,Ee.$apply_header_subs(rr)],c(k,"[]=",e.to_a(T)),T[u(T.length,1)])},H.$$s=ne,H.$$arity=2,H)),M=k["$[]"]("author"),te=k["$[]"]("authorinitials"),X=k["$[]"]("authors")),T=["authorcount",a],c(E,"[]=",e.to_a(T)),T[u(T.length,1)],ne.$process_attribute_entries(ce,Ee),t(t(o=ce["$has_more_lines?"]())?ce["$next_line_empty?"]()["$!"]():o)&&(Ae=ce.$read_line(),t(me=y(f,"RevisionInfoLineRx").$match(Ae))?(mt=s([],{}),t(me["$[]"](1))&&(T=["revnumber",me["$[]"](1).$rstrip()],c(mt,"[]=",e.to_a(T)),T[u(T.length,1)]),t((dt=me["$[]"](2).$strip())["$empty?"]())||(t(t(o=me["$[]"](1)["$!"]())?dt["$start_with?"]("v"):o)?(T=["revnumber",dt.$slice(1,dt.$length())],c(mt,"[]=",e.to_a(T)),T[u(T.length,1)]):(T=["revdate",dt],c(mt,"[]=",e.to_a(T)),T[u(T.length,1)])),t(me["$[]"](3))&&(T=["revremark",me["$[]"](3).$rstrip()],c(mt,"[]=",e.to_a(T)),T[u(T.length,1)]),t(t(o=Ee)?mt["$empty?"]()["$!"]():o)&&c(mt,"each",[],(Y=function(Zt,rr){var nr=Y.$$s||this;return Zt==null&&(Zt=$),rr==null&&(rr=$),t(k["$key?"](Zt))?$:(T=[Zt,Ee.$apply_header_subs(rr)],c(k,"[]=",e.to_a(T)),T[u(T.length,1)])},Y.$$s=ne,Y.$$arity=2,Y))):ce.$unshift_line(Ae)),ne.$process_attribute_entries(ce,Ee),ce.$skip_blank_lines()):E=s([],{}),t(Ee)){if(t(t(o=k["$key?"]("author"))?(He=k["$[]"]("author"))["$!="](M):o))kt=ne.$process_authors(He,!0,!1),t(k["$[]"]("authorinitials")["$!="](te))&&kt.$delete("authorinitials");else if(t(t(o=k["$key?"]("authors"))?(He=k["$[]"]("authors"))["$!="](X):o))kt=ne.$process_authors(He,!0);else{for(o=[[],1,"author_1",!1,!1],$t=o[0],Tt=o[1],rt=o[2],Lt=o[3],Yt=o[4];t(k["$key?"](rt));)(_t=k["$[]"](rt))["$=="](E["$[]"](rt))?($t["$<<"]($),Yt=!0):($t["$<<"](_t),Lt=!0),rt="author_"+(Tt=O(Tt,1));t(Lt)?(t(Yt)&&c($t,"each_with_index",[],(Q=function(Zt,rr){var nr=Q.$$s||this,sr,tr=$;return Zt==null&&(Zt=$),rr==null&&(rr=$),t(Zt)?$:(T=[rr,c([E["$[]"]("firstname_"+(tr=O(rr,1))),E["$[]"]("middlename_"+tr),E["$[]"]("lastname_"+tr)].$compact(),"map",[],(sr=function(hr){var fr=sr.$$s||this;return hr==null&&(hr=$),hr.$tr(" ","_")},sr.$$s=nr,sr.$$arity=1,sr)).$join(" ")],c($t,"[]=",e.to_a(T)),T[u(T.length,1)])},Q.$$s=ne,Q.$$arity=2,Q)),kt=ne.$process_authors($t,!0,!1)):kt=s(["authorcount"],{authorcount:0})}kt["$[]"]("authorcount")["$=="](0)?t(a)?kt=$:(T=["authorcount",0],c(k,"[]=",e.to_a(T)),T[u(T.length,1)]):(k.$update(kt),t(t(o=k["$key?"]("email")["$!"]())?k["$key?"]("email_1"):o)&&(T=["email",k["$[]"]("email_1")],c(k,"[]=",e.to_a(T)),T[u(T.length,1)]))}return t(fe)?E.$merge(mt.$to_h(),kt.$to_h()):$},yt.$$arity=-2),e.defs(x,"$process_authors",lt=function(ce,Ee,fe){var o,H,Y=this,Q=$,ne=$,k=$;return Ee==null&&(Ee=!1),fe==null&&(fe=!0),Q=s([],{}),ne=0,c(function(){return t(t(o=fe)?ce["$include?"](";"):o)?ce.$split(y(f,"AuthorDelimiterRx")):[].concat(e.to_a(ce))}(),"each",[],(H=function(a){var E=H.$$s||this,T,M,te,X,Ae=$,me=$,mt=$,dt=$,He=$,kt=$,$t=$,Tt=$;return a==null&&(a=$),t(a["$empty?"]())?$:(Ae=s([],{}),(ne=O(ne,1))["$=="](1)?c(y(f,"AuthorKeys"),"each",[],(T=function(rt){var Lt=T.$$s||this,Yt=$;return rt==null&&(rt=$),Yt=[rt.$to_sym(),rt],c(Ae,"[]=",e.to_a(Yt)),Yt[u(Yt.length,1)]},T.$$s=E,T.$$arity=1,T)):c(y(f,"AuthorKeys"),"each",[],(M=function(rt){var Lt=M.$$s||this,Yt=$;return rt==null&&(rt=$),Yt=[rt.$to_sym(),""+rt+"_"+ne],c(Ae,"[]=",e.to_a(Yt)),Yt[u(Yt.length,1)]},M.$$s=E,M.$$arity=1,M)),t(Ee)?(t(a["$include?"]("<"))&&(me=[Ae["$[]"]("author"),a.$tr("_"," ")],c(Q,"[]=",e.to_a(me)),me[u(me.length,1)],a=a.$gsub(y(f,"XmlSanitizeRx"),"")),(mt=a.$split($,3)).$size()["$=="](3)&&mt["$<<"](mt.$pop().$squeeze(" "))):t(dt=y(f,"AuthorInfoLineRx").$match(a))&&(mt=dt.$to_a()).$shift(),t(mt)?(He=(me=[Ae["$[]"]("firstname"),kt=mt["$[]"](0).$tr("_"," ")],c(Q,"[]=",e.to_a(me)),me[u(me.length,1)]),me=[Ae["$[]"]("authorinitials"),kt.$chr()],c(Q,"[]=",e.to_a(me)),me[u(me.length,1)],t(mt["$[]"](1))&&(t(mt["$[]"](2))?(me=[Ae["$[]"]("middlename"),$t=mt["$[]"](1).$tr("_"," ")],c(Q,"[]=",e.to_a(me)),me[u(me.length,1)],me=[Ae["$[]"]("lastname"),Tt=mt["$[]"](2).$tr("_"," ")],c(Q,"[]=",e.to_a(me)),me[u(me.length,1)],He=O(O(O(O(kt," "),$t)," "),Tt),me=[Ae["$[]"]("authorinitials"),""+kt.$chr()+$t.$chr()+Tt.$chr()],c(Q,"[]=",e.to_a(me)),me[u(me.length,1)]):(me=[Ae["$[]"]("lastname"),Tt=mt["$[]"](1).$tr("_"," ")],c(Q,"[]=",e.to_a(me)),me[u(me.length,1)],He=O(O(kt," "),Tt),me=[Ae["$[]"]("authorinitials"),""+kt.$chr()+Tt.$chr()],c(Q,"[]=",e.to_a(me)),me[u(me.length,1)])),t(te=Q["$[]"](Ae["$[]"]("author")))||(me=[Ae["$[]"]("author"),He],c(Q,"[]=",e.to_a(me)),me[u(me.length,1)]),t(t(te=Ee)?te:mt["$[]"](3)["$!"]())||(me=[Ae["$[]"]("email"),mt["$[]"](3)],c(Q,"[]=",e.to_a(me)),me[u(me.length,1)])):(me=[Ae["$[]"]("author"),(me=[Ae["$[]"]("firstname"),kt=a.$squeeze(" ").$strip()],c(Q,"[]=",e.to_a(me)),me[u(me.length,1)])],c(Q,"[]=",e.to_a(me)),me[u(me.length,1)],me=[Ae["$[]"]("authorinitials"),kt.$chr()],c(Q,"[]=",e.to_a(me)),me[u(me.length,1)]),ne["$=="](1)?(me=["authors",Q["$[]"](Ae["$[]"]("author"))],c(Q,"[]=",e.to_a(me)),me[u(me.length,1)]):(ne["$=="](2)&&c(y(f,"AuthorKeys"),"each",[],(X=function(rt){var Lt=X.$$s||this;return rt==null&&(rt=$),t(Q["$key?"](rt))?(me=[""+rt+"_1",Q["$[]"](rt)],c(Q,"[]=",e.to_a(me)),me[u(me.length,1)]):$},X.$$s=E,X.$$arity=1,X)),me=["authors",""+Q["$[]"]("authors")+", "+Q["$[]"](Ae["$[]"]("author"))],c(Q,"[]=",e.to_a(me)),me[u(me.length,1)]))},H.$$s=Y,H.$$arity=1,H)),k=["authorcount",ne],c(Q,"[]=",e.to_a(k)),k[u(k.length,1)],Q},lt.$$arity=-2),e.defs(x,"$parse_block_metadata_lines",K=function(ce,Ee,fe,o){var H,Y,Q=this;for(fe==null&&(fe=s([],{})),o==null&&(o=s([],{}));t(Q.$parse_block_metadata_line(ce,Ee,fe,o))&&(ce.$shift(),!!t(Y=ce.$skip_blank_lines())););return fe},K.$$arity=-3),e.defs(x,"$parse_block_metadata_line",l=function(ce,Ee,fe,o){var H,Y,Q=this,ne=$,k=$,a=$,E=$,T=$,M=$;if(i["~"]==null&&(i["~"]=$),o==null&&(o=s([],{})),t(t(H=ne=ce.$peek_line())?function(){return t(o["$[]"]("text_only"))?ne["$start_with?"]("[","/"):k=ne["$start_with?"]("[",".","/",":")}():H)){if(t(ne["$start_with?"]("["))){if(t(ne["$start_with?"]("[["))){if(t(t(H=ne["$end_with?"]("]]"))?y(f,"BlockAnchorRx")["$=~"](ne):H))return a=["id",(H=i["~"])===$?$:H["$[]"](1)],c(fe,"[]=",e.to_a(a)),a[u(a.length,1)],t(E=(H=i["~"])===$?$:H["$[]"](2))&&(a=["reftext",function(){return t(E["$include?"](y(f,"ATTR_REF_HEAD")))?Ee.$sub_attributes(E):E}()],c(fe,"[]=",e.to_a(a)),a[u(a.length,1)]),!0}else if(t(t(H=ne["$end_with?"]("]"))?y(f,"BlockAttributeListRx")["$=~"](ne):H))return T=fe["$[]"](1),t(Ee.$parse_attributes((H=i["~"])===$?$:H["$[]"](1),[],s(["sub_input","sub_result","into"],{sub_input:!0,sub_result:!0,into:fe}))["$[]"](1))&&(a=[1,t(H=Q.$parse_style_attribute(fe,ce))?H:T],c(fe,"[]=",e.to_a(a)),a[u(a.length,1)]),!0}else if(t(t(H=k)?ne["$start_with?"]("."):H)){if(t(y(f,"BlockTitleRx")["$=~"](ne)))return a=["title",(H=i["~"])===$?$:H["$[]"](1)],c(fe,"[]=",e.to_a(a)),a[u(a.length,1)],!0}else if(t(t(H=k["$!"]())?H:ne["$start_with?"]("/"))){if(t(ne["$start_with?"]("//"))){if(ne["$=="]("//"))return!0;if(t(t(H=k)?Q["$uniform?"](ne,"/",M=ne.$length()):H)){if(!M["$=="](3))return ce.$read_lines_until(s(["terminator","skip_first_line","preserve_last_line","skip_processing","context"],{terminator:ne,skip_first_line:!0,preserve_last_line:!0,skip_processing:!0,context:"comment"})),!0}else if(!t(ne["$start_with?"]("///")))return!0}}else if(t(t(H=t(Y=k)?ne["$start_with?"](":"):Y)?y(f,"AttributeEntryRx")["$=~"](ne):H))return Q.$process_attribute_entry(ce,Ee,fe,i["~"]),!0}return $},l.$$arity=-4),e.defs(x,"$process_attribute_entries",v=function(ce,Ee,fe){var o,H=this;for(fe==null&&(fe=$),ce.$skip_comment_lines();t(H.$process_attribute_entry(ce,Ee,fe));)ce.$shift(),ce.$skip_comment_lines()},v.$$arity=-3),e.defs(x,"$process_attribute_entry",I=function(ce,Ee,fe,o){var H,Y,Q,ne=this,k=$,a=$,E=$,T=$;if(fe==null&&(fe=$),o==null&&(o=$),t(t(H=o)?H:o=function(){return t(ce["$has_more_lines?"]())?y(f,"AttributeEntryRx").$match(ce.$peek_line()):$}())){if(t((k=o["$[]"](2))["$nil_or_empty?"]()))k="";else if(t(k["$end_with?"](y(f,"LINE_CONTINUATION"),y(f,"LINE_CONTINUATION_LEGACY"))))for(H=[k.$slice(u(k.$length(),2),2),k.$slice(0,u(k.$length(),2)).$rstrip()],a=H[0],k=H[1];t(t(Y=ce.$advance())?(E=t(Q=ce.$peek_line())?Q:"")["$empty?"]()["$!"]():Y)&&(E=E.$lstrip(),t(T=E["$end_with?"](a))&&(E=E.$slice(0,u(E.$length(),2)).$rstrip()),k=""+k+function(){return t(k["$end_with?"](y(f,"HARD_LINE_BREAK")))?y(f,"LF"):" "}()+E,!!t(T)););return ne.$store_attribute(o["$[]"](1),k,Ee,fe),!0}else return $},I.$$arity=-3),e.defs(x,"$store_attribute",U=function(ce,Ee,fe,o){var H,Y=this,Q=$;return fe==null&&(fe=$),o==null&&(o=$),t(ce["$end_with?"]("!"))?(ce=ce.$chop(),Ee=$):t(ce["$start_with?"]("!"))&&(ce=ce.$slice(1,ce.$length()),Ee=$),(ce=Y.$sanitize_attribute_name(ce))["$=="]("numbered")?ce="sectnums":ce["$=="]("hardbreaks")?ce="hardbreaks-option":ce["$=="]("showtitle")&&Y.$store_attribute("notitle",function(){return t(Ee)?$:""}(),fe,o),t(fe)?t(Ee)?(ce["$=="]("leveloffset")&&(t(Ee["$start_with?"]("+"))?Ee=O(fe.$attr("leveloffset",0).$to_i(),Ee.$slice(1,Ee.$length()).$to_i()).$to_s():t(Ee["$start_with?"]("-"))&&(Ee=u(fe.$attr("leveloffset",0).$to_i(),Ee.$slice(1,Ee.$length()).$to_i()).$to_s())),t(Q=fe.$set_attribute(ce,Ee))&&(Ee=Q,t(o)&&n(y(f,"Document"),"AttributeEntry").$new(ce,Ee).$save_to(o))):t(t(H=fe.$delete_attribute(ce))?o:H)&&n(y(f,"Document"),"AttributeEntry").$new(ce,Ee).$save_to(o):t(o)&&n(y(f,"Document"),"AttributeEntry").$new(ce,Ee).$save_to(o),[ce,Ee]},U.$$arity=-3),e.defs(x,"$resolve_list_marker",P=function(ce,Ee,fe,o,H){var Y=this,Q=$;return fe==null&&(fe=0),o==null&&(o=!1),H==null&&(H=$),function(){return Q=ce,"ulist"["$==="](Q)?Ee:"olist"["$==="](Q)?Y.$resolve_ordered_list_marker(Ee,fe,o,H)["$[]"](0):"<1>"}()},P.$$arity=-3),e.defs(x,"$resolve_ordered_list_marker",de=function(ce,Ee,fe,o){var H,Y,Q=this,ne=$,k=$,a=$,E=$;return Ee==null&&(Ee=0),fe==null&&(fe=!1),o==null&&(o=$),t(ce["$start_with?"]("."))?[ce]:(ne=k=c(y(f,"ORDERED_LIST_STYLES"),"find",[],(H=function(T){var M=H.$$s||this;return T==null&&(T=$),y(f,"OrderedListMarkerRxMap")["$[]"](T)["$match?"](ce)},H.$$s=Q,H.$$arity=1,H)),"arabic"["$==="](ne)?(t(fe)&&(a=O(Ee,1),E=ce.$to_i()),ce="1."):"loweralpha"["$==="](ne)?(t(fe)&&(a=O("a"["$[]"](0).$ord(),Ee).$chr(),E=ce.$chop()),ce="a."):"upperalpha"["$==="](ne)?(t(fe)&&(a=O("A"["$[]"](0).$ord(),Ee).$chr(),E=ce.$chop()),ce="A."):"lowerroman"["$==="](ne)?(t(fe)&&(a=y(f,"Helpers").$int_to_roman(O(Ee,1)).$downcase(),E=ce.$chop()),ce="i)"):"upperroman"["$==="](ne)&&(t(fe)&&(a=y(f,"Helpers").$int_to_roman(O(Ee,1)),E=ce.$chop()),ce="I)"),t(t(Y=fe)?a["$!="](E):Y)&&Q.$logger().$warn(Q.$message_with_context("list item index: expected "+a+", got "+E,s(["source_location"],{source_location:o.$cursor()}))),[ce,k])},de.$$arity=-2),e.defs(x,"$is_sibling_list_item?",be=function(bt,ce,Ee){var fe,o,H=this;return t(n("::","Regexp")["$==="](Ee))?Ee["$match?"](bt):t(fe=y(f,"ListRxMap")["$[]"](ce)["$=~"](bt))?Ee["$=="](H.$resolve_list_marker(ce,(o=i["~"])===$?$:o["$[]"](1))):fe},be.$$arity=3),e.defs(x,"$parse_table",je=function(ce,Ee,fe){var o,H,Y,Q,ne=this,k=$,a=$,E=$,T=$,M=$,te=$,X=$,Ae=$,me=$,mt=$,dt=$,He=$,kt=$,$t=$,Tt=$,rt=$,Lt=$,Yt=$,_t=$;for(k=y(f,"Table").$new(Ee,fe),t(t(o=fe["$key?"]("cols"))?(a=ne.$parse_colspecs(fe["$[]"]("cols")))["$empty?"]()["$!"]():o)&&(k.$create_columns(a),E=!0),T=t(o=ce.$skip_blank_lines())?o:0,t(fe["$[]"]("header-option"))?(M=[!0],c(k,"has_header_option=",e.to_a(M)),M[u(M.length,1)]):t((o=T["$=="](0))?fe["$[]"]("noheader-option")["$!"]():T["$=="](0))&&(M=["implicit"],c(k,"has_header_option=",e.to_a(M)),M[u(M.length,1)],te=!0),X=n(y(f,"Table"),"ParserContext").$new(ce,k,fe),o=[X.$format(),-1,$],Ae=o[0],me=o[1],mt=o[2],o=!1;o||t(dt=ce.$read_line());){for(o=!1,t(t(H=He=Xe(me=O(me,1),0))?dt["$empty?"]():H)?(dt=$,t(mt)&&(mt=O(mt,1))):Ae["$=="]("psv")&&(t(X["$starts_with_delimiter?"](dt))?(dt=dt.$slice(1,dt.$length()),X.$close_open_cell(),t(mt)&&(mt=$)):(Y=ne.$parse_cellspec(dt,"start",X.$delimiter()),H=e.to_ary(Y),kt=H[0]==null?$:H[0],dt=H[1]==null?$:H[1],t(kt)?(X.$close_open_cell(kt),t(mt)&&(mt=$)):t(t(H=mt)?mt["$=="](me):H)&&(M=[te=mt=$],c(k,"has_header_option=",e.to_a(M)),M[u(M.length,1)]))),t(He)||(ce.$mark(),t(te)&&(t(t(H=ce["$has_more_lines?"]())?ce.$peek_line()["$empty?"]():H)?mt=1:(M=[te=$],c(k,"has_header_option=",e.to_a(M)),M[u(M.length,1)]))),H=!1;H||t(!0);)if(H=!1,t(t(Y=dt)?$t=X.$match_delimiter(dt):Y)){if(Y=[$t.$pre_match(),$t.$post_match()],Tt=Y[0],rt=Y[1],Lt=Ae,"csv"["$==="](Lt)){if(t(X["$buffer_has_unclosed_quotes?"](Tt))){if(X.$skip_past_delimiter(Tt),t((dt=rt)["$empty?"]()))break;H=!0;continue}M=[""+X.$buffer()+Tt],c(X,"buffer=",e.to_a(M)),M[u(M.length,1)]}else if("dsv"["$==="](Lt)){if(t(Tt["$end_with?"]("\\"))){if(X.$skip_past_escaped_delimiter(Tt),t((dt=rt)["$empty?"]())){M=[""+X.$buffer()+y(f,"LF")],c(X,"buffer=",e.to_a(M)),M[u(M.length,1)],X.$keep_cell_open();break}H=!0;continue}M=[""+X.$buffer()+Tt],c(X,"buffer=",e.to_a(M)),M[u(M.length,1)]}else{if(t(Tt["$end_with?"]("\\"))){if(X.$skip_past_escaped_delimiter(Tt),t((dt=rt)["$empty?"]())){M=[""+X.$buffer()+y(f,"LF")],c(X,"buffer=",e.to_a(M)),M[u(M.length,1)],X.$keep_cell_open();break}H=!0;continue}Q=ne.$parse_cellspec(Tt),Y=e.to_ary(Q),kt=Y[0]==null?$:Y[0],Yt=Y[1]==null?$:Y[1],X.$push_cellspec(kt),M=[""+X.$buffer()+Yt],c(X,"buffer=",e.to_a(M)),M[u(M.length,1)]}t((dt=rt)["$empty?"]())&&(dt=$),X.$close_cell()}else{M=[""+X.$buffer()+dt+y(f,"LF")],c(X,"buffer=",e.to_a(M)),M[u(M.length,1)],Lt=Ae,"csv"["$==="](Lt)?t(X["$buffer_has_unclosed_quotes?"]())?(t(t(Y=mt)?me["$=="](0):Y)&&(M=[te=mt=$],c(k,"has_header_option=",e.to_a(M)),M[u(M.length,1)]),X.$keep_cell_open()):X.$close_cell(!0):"dsv"["$==="](Lt)?X.$close_cell(!0):X.$keep_cell_open();break}if(t(X["$cell_open?"]()))t(ce["$has_more_lines?"]())||X.$close_cell(!0);else if(!t(H=ce.$skip_blank_lines()))break}return t(t(o=(_t=k.$attributes(),t(H=_t["$[]"]("colcount"))?H:(M=["colcount",k.$columns().$size()],c(_t,"[]=",e.to_a(M)),M[u(M.length,1)]))["$=="](0))?o:E)||k.$assign_column_widths(),t(te)&&(M=[!0],c(k,"has_header_option=",e.to_a(M)),M[u(M.length,1)]),k.$partition_header_footer(fe),k},je.$$arity=3),e.defs(x,"$parse_colspecs",Be=function(ce){var Ee,fe,o=this,H=$;return t(ce["$include?"](" "))&&(ce=ce.$delete(" ")),ce["$=="](ce.$to_i().$to_s())?c(n("::","Array"),"new",[ce.$to_i()],(Ee=function(){var Y=Ee.$$s||this;return s(["width"],{width:1})},Ee.$$s=o,Ee.$$arity=0,Ee)):(H=[],c(function(){return t(ce["$include?"](","))?ce.$split(",",-1):ce.$split(";",-1)}(),"each",[],(fe=function(Y){var Q=fe.$$s||this,ne,k,a,E=$,T=$,M=$,te=$,X=$,Ae=$;return Y==null&&(Y=$),t(Y["$empty?"]())?H["$<<"](s(["width"],{width:1})):t(E=y(f,"ColumnSpecRx").$match(Y))?(T=s([],{}),t(E["$[]"](2))&&(k=E["$[]"](2).$split("."),ne=e.to_ary(k),M=ne[0]==null?$:ne[0],te=ne[1]==null?$:ne[1],t(t(ne=M["$nil_or_empty?"]()["$!"]())?y(f,"TableCellHorzAlignments")["$key?"](M):ne)&&(X=["halign",y(f,"TableCellHorzAlignments")["$[]"](M)],c(T,"[]=",e.to_a(X)),X[u(X.length,1)]),t(t(ne=te["$nil_or_empty?"]()["$!"]())?y(f,"TableCellVertAlignments")["$key?"](te):ne)&&(X=["valign",y(f,"TableCellVertAlignments")["$[]"](te)],c(T,"[]=",e.to_a(X)),X[u(X.length,1)])),t(Ae=E["$[]"](3))?(X=["width",function(){return Ae["$=="]("~")?-1:Ae.$to_i()}()],c(T,"[]=",e.to_a(X)),X[u(X.length,1)]):(X=["width",1],c(T,"[]=",e.to_a(X)),X[u(X.length,1)]),t(t(ne=E["$[]"](4))?y(f,"TableCellStyles")["$key?"](E["$[]"](4)):ne)&&(X=["style",y(f,"TableCellStyles")["$[]"](E["$[]"](4))],c(T,"[]=",e.to_a(X)),X[u(X.length,1)]),t(E["$[]"](1))?c(1,"upto",[E["$[]"](1).$to_i()],(a=function(){var me=a.$$s||this;return H["$<<"](T.$merge())},a.$$s=Q,a.$$arity=0,a)):H["$<<"](T)):$},fe.$$s=o,fe.$$arity=1,fe)),H)},Be.$$arity=1),e.defs(x,"$parse_cellspec",Ke=function(ce,Ee,fe){var o,H,Y=this,Q=$,ne=$,k=$,a=$,E=$,T=$,M=$,te=$,X=$;if(Ee==null&&(Ee="end"),fe==null&&(fe=$),o=[$,""],Q=o[0],ne=o[1],Ee["$=="]("start"))if(t(ce["$include?"](fe)))if(H=ce.$partition(fe),o=e.to_ary(H),k=o[0]==null?$:o[0],a=o[1]==null?$:o[1],ne=o[2]==null?$:o[2],t(Q=y(f,"CellSpecStartRx").$match(k))){if(t(Q["$[]"](0)["$empty?"]()))return[s([],{}),ne]}else return[$,ce];else return[$,ce];else if(t(Q=y(f,"CellSpecEndRx").$match(ce))){if(t(Q["$[]"](0).$lstrip()["$empty?"]()))return[s([],{}),ce.$rstrip()];ne=Q.$pre_match()}else return[s([],{}),ce];return E=s([],{}),t(Q["$[]"](1))&&(H=Q["$[]"](1).$split("."),o=e.to_ary(H),T=o[0]==null?$:o[0],M=o[1]==null?$:o[1],T=function(){return t(T["$nil_or_empty?"]())?1:T.$to_i()}(),M=function(){return t(M["$nil_or_empty?"]())?1:M.$to_i()}(),te=Q["$[]"](2),"+"["$==="](te)?(T["$=="](1)||(X=["colspan",T],c(E,"[]=",e.to_a(X)),X[u(X.length,1)]),M["$=="](1)||(X=["rowspan",M],c(E,"[]=",e.to_a(X)),X[u(X.length,1)])):"*"["$==="](te)&&(T["$=="](1)||(X=["repeatcol",T],c(E,"[]=",e.to_a(X)),X[u(X.length,1)]))),t(Q["$[]"](3))&&(H=Q["$[]"](3).$split("."),o=e.to_ary(H),T=o[0]==null?$:o[0],M=o[1]==null?$:o[1],t(t(o=T["$nil_or_empty?"]()["$!"]())?y(f,"TableCellHorzAlignments")["$key?"](T):o)&&(X=["halign",y(f,"TableCellHorzAlignments")["$[]"](T)],c(E,"[]=",e.to_a(X)),X[u(X.length,1)]),t(t(o=M["$nil_or_empty?"]()["$!"]())?y(f,"TableCellVertAlignments")["$key?"](M):o)&&(X=["valign",y(f,"TableCellVertAlignments")["$[]"](M)],c(E,"[]=",e.to_a(X)),X[u(X.length,1)])),t(t(o=Q["$[]"](4))?y(f,"TableCellStyles")["$key?"](Q["$[]"](4)):o)&&(X=["style",y(f,"TableCellStyles")["$[]"](Q["$[]"](4))],c(E,"[]=",e.to_a(X)),X[u(X.length,1)]),[E,ne]},Ke.$$arity=-2),e.defs(x,"$parse_style_attribute",we=function(ce,Ee){var fe,o,H,Y,Q=this,ne=$,k=$,a=$,E=$,T=$,M=$,te=$;return Ee==null&&(Ee=$),t(t(fe=t(o=ne=ce["$[]"](1))?ne["$include?"](" ")["$!"]():o)?y(f,"Compliance").$shorthand_property_syntax():fe)?(k=$,a="",E=s([],{}),c(ne,"each_char",[],(H=function(X){var Ae=H.$$s||this,me=$;return X==null&&(X=$),function(){return me=X,"."["$==="](me)?(Ae.$yield_buffered_attribute(E,k,a,Ee),a="",k="role"):"#"["$==="](me)?(Ae.$yield_buffered_attribute(E,k,a,Ee),a="",k="id"):"%"["$==="](me)?(Ae.$yield_buffered_attribute(E,k,a,Ee),a="",k="option"):a=O(a,X)}()},H.$$s=Q,H.$$arity=1,H)),t(k)?(Q.$yield_buffered_attribute(E,k,a,Ee),t(T=E["$[]"]("style"))&&(M=["style",T],c(ce,"[]=",e.to_a(M)),M[u(M.length,1)]),t(E["$key?"]("id"))&&(M=["id",E["$[]"]("id")],c(ce,"[]=",e.to_a(M)),M[u(M.length,1)]),t(E["$key?"]("role"))&&(M=["role",function(){return t((te=ce["$[]"]("role"))["$nil_or_empty?"]())?E["$[]"]("role").$join(" "):""+te+" "+E["$[]"]("role").$join(" ")}()],c(ce,"[]=",e.to_a(M)),M[u(M.length,1)]),t(E["$key?"]("option"))&&c(E["$[]"]("option"),"each",[],(Y=function(X){var Ae=Y.$$s||this;return X==null&&(X=$),M=[""+X+"-option",""],c(ce,"[]=",e.to_a(M)),M[u(M.length,1)]},Y.$$s=Q,Y.$$arity=1,Y)),T):(M=["style",ne],c(ce,"[]=",e.to_a(M)),M[u(M.length,1)])):(M=["style",ne],c(ce,"[]=",e.to_a(M)),M[u(M.length,1)])},we.$$arity=-2),e.defs(x,"$yield_buffered_attribute",ot=function(ce,Ee,fe,o){var H,Y=this,Q=$;return t(Ee)?t(fe["$empty?"]())?t(o)?Y.$logger().$warn(Y.$message_with_context("invalid empty "+Ee+" detected in style attribute",s(["source_location"],{source_location:o.$cursor_at_prev_line()}))):Y.$logger().$warn("invalid empty "+Ee+" detected in style attribute"):Ee["$=="]("id")?(t(ce["$key?"]("id"))&&(t(o)?Y.$logger().$warn(Y.$message_with_context("multiple ids detected in style attribute",s(["source_location"],{source_location:o.$cursor_at_prev_line()}))):Y.$logger().$warn("multiple ids detected in style attribute")),Q=[Ee,fe],c(ce,"[]=",e.to_a(Q)),Q[u(Q.length,1)]):(t(H=ce["$[]"](Ee))?H:(Q=[Ee,[]],c(ce,"[]=",e.to_a(Q)),Q[u(Q.length,1)]))["$<<"](fe):t(fe["$empty?"]())||(Q=["style",fe],c(ce,"[]=",e.to_a(Q)),Q[u(Q.length,1)]),$},ot.$$arity=4),e.defs(x,"$adjust_indentation!",at=function(bt,ce,Ee){var fe,o,H,Y,Q,ne,k,a=this,E=$,T=$,M=$;return ce==null&&(ce=0),Ee==null&&(Ee=0),t(bt["$empty?"]())||(t(t(fe=Xe(Ee,0))?c(bt,"any?",[],(o=function(te){var X=o.$$s||this;return te==null&&(te=$),te["$include?"](y(f,"TAB"))},o.$$s=a,o.$$arity=1,o)):fe)&&(E=ie(" ",Ee),function(){var te=e.new_brk();try{return c(bt,"map!",[],(H=function(X){var Ae=H.$$s||this,me,mt,dt,He=$,kt=$,$t=$,Tt=$,rt=$;return X==null&&(X=$),t(t(me=X["$empty?"]())?me:(He=X.$index(y(f,"TAB")))["$nil?"]())||He["$=="](0)&&(kt=0,function(){var Lt=e.new_brk();try{return c(X,"each_byte",[],(mt=function(Yt){var _t=mt.$$s||this;return Yt==null&&(Yt=$),Yt["$=="](9)||e.brk($,Lt),kt=O(kt,1)},mt.$$s=Ae,mt.$$brk=Lt,mt.$$arity=1,mt))}catch(Yt){if(Yt===Lt)return Yt.$v;throw Yt}}(),X=""+ie(E,kt)+X.$slice(kt,X.$length()),!t(X["$include?"](y(f,"TAB"))))?X:($t=0,Tt=0,rt="",c(X,"each_char",[],(dt=function(Lt){var Yt=dt.$$s||this,_t=$,Zt=$;return Lt==null&&(Lt=$),Lt["$=="](y(f,"TAB"))?(_t=O(Tt,$t))["$%"](Ee)["$=="](0)?($t=O($t,u(Ee,1)),rt=O(rt,E)):((Zt=u(Ee,_t["$%"](Ee)))["$=="](1)||($t=O($t,u(Zt,1))),rt=O(rt,ie(" ",Zt))):rt=O(rt,Lt),Tt=O(Tt,1)},dt.$$s=Ae,dt.$$arity=1,dt)),rt)},H.$$s=a,H.$$brk=te,H.$$arity=1,H))}catch(X){if(X===te)return X.$v;throw X}}()),t(xe(ce,0)))||(T=$,function(){var te=e.new_brk();try{return c(bt,"each",[],(Y=function(X){var Ae=Y.$$s||this,me,mt=$;return X==null&&(X=$),t(X["$empty?"]())||((mt=u(X.$length(),X.$lstrip().$length()))["$=="](0)&&(T=$,e.brk($,te)),t(t(me=T)?xe(T,mt):me))?$:T=mt},Y.$$s=a,Y.$$brk=te,Y.$$arity=1,Y))}catch(X){if(X===te)return X.$v;throw X}}(),ce["$=="](0)?t(T)&&c(bt,"map!",[],(Q=function(te){var X=Q.$$s||this;return te==null&&(te=$),t(te["$empty?"]())?te:te.$slice(T,te.$length())},Q.$$s=a,Q.$$arity=1,Q)):(M=ie(" ",ce),t(T)?c(bt,"map!",[],(ne=function(te){var X=ne.$$s||this;return te==null&&(te=$),t(te["$empty?"]())?te:O(M,te.$slice(T,te.$length()))},ne.$$s=a,ne.$$arity=1,ne)):c(bt,"map!",[],(k=function(te){var X=k.$$s||this;return te==null&&(te=$),t(te["$empty?"]())?te:O(M,te)},k.$$s=a,k.$$arity=1,k)))),$},at.$$arity=-2),e.defs(x,"$uniform?",vt=function(bt,ce,Ee){var fe=this;return bt.$count(ce)["$=="](Ee)},vt.$$arity=3),e.defs(x,"$sanitize_attribute_name",Dt=function(ce){var Ee=this;return ce.$gsub(y(f,"InvalidAttributeNameCharsRx"),"").$downcase()},Dt.$$arity=1),$&&"sanitize_attribute_name"})(w[0],null,w)}($e[0],$e)},Opal.modules["asciidoctor/path_resolver"]=function(e){function u(s,i){return typeof s=="number"&&typeof i=="number"?s+i:s["$+"](i)}function O(s,i){return typeof s=="number"&&typeof i=="number"?s-i:s["$-"](i)}function xe(s,i){return typeof s=="number"&&typeof i=="number"?s>i:s["$>"](i)}var Xe=e.top,ie=[],A=e.nil,$e=e.const_get_qualified,$=e.const_get_relative,n=e.breaker,y=e.slice,W=e.module,oe=e.klass,b=e.truthy,_=e.hash2,c=e.send,t=e.gvars;return e.add_stubs(["$include","$attr_accessor","$root?","$posixify","$expand_path","$pwd","$start_with?","$==","$match?","$absolute_path?","$+","$length","$descends_from?","$slice","$to_s","$relative_path_from","$new","$include?","$tr","$partition_path","$each","$pop","$<<","$join_path","$[]","$web_root?","$unc?","$index","$split","$delete","$[]=","$-","$join","$raise","$!","$fetch","$warn","$logger","$empty?","$nil_or_empty?","$chomp","$!=","$>","$size","$extract_uri_prefix","$end_with?","$gsub","$private","$=~"]),function(s,i){var j=W(s,"Asciidoctor"),h=[j].concat(i);(function(g,w,C){var F=oe(g,w,"PathResolver"),N=[F].concat(C),x,f,L,ae,Pe,Ie,ue,S,d,m,p,z,Z,re,ye;return F.$$prototype.file_separator=F.$$prototype._partition_path_web=F.$$prototype._partition_path_sys=F.$$prototype.working_dir=A,F.$include($(N,"Logging")),e.const_set(N[0],"DOT","."),e.const_set(N[0],"DOT_DOT",".."),e.const_set(N[0],"DOT_SLASH","./"),e.const_set(N[0],"SLASH","/"),e.const_set(N[0],"BACKSLASH","\\"),e.const_set(N[0],"DOUBLE_SLASH","//"),e.const_set(N[0],"WindowsRootRx",/^(?:[a-zA-Z]:)?[\\\/]/),F.$attr_accessor("file_separator"),F.$attr_accessor("working_dir"),e.def(F,"$initialize",x=function(ee,V){var _e,Me,Te=this;return ee==null&&(ee=A),V==null&&(V=A),Te.file_separator=b(_e=b(Me=ee)?Me:$e($e("::","File"),"ALT_SEPARATOR"))?_e:$e($e("::","File"),"SEPARATOR"),Te.working_dir=function(){return b(V)?b(Te["$root?"](V))?Te.$posixify(V):$e("::","File").$expand_path(V):$e("::","Dir").$pwd()}(),Te._partition_path_sys=_([],{}),Te._partition_path_web=_([],{})},x.$$arity=-1),e.def(F,"$absolute_path?",f=function(q){var ee,V,_e=this;return b(ee=q["$start_with?"]($(N,"SLASH")))?ee:(V=_e.file_separator["$=="]($(N,"BACKSLASH")))?$(N,"WindowsRootRx")["$match?"](q):_e.file_separator["$=="]($(N,"BACKSLASH"))},f.$$arity=1),b((L=$(N,"RUBY_ENGINE")["$=="]("opal"))?$e("::","JAVASCRIPT_IO_MODULE")["$=="]("xmlhttprequest"):$(N,"RUBY_ENGINE")["$=="]("opal"))?e.def(F,"$root?",ae=function(q){var ee,V=this;return b(ee=V["$absolute_path?"](q))?ee:q["$start_with?"]("file://","http://","https://")},ae.$$arity=1):e.alias(F,"root?","absolute_path?"),e.def(F,"$unc?",Pe=function(q){var ee=this;return q["$start_with?"]($(N,"DOUBLE_SLASH"))},Pe.$$arity=1),e.def(F,"$web_root?",Ie=function(q){var ee=this;return q["$start_with?"]($(N,"SLASH"))},Ie.$$arity=1),e.def(F,"$descends_from?",ue=function(q,ee){var V,_e=this;return ee["$=="](q)?0:ee["$=="]($(N,"SLASH"))?b(V=q["$start_with?"]($(N,"SLASH")))?1:V:b(V=q["$start_with?"](u(ee,$(N,"SLASH"))))?u(ee.$length(),1):V},ue.$$arity=2),e.def(F,"$relative_path",S=function(ee,V){var _e=this,Me=A;if(b(_e["$root?"](ee))){if(b(Me=_e["$descends_from?"](ee,V)))return ee.$slice(Me,ee.$length());try{return $(N,"Pathname").$new(ee).$relative_path_from($(N,"Pathname").$new(V)).$to_s()}catch(Te){if(e.rescue(Te,[$(N,"StandardError")]))try{return ee}finally{e.pop_exception()}else throw Te}}else return ee},S.$$arity=2),e.def(F,"$posixify",d=function(ee){var V,_e=this;return b(ee)?b((V=_e.file_separator["$=="]($(N,"BACKSLASH")))?ee["$include?"]($(N,"BACKSLASH")):_e.file_separator["$=="]($(N,"BACKSLASH")))?ee.$tr($(N,"BACKSLASH"),$(N,"SLASH")):ee:""},d.$$arity=1),e.alias(F,"posixfy","posixify"),e.def(F,"$expand_path",m=function(ee){var V,_e,Me,Te=this,et=A,ct=A,it=A;return _e=Te.$partition_path(ee),V=e.to_ary(_e),et=V[0]==null?A:V[0],ct=V[1]==null?A:V[1],b(ee["$include?"]($(N,"DOT_DOT")))?(it=[],c(et,"each",[],(Me=function(Ne){var Se=Me.$$s||this;return Ne==null&&(Ne=A),Ne["$=="]($(N,"DOT_DOT"))?it.$pop():it["$<<"](Ne)},Me.$$s=Te,Me.$$arity=1,Me)),Te.$join_path(it,ct)):Te.$join_path(et,ct)},m.$$arity=1),e.def(F,"$partition_path",p=function(ee,V){var _e=this,Me=A,Te=A,et=A,ct=A,it=A,Ne=A;return V==null&&(V=A),b(Me=(Te=function(){return b(V)?_e._partition_path_web:_e._partition_path_sys}())["$[]"](ee))?Me:(et=_e.$posixify(ee),b(V)?b(_e["$web_root?"](et))?ct=$(N,"SLASH"):b(et["$start_with?"]($(N,"DOT_SLASH")))&&(ct=$(N,"DOT_SLASH")):b(_e["$root?"](et))?b(_e["$unc?"](et))?ct=$(N,"DOUBLE_SLASH"):b(et["$start_with?"]($(N,"SLASH")))?ct=$(N,"SLASH"):ct=et.$slice(0,u(et.$index($(N,"SLASH")),1)):b(et["$start_with?"]($(N,"DOT_SLASH")))&&(ct=$(N,"DOT_SLASH")),it=function(){return b(ct)?et.$slice(ct.$length(),et.$length()):et}().$split($(N,"SLASH")),it.$delete($(N,"DOT")),Ne=[ee,[it,ct]],c(Te,"[]=",e.to_a(Ne)),Ne[O(Ne.length,1)])},p.$$arity=-2),e.def(F,"$join_path",z=function(ee,V){var _e=this;return V==null&&(V=A),b(V)?""+V+ee.$join($(N,"SLASH")):ee.$join($(N,"SLASH"))},z.$$arity=-2),e.def(F,"$system_path",Z=function(ee,V,_e,Me){var Te,et,ct,it,Ne=this,Se=A,We=A,tt=A,Qe=A,nt=A,yt=A,lt=A,K=A,l=A,v=A;if(V==null&&(V=A),_e==null&&(_e=A),Me==null&&(Me=_([],{})),b(_e)&&(b(Ne["$root?"](_e))||Ne.$raise($e("::","SecurityError"),"Jail is not an absolute path: "+_e),_e=Ne.$posixify(_e)),b(ee))if(b(Ne["$root?"](ee))){if(Se=Ne.$expand_path(ee),b(b(Te=_e)?Ne["$descends_from?"](Se,_e)["$!"]():Te)){if(b(Me.$fetch("recover",!0)))return Ne.$logger().$warn(""+(b(Te=Me["$[]"]("target_name"))?Te:"path")+" is outside of jail; recovering automatically"),et=Ne.$partition_path(Se),Te=e.to_ary(et),We=Te[0]==null?A:Te[0],et=Ne.$partition_path(_e),Te=e.to_ary(et),tt=Te[0]==null?A:Te[0],Qe=Te[1]==null?A:Te[1],Ne.$join_path(u(tt,We),Qe);Ne.$raise($e("::","SecurityError"),""+(b(Te=Me["$[]"]("target_name"))?Te:"path")+" "+ee+" is outside of jail: "+_e+" (disallowed in safe mode)")}return Se}else et=Ne.$partition_path(ee),Te=e.to_ary(et),We=Te[0]==null?A:Te[0];else We=[];if(b(We["$empty?"]())){if(b(V["$nil_or_empty?"]()))return b(Te=_e)?Te:Ne.working_dir;if(b(Ne["$root?"](V)))if(b(_e))V=Ne.$posixify(V);else return Ne.$expand_path(V);else et=Ne.$partition_path(V),Te=e.to_ary(et),We=Te[0]==null?A:Te[0],V=b(Te=_e)?Te:Ne.working_dir}else b(V["$nil_or_empty?"]())?V=b(Te=_e)?Te:Ne.working_dir:b(Ne["$root?"](V))?b(_e)&&(V=Ne.$posixify(V)):V=""+(b(Te=_e)?Te:Ne.working_dir).$chomp("/")+"/"+V;return b(b(Te=b(et=_e)?nt=Ne["$descends_from?"](V,_e)["$!"]():et)?Ne.file_separator["$=="]($(N,"BACKSLASH")):Te)?(et=Ne.$partition_path(V),Te=e.to_ary(et),yt=Te[0]==null?A:Te[0],lt=Te[1]==null?A:Te[1],et=Ne.$partition_path(_e),Te=e.to_ary(et),tt=Te[0]==null?A:Te[0],Qe=Te[1]==null?A:Te[1],b(lt["$!="](Qe))&&(b(Me.$fetch("recover",!0))?(Ne.$logger().$warn("start path for "+(b(Te=Me["$[]"]("target_name"))?Te:"path")+" is outside of jail root; recovering automatically"),yt=tt,nt=!1):Ne.$raise($e("::","SecurityError"),"start path for "+(b(Te=Me["$[]"]("target_name"))?Te:"path")+" "+V+" refers to location outside jail root: "+_e+" (disallowed in safe mode)"))):(et=Ne.$partition_path(V),Te=e.to_ary(et),yt=Te[0]==null?A:Te[0],Qe=Te[1]==null?A:Te[1]),b((K=u(yt,We))["$include?"]($(N,"DOT_DOT")))&&(Te=[K,[]],l=Te[0],K=Te[1],b(_e)?(b(tt)||(et=Ne.$partition_path(_e),Te=e.to_ary(et),tt=Te[0]==null?A:Te[0]),v=!1,c(l,"each",[],(ct=function(I){var U=ct.$$s||this,P;return I==null&&(I=A),I["$=="]($(N,"DOT_DOT"))?b(xe(K.$size(),tt.$size()))?K.$pop():b(Me.$fetch("recover",!0))?b(v)?A:(U.$logger().$warn(""+(b(P=Me["$[]"]("target_name"))?P:"path")+" has illegal reference to ancestor of jail; recovering automatically"),v=!0):U.$raise($e("::","SecurityError"),""+(b(P=Me["$[]"]("target_name"))?P:"path")+" "+ee+" refers to location outside jail: "+_e+" (disallowed in safe mode)"):K["$<<"](I)},ct.$$s=Ne,ct.$$arity=1,ct))):c(l,"each",[],(it=function(I){var U=it.$$s||this;return I==null&&(I=A),I["$=="]($(N,"DOT_DOT"))?K.$pop():K["$<<"](I)},it.$$s=Ne,it.$$arity=1,it))),b(nt)?(Se=Ne.$join_path(K,Qe),b(Ne["$descends_from?"](Se,_e))?Se:b(Me.$fetch("recover",!0))?(Ne.$logger().$warn(""+(b(Te=Me["$[]"]("target_name"))?Te:"path")+" is outside of jail; recovering automatically"),b(tt)||(et=Ne.$partition_path(_e),Te=e.to_ary(et),tt=Te[0]==null?A:Te[0]),Ne.$join_path(u(tt,We),Qe)):Ne.$raise($e("::","SecurityError"),""+(b(Te=Me["$[]"]("target_name"))?Te:"path")+" "+ee+" is outside of jail: "+_e+" (disallowed in safe mode)")):Ne.$join_path(K,Qe)},Z.$$arity=-2),e.def(F,"$web_path",re=function(ee,V){var _e,Me,Te,et=this,ct=A,it=A,Ne=A,Se=A,We=A;return V==null&&(V=A),ee=et.$posixify(ee),V=et.$posixify(V),b(b(_e=V["$nil_or_empty?"]())?_e:et["$web_root?"](ee))||(Me=et.$extract_uri_prefix(""+V+function(){return b(V["$end_with?"]($(N,"SLASH")))?"":$(N,"SLASH")}()+ee),_e=e.to_ary(Me),ee=_e[0]==null?A:_e[0],ct=_e[1]==null?A:_e[1]),Me=et.$partition_path(ee,!0),_e=e.to_ary(Me),it=_e[0]==null?A:_e[0],Ne=_e[1]==null?A:_e[1],Se=[],c(it,"each",[],(Te=function(tt){var Qe=Te.$$s||this,nt;return tt==null&&(tt=A),tt["$=="]($(N,"DOT_DOT"))?b(Se["$empty?"]())?b(b(nt=Ne)?Ne["$!="]($(N,"DOT_SLASH")):nt)?A:Se["$<<"](tt):Se["$[]"](-1)["$=="]($(N,"DOT_DOT"))?Se["$<<"](tt):Se.$pop():Se["$<<"](tt)},Te.$$s=et,Te.$$arity=1,Te)),b((We=et.$join_path(Se,Ne))["$include?"](" "))&&(We=We.$gsub(" ","%20")),b(ct)?""+ct+We:We},re.$$arity=-2),F.$private(),e.def(F,"$extract_uri_prefix",ye=function(ee){var V,_e=this;return b(b(V=ee["$include?"](":"))?$(N,"UriSniffRx")["$=~"](ee):V)?[ee.$slice(((V=t["~"])===A?A:V["$[]"](0)).$length(),ee.$length()),(V=t["~"])===A?A:V["$[]"](0)]:ee},ye.$$arity=1),A&&"extract_uri_prefix"})(h[0],null,h)}(ie[0],ie)},Opal.modules["asciidoctor/reader"]=function(e){function u(g,w){return typeof g=="number"&&typeof w=="number"?g+w:g["$+"](w)}function O(g,w){return typeof g=="number"&&typeof w=="number"?g>w:g["$>"](w)}function xe(g,w){return typeof g=="number"&&typeof w=="number"?g-w:g["$-"](w)}function Xe(g,w){return typeof g=="number"&&typeof w=="number"?g*w:g["$*"](w)}function ie(g,w){return typeof g=="number"&&typeof w=="number"?g>=w:g["$>="](w)}function A(g,w){return typeof g=="number"&&typeof w=="number"?g<w:g["$<"](w)}var $e=e.top,$=[],n=e.nil,y=e.const_get_qualified,W=e.const_get_relative,oe=e.breaker,b=e.slice,_=e.module,c=e.klass,t=e.hash2,s=e.truthy,i=e.send,j=e.gvars,h=e.hash;return e.add_stubs(["$include","$attr_reader","$+","$attr_accessor","$!","$===","$split","$file","$dir","$dirname","$path","$basename","$lineno","$reverse","$prepare_lines","$empty?","$nil_or_empty?","$peek_line","$>","$slice","$[]","$length","$process_line","$times","$shift","$read_line","$<<","$-","$unshift_all","$has_more_lines?","$join","$read_lines","$unshift","$start_with?","$==","$*","$read_lines_until","$size","$clear","$cursor","$[]=","$!=","$fetch","$cursor_at_mark","$warn","$logger","$message_with_context","$pop","$push","$respond_to?","$reverse_each","$new","$tap","$each","$instance_variables","$instance_variable_get","$drop","$instance_variable_set","$class","$object_id","$inspect","$private","$prepare_source_array","$prepare_source_string","$chomp","$valid_encoding?","$to_s","$raise","$to_i","$attributes","$catalog","$pop_include","$parse","$path=","$dup","$end_with?","$keys","$rindex","$rootname","$key?","$attr","$reverse!","$>=","$nil?","$extensions?","$include_processors?","$extensions","$include_processors","$map","$skip_front_matter!","$adjust_indentation!","$include?","$=~","$preprocess_conditional_directive","$preprocess_include_directive","$downcase","$error","$none?","$any?","$all?","$strip","$send","$resolve_expr_val","$replace_next_line","$rstrip","$sub_attributes","$attribute_missing","$info","$parse_attributes","$find","$handles?","$instance","$process_method","$safe","$resolve_include_path","$method","$split_delimited_value","$partition","$<","$to_a","$uniq","$sort","$call","$each_line","$infinite?","$push_include","$delete","$first","$values","$value?","$create_include_cursor","$delete_at","$keep_if","$read","$uriish?","$attr?","$require_library","$normalize_system_path","$file?","$relative_path","$path_resolver","$base_dir","$to_f"]),function(g,w){var C=_(g,"Asciidoctor"),F=[C].concat(w);(function(N,x,f){var L=c(N,x,"Reader"),ae=[L].concat(f),Pe,Ie,ue,S,d,m,p,z,Z,re,ye,q,ee,V,_e,Me,Te,et,ct,it,Ne,Se,We,tt,Qe,nt,yt,lt,K,l,v,I,U,P,de,be,je,Be;return L.$$prototype.file=L.$$prototype.lines=L.$$prototype.look_ahead=L.$$prototype.unescape_next_line=L.$$prototype.lineno=L.$$prototype.process_lines=L.$$prototype.dir=L.$$prototype.path=L.$$prototype.mark=L.$$prototype.source_lines=L.$$prototype.saved=n,L.$include(W(ae,"Logging")),function(Ke,we,ot){var at=c(Ke,we,"Cursor"),vt=[at].concat(ot),Dt,bt,ce;return at.$$prototype.lineno=at.$$prototype.path=n,at.$attr_reader("file","dir","path","lineno"),e.def(at,"$initialize",Dt=function(fe,o,H,Y){var Q,ne=this;return o==null&&(o=n),H==null&&(H=n),Y==null&&(Y=1),Q=[fe,o,H,Y],ne.file=Q[0],ne.dir=Q[1],ne.path=Q[2],ne.lineno=Q[3],Q},Dt.$$arity=-2),e.def(at,"$advance",bt=function(fe){var o=this;return o.lineno=u(o.lineno,fe)},bt.$$arity=1),e.def(at,"$line_info",ce=function(){var fe=this;return""+fe.path+": line "+fe.lineno},ce.$$arity=0),e.alias(at,"to_s","line_info")}(ae[0],null,ae),L.$attr_reader("file"),L.$attr_reader("dir"),L.$attr_reader("path"),L.$attr_reader("lineno"),L.$attr_reader("source_lines"),L.$attr_accessor("process_lines"),L.$attr_accessor("unterminated"),e.def(L,"$initialize",Pe=function(we,ot,at){var vt,Dt,bt=this;return we==null&&(we=n),ot==null&&(ot=n),at==null&&(at=t([],{})),s(ot["$!"]())?(bt.file=n,bt.dir=".",bt.path="<stdin>",bt.lineno=1):s(y("::","String")["$==="](ot))?(bt.file=ot,Dt=y("::","File").$split(bt.file),vt=e.to_ary(Dt),bt.dir=vt[0]==null?n:vt[0],bt.path=vt[1]==null?n:vt[1],bt.lineno=1):(s(bt.file=ot.$file())?(bt.dir=s(vt=ot.$dir())?vt:y("::","File").$dirname(bt.file),bt.path=s(vt=ot.$path())?vt:y("::","File").$basename(bt.file)):(bt.dir=s(vt=ot.$dir())?vt:".",bt.path=s(vt=ot.$path())?vt:"<stdin>"),bt.lineno=s(vt=ot.$lineno())?vt:1),bt.lines=(bt.source_lines=bt.$prepare_lines(we,at)).$reverse(),bt.mark=n,bt.look_ahead=0,bt.process_lines=!0,bt.unescape_next_line=!1,bt.unterminated=n,bt.saved=n},Pe.$$arity=-1),e.def(L,"$has_more_lines?",Ie=function(){var Ke=this;return s(Ke.lines["$empty?"]())?(Ke.look_ahead=0,!1):!0},Ie.$$arity=0),e.def(L,"$empty?",ue=function(){var Ke=this;return s(Ke.lines["$empty?"]())?(Ke.look_ahead=0,!0):!1},ue.$$arity=0),e.alias(L,"eof?","empty?"),e.def(L,"$next_line_empty?",S=function(){var Ke=this;return Ke.$peek_line()["$nil_or_empty?"]()},S.$$arity=0),e.def(L,"$peek_line",d=function(we){var ot,at=this,vt=n;return we==null&&(we=!1),s(s(ot=we)?ot:O(at.look_ahead,0))?s(at.unescape_next_line)?(vt=at.lines["$[]"](-1)).$slice(1,vt.$length()):at.lines["$[]"](-1):s(at.lines["$empty?"]())?(at.look_ahead=0,n):s(ot=at.$process_line(at.lines["$[]"](-1)))?ot:at.$peek_line()},d.$$arity=-1),e.def(L,"$peek_lines",m=function(we,ot){var at,vt,Dt=this,bt=n,ce=n;return we==null&&(we=n),ot==null&&(ot=!1),bt=Dt.look_ahead,ce=[],function(){var Ee=e.new_brk();try{return i(s(at=we)?at:W(ae,"MAX_INT"),"times",[],(vt=function(){var fe=vt.$$s||this,o=n;if(fe.lineno==null&&(fe.lineno=n),s(o=function(){return s(ot)?fe.$shift():fe.$read_line()}()))return ce["$<<"](o);s(ot)&&(fe.lineno=xe(fe.lineno,1)),e.brk(n,Ee)},vt.$$s=Dt,vt.$$brk=Ee,vt.$$arity=0,vt))}catch(fe){if(fe===Ee)return fe.$v;throw fe}}(),s(ce["$empty?"]())||(Dt.$unshift_all(ce),s(ot)&&(Dt.look_ahead=bt)),ce},m.$$arity=-1),e.def(L,"$read_line",p=function(){var we,ot=this;return s(s(we=O(ot.look_ahead,0))?we:ot["$has_more_lines?"]())?ot.$shift():n},p.$$arity=0),e.def(L,"$read_lines",z=function(){var we,ot=this,at=n;for(at=[];s(ot["$has_more_lines?"]());)at["$<<"](ot.$shift());return at},z.$$arity=0),e.alias(L,"readlines","read_lines"),e.def(L,"$read",Z=function(){var we=this;return we.$read_lines().$join(W(ae,"LF"))},Z.$$arity=0),e.def(L,"$advance",re=function(){var we=this;return!!s(we.$shift())},re.$$arity=0),e.def(L,"$unshift_line",ye=function(we){var ot=this;return ot.$unshift(we),n},ye.$$arity=1),e.alias(L,"restore_line","unshift_line"),e.def(L,"$unshift_lines",q=function(we){var ot=this;return ot.$unshift_all(we)},q.$$arity=1),e.alias(L,"restore_lines","unshift_lines"),e.def(L,"$replace_next_line",ee=function(we){var ot=this;return ot.$shift(),ot.$unshift(we),!0},ee.$$arity=1),e.alias(L,"replace_line","replace_next_line"),e.def(L,"$skip_blank_lines",V=function(){var we,ot=this,at=n,vt=n;if(s(ot["$empty?"]()))return n;for(at=0;s(vt=ot.$peek_line());)if(s(vt["$empty?"]()))ot.$shift(),at=u(at,1);else return at},V.$$arity=0),e.def(L,"$skip_comment_lines",_e=function(){var we,ot,at=this,vt=n,Dt=n;if(s(at["$empty?"]()))return n;for(;s(s(ot=vt=at.$peek_line())?vt["$empty?"]()["$!"]():ot)&&s(vt["$start_with?"]("//"));)if(s(vt["$start_with?"]("///")))if(s(s(ot=O(Dt=vt.$length(),3))?vt["$=="](Xe("/",Dt)):ot))at.$read_lines_until(t(["terminator","skip_first_line","read_last_line","skip_processing","context"],{terminator:vt,skip_first_line:!0,read_last_line:!0,skip_processing:!0,context:"comment"}));else break;else at.$shift();return n},_e.$$arity=0),e.def(L,"$skip_line_comments",Me=function(){var we,ot,at=this,vt=n,Dt=n;if(s(at["$empty?"]()))return[];for(vt=[];s(s(ot=Dt=at.$peek_line())?Dt["$empty?"]()["$!"]():ot)&&s(Dt["$start_with?"]("//"));)vt["$<<"](at.$shift());return vt},Me.$$arity=0),e.def(L,"$terminate",Te=function(){var we=this;return we.lineno=u(we.lineno,we.lines.$size()),we.lines.$clear(),we.look_ahead=0,n},Te.$$arity=0),e.def(L,"$read_lines_until",et=function(we){var ot,at,vt,Dt,bt,ce,Ee=et.$$p,fe=Ee||n,o=this,H=n,Y=n,Q=n,ne=n,k=n,a=n,E=n,T=n,M=n,te=n,X=n,Ae=n;for(Ee&&(et.$$p=null),we==null&&(we=t([],{})),H=[],s(s(ot=o.process_lines)?we["$[]"]("skip_processing"):ot)&&(o.process_lines=!1,Y=!0),s(Q=we["$[]"]("terminator"))?(ne=s(ot=we["$[]"]("cursor"))?ot:o.$cursor(),k=!1,a=!1):(k=we["$[]"]("break_on_blank_lines"),a=we["$[]"]("break_on_list_continuation")),E=we["$[]"]("skip_line_comments"),T=M=n,s(we["$[]"]("skip_first_line"))&&o.$shift();s(te=o.$read_line());){if(s(function(){return s(Q)?te["$=="](Q):s(at=s(vt=s(Dt=k)?te["$empty?"]():Dt)?vt:s(Dt=s(bt=s(ce=a)?T:ce)?te["$=="](W(ae,"LIST_CONTINUATION")):bt)?(X=["preserve_last_line",!0],i(we,"[]=",e.to_a(X)),X[xe(X.length,1)]):Dt)?at:(vt=fe!==n)?e.yield1(fe,te):fe!==n}())){s(we["$[]"]("read_last_line"))&&H["$<<"](te),s(we["$[]"]("preserve_last_line"))&&(o.$unshift(te),M=!0);break}s(s(at=s(vt=E)?te["$start_with?"]("//"):vt)?te["$start_with?"]("///")["$!"]():at)||(H["$<<"](te),T=!0)}return s(Y)&&(o.process_lines=!0,s(s(ot=M)?Q["$!"]():ot)&&(o.look_ahead=xe(o.look_ahead,1))),s(s(ot=s(at=Q)?Q["$!="](te):at)?Ae=we.$fetch("context",Q):ot)&&(ne["$=="]("at_mark")&&(ne=o.$cursor_at_mark()),o.$logger().$warn(o.$message_with_context("unterminated "+Ae+" block",t(["source_location"],{source_location:ne}))),o.unterminated=!0),H},et.$$arity=-1),e.def(L,"$shift",ct=function(){var we=this;return we.lineno=u(we.lineno,1),we.look_ahead["$=="](0)||(we.look_ahead=xe(we.look_ahead,1)),we.lines.$pop()},ct.$$arity=0),e.def(L,"$unshift",it=function(we){var ot=this;return ot.lineno=xe(ot.lineno,1),ot.look_ahead=u(ot.look_ahead,1),ot.lines.$push(we),n},it.$$arity=1),y("::","RUBY_ENGINE")["$=="]("jruby")?e.def(L,"$unshift_all",Ne=function(we){var ot,at=this;return at.lineno=xe(at.lineno,we.$size()),at.look_ahead=u(at.look_ahead,we.$size()),s(we["$respond_to?"]("reverse"))?i(at.lines,"push",e.to_a(we.$reverse())):i(we,"reverse_each",[],(ot=function(vt){var Dt=ot.$$s||this;return Dt.lines==null&&(Dt.lines=n),vt==null&&(vt=n),Dt.lines.$push(vt)},ot.$$s=at,ot.$$arity=1,ot)),n},Ne.$$arity=1):e.def(L,"$unshift_all",Se=function(we){var ot=this;return ot.lineno=xe(ot.lineno,we.$size()),ot.look_ahead=u(ot.look_ahead,we.$size()),i(ot.lines,"push",e.to_a(we.$reverse())),n},Se.$$arity=1),e.def(L,"$cursor",We=function(){var we=this;return W(ae,"Cursor").$new(we.file,we.dir,we.path,we.lineno)},We.$$arity=0),e.def(L,"$cursor_at_line",tt=function(we){var ot=this;return W(ae,"Cursor").$new(ot.file,ot.dir,ot.path,we)},tt.$$arity=1),e.def(L,"$cursor_at_mark",Qe=function(){var we=this;return s(we.mark)?i(W(ae,"Cursor"),"new",e.to_a(we.mark)):we.$cursor()},Qe.$$arity=0),e.def(L,"$cursor_before_mark",nt=function(){var we,ot,at=this,vt=n,Dt=n,bt=n,ce=n;return s(at.mark)?(ot=at.mark,we=e.to_ary(ot),vt=we[0]==null?n:we[0],Dt=we[1]==null?n:we[1],bt=we[2]==null?n:we[2],ce=we[3]==null?n:we[3],W(ae,"Cursor").$new(vt,Dt,bt,xe(ce,1))):W(ae,"Cursor").$new(at.file,at.dir,at.path,xe(at.lineno,1))},nt.$$arity=0),e.def(L,"$cursor_at_prev_line",yt=function(){var we=this;return W(ae,"Cursor").$new(we.file,we.dir,we.path,xe(we.lineno,1))},yt.$$arity=0),e.def(L,"$mark",lt=function(){var we=this;return we.mark=[we.file,we.dir,we.path,we.lineno]},lt.$$arity=0),e.def(L,"$line_info",K=function(){var we=this;return""+we.path+": line "+we.lineno},K.$$arity=0),e.def(L,"$lines",l=function(){var we=this;return we.lines.$reverse()},l.$$arity=0),e.def(L,"$string",v=function(){var we=this;return we.lines.$reverse().$join(W(ae,"LF"))},v.$$arity=0),e.def(L,"$source",I=function(){var we=this;return we.source_lines.$join(W(ae,"LF"))},I.$$arity=0),e.def(L,"$save",U=function(){var we,ot=this;return ot.saved=i(t([],{}),"tap",[],(we=function(at){var vt=we.$$s||this,Dt;return at==null&&(at=n),i(vt.$instance_variables(),"each",[],(Dt=function(bt){var ce=Dt.$$s||this,Ee,fe=n,o=n;return bt==null&&(bt=n),s(s(Ee=bt["$=="]("@saved"))?Ee:bt["$=="]("@source_lines"))?n:(fe=[bt,function(){return s(y("::","Array")["$==="](o=ce.$instance_variable_get(bt)))?o.$drop(0):o}()],i(at,"[]=",e.to_a(fe)),fe[xe(fe.length,1)])},Dt.$$s=vt,Dt.$$arity=1,Dt))},we.$$s=ot,we.$$arity=1,we)),n},U.$$arity=0),e.def(L,"$restore_save",P=function(){var we,ot=this;return s(ot.saved)?(i(ot.saved,"each",[],(we=function(at,vt){var Dt=we.$$s||this;return at==null&&(at=n),vt==null&&(vt=n),Dt.$instance_variable_set(at,vt)},we.$$s=ot,we.$$arity=2,we)),ot.saved=n):n},P.$$arity=0),e.def(L,"$discard_save",de=function(){var we=this;return we.saved=n},de.$$arity=0),e.def(L,"$to_s",be=function(){var we=this;return"#<"+we.$class()+"@"+we.$object_id()+" {path: "+we.path.$inspect()+", line: "+we.lineno+"}>"},be.$$arity=0),L.$private(),e.def(L,"$prepare_lines",je=function(we,ot){var at=this,vt=n;ot==null&&(ot=t([],{}));try{return s(vt=ot["$[]"]("normalize"))?s(y("::","Array")["$==="](we))?W(ae,"Helpers").$prepare_source_array(we,vt["$!="]("chomp")):W(ae,"Helpers").$prepare_source_string(we,vt["$!="]("chomp")):s(y("::","Array")["$==="](we))?we.$drop(0):s(we)?we.$chomp().$split(W(ae,"LF"),-1):[]}catch(Dt){if(e.rescue(Dt,[W(ae,"StandardError")]))try{return s(function(){return s(y("::","Array")["$==="](we))?we.$join():we.$to_s()}()["$valid_encoding?"]())?at.$raise():at.$raise(y("::","ArgumentError"),"source is either binary or contains invalid Unicode data")}finally{e.pop_exception()}else throw Dt}},je.$$arity=-2),e.def(L,"$process_line",Be=function(we){var ot=this;return s(ot.process_lines)&&(ot.look_ahead=u(ot.look_ahead,1)),we},Be.$$arity=1),n&&"process_line"})(F[0],null,F),function(N,x,f){var L=c(N,x,"PreprocessorReader"),ae=[L].concat(f),Pe,Ie,ue,S,d,m,p,z,Z,re,ye,q,ee,V,_e,Me,Te,et,ct,it;return L.$$prototype.include_stack=L.$$prototype.lines=L.$$prototype.file=L.$$prototype.dir=L.$$prototype.path=L.$$prototype.lineno=L.$$prototype.maxdepth=L.$$prototype.process_lines=L.$$prototype.includes=L.$$prototype.document=L.$$prototype.unescape_next_line=L.$$prototype.include_processor_extensions=L.$$prototype.look_ahead=L.$$prototype.skipping=L.$$prototype.conditional_stack=n,L.$attr_reader("include_stack"),e.def(L,"$initialize",Pe=function(Se,We,tt,Qe){var nt,yt=Pe.$$p,lt=yt||n,K=this,l=n;return yt&&(Pe.$$p=null),We==null&&(We=n),tt==null&&(tt=n),Qe==null&&(Qe=t([],{})),K.document=Se,i(K,e.find_super_dispatcher(K,"initialize",Pe,!1),[We,tt,Qe],null),s(O(l=(s(nt=Se.$attributes()["$[]"]("max-include-depth"))?nt:64).$to_i(),0))?K.maxdepth=t(["abs","curr","rel"],{abs:l,curr:l,rel:l}):K.maxdepth=n,K.include_stack=[],K.includes=Se.$catalog()["$[]"]("includes"),K.skipping=!1,K.conditional_stack=[],K.include_processor_extensions=n},Pe.$$arity=-2),e.def(L,"$has_more_lines?",Ie=function(){var Ne=this;return!!s(Ne.$peek_line())},Ie.$$arity=0),e.def(L,"$empty?",ue=function(){var Ne=this;return!s(Ne.$peek_line())},ue.$$arity=0),e.alias(L,"eof?","empty?"),e.def(L,"$peek_line",S=function(Se){var We=S.$$p,tt=We||n,Qe=this,nt=n,yt=n,lt=n,K=n;for(We&&(S.$$p=null),lt=0,K=arguments.length,yt=new Array(K);lt<K;lt++)yt[lt]=arguments[lt];return Se==null&&(Se=!1),s(nt=i(Qe,e.find_super_dispatcher(Qe,"peek_line",S,!1),yt,We))?nt:s(Qe.include_stack["$empty?"]())?n:(Qe.$pop_include(),Qe.$peek_line(Se))},S.$$arity=-1),e.def(L,"$push_include",d=function(Se,We,tt,Qe,nt){var yt,lt=this,K=n,l=n,v=n,I=n,U=n,P=n;return We==null&&(We=n),tt==null&&(tt=n),Qe==null&&(Qe=1),nt==null&&(nt=t([],{})),lt.include_stack["$<<"]([lt.lines,lt.file,lt.dir,lt.path,lt.lineno,lt.maxdepth,lt.process_lines]),s(lt.file=We)?(s(y("::","String")["$==="](We))?lt.dir=y("::","File").$dirname(We):s(W(ae,"RUBY_ENGINE_OPAL"))?lt.dir=y("::","URI").$parse(y("::","File").$dirname(We=We.$to_s())):(K=[function(){return(l=y("::","File").$dirname(We.$path()))["$=="]("/")?"":l}()],i(lt.dir=We.$dup(),"path=",e.to_a(K)),K[xe(K.length,1)],We=We.$to_s()),lt.path=tt=s(yt=tt)?yt:y("::","File").$basename(We),s(lt.process_lines=i(We,"end_with?",e.to_a(W(ae,"ASCIIDOC_EXTENSIONS").$keys())))&&(K=[tt.$slice(0,tt.$rindex(".")),function(){return s(nt["$[]"]("partial-option"))?n:!0}()],i(lt.includes,"[]=",e.to_a(K)),K[xe(K.length,1)])):(lt.dir=".",lt.process_lines=!0,s(lt.path=tt)?(K=[W(ae,"Helpers").$rootname(tt),function(){return s(nt["$[]"]("partial-option"))?n:!0}()],i(lt.includes,"[]=",e.to_a(K)),K[xe(K.length,1)]):lt.path="<stdin>"),lt.lineno=Qe,s(s(yt=lt.maxdepth)?nt["$key?"]("depth"):yt)&&(s(O(v=nt["$[]"]("depth").$to_i(),0))?(s(O(I=u(lt.include_stack.$size(),v),U=lt.maxdepth["$[]"]("abs")))&&(I=v=U),lt.maxdepth=t(["abs","curr","rel"],{abs:U,curr:I,rel:v})):lt.maxdepth=t(["abs","curr","rel"],{abs:lt.maxdepth["$[]"]("abs"),curr:lt.include_stack.$size(),rel:0})),s((lt.lines=lt.$prepare_lines(Se,t(["normalize","condense","indent"],{normalize:s(yt=lt.process_lines)?yt:"chomp",condense:!1,indent:nt["$[]"]("indent")})))["$empty?"]())?lt.$pop_include():(s(nt["$key?"]("leveloffset"))?(lt.lines=u(u([function(){return s(P=lt.document.$attr("leveloffset"))?":leveloffset: "+P:":leveloffset!:"}(),""],lt.lines.$reverse()),["",":leveloffset: "+nt["$[]"]("leveloffset")]),lt.lineno=xe(lt.lineno,2)):lt.lines["$reverse!"](),lt.look_ahead=0),lt},d.$$arity=-2),e.def(L,"$include_depth",m=function(){var Se=this;return Se.include_stack.$size()},m.$$arity=0),e.def(L,"$exceeds_max_depth?",p=function(){var Ne,Se,We=this;return s(Ne=s(Se=We.maxdepth)?ie(We.include_stack.$size(),We.maxdepth["$[]"]("curr")):Se)?We.maxdepth["$[]"]("rel"):Ne},p.$$arity=0),e.alias(L,"exceeded_max_depth?","exceeds_max_depth?"),e.def(L,"$shift",z=function(){var Se=z.$$p,We=Se||n,tt=this,Qe=n,nt=n,yt=n,lt=n;for(Se&&(z.$$p=null),yt=0,lt=arguments.length,nt=new Array(lt);yt<lt;yt++)nt[yt]=arguments[yt];return s(tt.unescape_next_line)?(tt.unescape_next_line=!1,(Qe=i(tt,e.find_super_dispatcher(tt,"shift",z,!1),nt,Se)).$slice(1,Qe.$length())):i(tt,e.find_super_dispatcher(tt,"shift",z,!1),nt,Se)},z.$$arity=0),e.def(L,"$include_processors?",Z=function(){var Ne,Se=this;return s(Se.include_processor_extensions["$nil?"]())?s(s(Ne=Se.document["$extensions?"]())?Se.document.$extensions()["$include_processors?"]():Ne)?(Se.include_processor_extensions=Se.document.$extensions().$include_processors())["$!"]()["$!"]():Se.include_processor_extensions=!1:Se.include_processor_extensions["$!="](!1)},Z.$$arity=0),e.def(L,"$create_include_cursor",re=function(Se,We,tt){var Qe=this,nt=n;return s(y("::","String")["$==="](Se))?nt=y("::","File").$dirname(Se):s(W(ae,"RUBY_ENGINE_OPAL"))?nt=y("::","File").$dirname(Se=Se.$to_s()):(nt=function(){return(nt=y("::","File").$dirname(Se.$path()))["$=="]("")?"/":nt}(),Se=Se.$to_s()),W(ae,"Cursor").$new(Se,nt,We,tt)},re.$$arity=3),e.def(L,"$to_s",ye=function(){var Se,We=this;return"#<"+We.$class()+"@"+We.$object_id()+" {path: "+We.path.$inspect()+", line: "+We.lineno+", include depth: "+We.include_stack.$size()+", include stack: ["+i(We.include_stack,"map",[],(Se=function(tt){var Qe=Se.$$s||this;return tt==null&&(tt=n),tt.$to_s()},Se.$$s=We,Se.$$arity=1,Se)).$join(", ")+"]}>"},ye.$$arity=0),L.$private(),e.def(L,"$prepare_lines",q=function(Se,We){var tt,Qe,nt=q.$$p,yt=nt||n,lt=this,K=n,l=n,v=n,I=n,U=n,P=n,de=n;for(nt&&(q.$$p=null),P=0,de=arguments.length,U=new Array(de);P<de;P++)U[P]=arguments[P];if(We==null&&(We=t([],{})),K=i(lt,e.find_super_dispatcher(lt,"prepare_lines",q,!1),U,nt),s(s(tt=s(Qe=lt.document)?lt.document.$attributes()["$[]"]("skip-front-matter"):Qe)?l=lt["$skip_front_matter!"](K):tt)&&(v=["front-matter",l.$join(W(ae,"LF"))],i(lt.document.$attributes(),"[]=",e.to_a(v)),v[xe(v.length,1)]),s(We.$fetch("condense",!0)))for(;s(s(Qe=I=K["$[]"](-1))?I["$empty?"]():Qe);)K.$pop();return s(We["$[]"]("indent"))&&W(ae,"Parser")["$adjust_indentation!"](K,We["$[]"]("indent").$to_i(),lt.document.$attr("tabsize").$to_i()),K},q.$$arity=-2),e.def(L,"$process_line",ee=function(Se){var We,tt,Qe=this;return s(Qe.process_lines)?s(Se["$empty?"]())?(Qe.look_ahead=u(Qe.look_ahead,1),Se):s(s(We=s(tt=Se["$end_with?"]("]"))?Se["$start_with?"]("[")["$!"]():tt)?Se["$include?"]("::"):We)?s(s(We=Se["$include?"]("if"))?W(ae,"ConditionalDirectiveRx")["$=~"](Se):We)?((We=j["~"])===n?n:We["$[]"](1))["$=="]("\\")?(Qe.unescape_next_line=!0,Qe.look_ahead=u(Qe.look_ahead,1),Se.$slice(1,Se.$length())):s(Qe.$preprocess_conditional_directive((We=j["~"])===n?n:We["$[]"](2),(We=j["~"])===n?n:We["$[]"](3),(We=j["~"])===n?n:We["$[]"](4),(We=j["~"])===n?n:We["$[]"](5)))?(Qe.$shift(),n):(Qe.look_ahead=u(Qe.look_ahead,1),Se):s(Qe.skipping)?(Qe.$shift(),n):s(s(We=Se["$start_with?"]("inc","\\inc"))?W(ae,"IncludeDirectiveRx")["$=~"](Se):We)?((We=j["~"])===n?n:We["$[]"](1))["$=="]("\\")?(Qe.unescape_next_line=!0,Qe.look_ahead=u(Qe.look_ahead,1),Se.$slice(1,Se.$length())):s(Qe.$preprocess_include_directive((We=j["~"])===n?n:We["$[]"](2),(We=j["~"])===n?n:We["$[]"](3)))?n:(Qe.look_ahead=u(Qe.look_ahead,1),Se):(Qe.look_ahead=u(Qe.look_ahead,1),Se):s(Qe.skipping)?(Qe.$shift(),n):(Qe.look_ahead=u(Qe.look_ahead,1),Se):Se},ee.$$arity=1),e.def(L,"$preprocess_conditional_directive",V=function(Se,We,tt,Qe){var nt,yt,lt,K,l,v=this,I=n,U=n,P=n,de=n,be=n,je=n,Be=n;if(s(I=We["$empty?"]())||(We=We.$downcase()),Se["$=="]("endif"))return s(Qe)?v.$logger().$error(v.$message_with_context("malformed preprocessor directive - text not permitted: endif::"+We+"["+Qe+"]",t(["source_location"],{source_location:v.$cursor()}))):s(v.conditional_stack["$empty?"]())?v.$logger().$error(v.$message_with_context("unmatched preprocessor directive: endif::"+We+"[]",t(["source_location"],{source_location:v.$cursor()}))):s(s(nt=I)?nt:We["$=="]((U=v.conditional_stack["$[]"](-1))["$[]"]("target")))?(v.conditional_stack.$pop(),v.skipping=function(){return s(v.conditional_stack["$empty?"]())?!1:v.conditional_stack["$[]"](-1)["$[]"]("skipping")}()):v.$logger().$error(v.$message_with_context("mismatched preprocessor directive: endif::"+We+"[], expected endif::"+U["$[]"]("target")+"[]",t(["source_location"],{source_location:v.$cursor()}))),!0;if(s(v.skipping))P=!1;else if(de=Se,"ifdef"["$==="](de)){if(s(I))return v.$logger().$error(v.$message_with_context("malformed preprocessor directive - missing target: ifdef::["+Qe+"]",t(["source_location"],{source_location:v.$cursor()}))),!0;de=tt,","["$==="](de)?P=i(We.$split(",",-1),"none?",[],(yt=function(Ke){var we=yt.$$s||this;return we.document==null&&(we.document=n),Ke==null&&(Ke=n),we.document.$attributes()["$key?"](Ke)},yt.$$s=v,yt.$$arity=1,yt)):"+"["$==="](de)?P=i(We.$split("+",-1),"any?",[],(lt=function(Ke){var we=lt.$$s||this;return we.document==null&&(we.document=n),Ke==null&&(Ke=n),we.document.$attributes()["$key?"](Ke)["$!"]()},lt.$$s=v,lt.$$arity=1,lt)):P=v.document.$attributes()["$key?"](We)["$!"]()}else if("ifndef"["$==="](de)){if(s(I))return v.$logger().$error(v.$message_with_context("malformed preprocessor directive - missing target: ifndef::["+Qe+"]",t(["source_location"],{source_location:v.$cursor()}))),!0;de=tt,","["$==="](de)?P=i(We.$split(",",-1),"any?",[],(K=function(Ke){var we=K.$$s||this;return we.document==null&&(we.document=n),Ke==null&&(Ke=n),we.document.$attributes()["$key?"](Ke)},K.$$s=v,K.$$arity=1,K)):"+"["$==="](de)?P=i(We.$split("+",-1),"all?",[],(l=function(Ke){var we=l.$$s||this;return we.document==null&&(we.document=n),Ke==null&&(Ke=n),we.document.$attributes()["$key?"](Ke)},l.$$s=v,l.$$arity=1,l)):P=v.document.$attributes()["$key?"](We)}else if("ifeval"["$==="](de))if(s(I))if(s(s(nt=Qe)?W(ae,"EvalExpressionRx")["$=~"](Qe.$strip()):nt))be=(nt=j["~"])===n?n:nt["$[]"](1),je=(nt=j["~"])===n?n:nt["$[]"](2),Be=(nt=j["~"])===n?n:nt["$[]"](3),P=function(){try{return!s(v.$resolve_expr_val(be).$send(je,v.$resolve_expr_val(Be)))}catch(Ke){if(e.rescue(Ke,[W(ae,"StandardError")]))try{return!0}finally{e.pop_exception()}else throw Ke}}();else return v.$logger().$error(v.$message_with_context("malformed preprocessor directive - "+function(){return s(Qe)?"invalid expression":"missing expression"}()+": ifeval::["+Qe+"]",t(["source_location"],{source_location:v.$cursor()}))),!0;else return v.$logger().$error(v.$message_with_context("malformed preprocessor directive - target not permitted: ifeval::"+We+"["+Qe+"]",t(["source_location"],{source_location:v.$cursor()}))),!0;return s(s(nt=Se["$=="]("ifeval"))?nt:Qe["$!"]())?(s(P)&&(v.skipping=!0),v.conditional_stack["$<<"](t(["target","skip","skipping"],{target:We,skip:P,skipping:v.skipping}))):s(s(nt=v.skipping)?nt:P)||(v.$replace_next_line(Qe.$rstrip()),v.$unshift(""),s(Qe["$start_with?"]("include::"))&&(v.look_ahead=xe(v.look_ahead,1))),!0},V.$$arity=4),e.def(L,"$preprocess_include_directive",_e=function(Se,We){var tt,Qe,nt,yt,lt,K,l,v,I,U,P,de,be=this,je=n,Be=n,Ke=n,we=n,ot=n,at=n,vt=n,Dt=n,bt=n,ce=n,Ee=n,fe=n,o=n,H=n,Y=n,Q=n,ne=n,k=n,a=n,E=n,T=n,M=n,te=n,X=n,Ae=n,me=n,mt=n,dt=n;if(je=be.document,s(s(tt=(Be=Se)["$include?"](W(ae,"ATTR_REF_HEAD")))?(Be=je.$sub_attributes(Se,t(["attribute_missing"],{attribute_missing:function(){return(Ke=s(Qe=je.$attributes()["$[]"]("attribute-missing"))?Qe:W(ae,"Compliance").$attribute_missing())["$=="]("warn")?"drop-line":Ke}()})))["$empty?"]():tt))return s((tt=Ke["$=="]("drop-line"))?je.$sub_attributes(u(Se," "),t(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]():Ke["$=="]("drop-line"))?(i(be.$logger(),"info",[],(nt=function(){var He=nt.$$s||this;return He.$message_with_context("include dropped due to missing attribute: include::"+Se+"["+We+"]",t(["source_location"],{source_location:He.$cursor()}))},nt.$$s=be,nt.$$arity=0,nt)),be.$shift(),!0):s(je.$parse_attributes(We,[],t(["sub_input"],{sub_input:!0}))["$[]"]("optional-option"))?(i(be.$logger(),"info",[],(yt=function(){var He=yt.$$s||this,kt;return He.$message_with_context("optional include dropped "+function(){return s((kt=Ke["$=="]("warn"))?je.$sub_attributes(u(Se," "),t(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]():Ke["$=="]("warn"))?"due to missing attribute":"because resolved target is blank"}()+": include::"+Se+"["+We+"]",t(["source_location"],{source_location:He.$cursor()}))},yt.$$s=be,yt.$$arity=0,yt)),be.$shift(),!0):(be.$logger().$warn(be.$message_with_context("include dropped "+function(){return s((tt=Ke["$=="]("warn"))?je.$sub_attributes(u(Se," "),t(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]():Ke["$=="]("warn"))?"due to missing attribute":"because resolved target is blank"}()+": include::"+Se+"["+We+"]",t(["source_location"],{source_location:be.$cursor()}))),be.$replace_next_line("Unresolved directive in "+be.path+" - include::"+Se+"["+We+"]"));if(s(s(tt=be["$include_processors?"]())?we=i(be.include_processor_extensions,"find",[],(lt=function(He){var kt=lt.$$s||this;return He==null&&(He=n),He.$instance()["$handles?"](Be)},lt.$$s=be,lt.$$arity=1,lt)):tt))return be.$shift(),we.$process_method()["$[]"](je,be,Be,je.$parse_attributes(We,[],t(["sub_input"],{sub_input:!0}))),!0;if(s(ie(je.$safe(),y(W(ae,"SafeMode"),"SECURE"))))return be.$replace_next_line("link:"+Be+"[]");if(s(be.maxdepth)){if(s(ie(be.include_stack.$size(),be.maxdepth["$[]"]("curr"))))return be.$logger().$error(be.$message_with_context("maximum include depth of "+be.maxdepth["$[]"]("rel")+" exceeded",t(["source_location"],{source_location:be.$cursor()}))),n;if(ot=je.$parse_attributes(We,[],t(["sub_input"],{sub_input:!0})),Qe=be.$resolve_include_path(Be,We,ot),tt=e.to_ary(Qe),at=tt[0]==null?n:tt[0],vt=tt[1]==null?n:tt[1],Dt=tt[2]==null?n:tt[2],bt=vt,"file"["$==="](bt))ce=y("::","File").$method("open"),Ee=W(ae,"FILE_READ_MODE");else if("uri"["$==="](bt))ce=y("::","OpenURI").$method("open_uri"),Ee=W(ae,"URI_READ_MODE");else return at;if(s(W(ae,"RUBY_ENGINE_OPAL"))||s(s(tt=fe=ot["$[]"]("encoding"))?function(){try{return y("::","Encoding").$find(fe)}catch(He){if(e.rescue(He,[W(ae,"StandardError")]))try{return n}finally{e.pop_exception()}else throw He}}():tt)&&(o=[1,fe],i(H=Ee.$split(":"),"[]=",e.to_a(o)),o[xe(o.length,1)],Ee=H.$join(":")),Y=Q=n,s(We)&&(s(ot["$key?"]("lines"))?(Y=[],i(be.$split_delimited_value(ot["$[]"]("lines")),"each",[],(K=function(He){var kt=K.$$s||this,$t,Tt,rt=n,Lt=n,Yt=n;return He==null&&(He=n),s(He["$include?"](".."))?(Tt=He.$partition(".."),$t=e.to_ary(Tt),rt=$t[0]==null?n:$t[0],Lt=$t[1]==null?n:$t[1],Yt=$t[2]==null?n:$t[2],Y=u(Y,function(){return s(s($t=Yt["$empty?"]())?$t:A(Yt=Yt.$to_i(),0))?[rt.$to_i(),y(y("::","Float"),"INFINITY")]:e.Range.$new(rt.$to_i(),Yt,!1).$to_a()}())):Y["$<<"](He.$to_i())},K.$$s=be,K.$$arity=1,K)),Y=function(){return s(Y["$empty?"]())?n:Y.$sort().$uniq()}()):s(ot["$key?"]("tag"))?s(s(tt=(ne=ot["$[]"]("tag"))["$empty?"]())?tt:ne["$=="]("!"))||(Q=function(){return s(ne["$start_with?"]("!"))?h(ne.$slice(1,ne.$length()),!1):h(ne,!0)}()):s(ot["$key?"]("tags"))&&(Q=t([],{}),i(be.$split_delimited_value(ot["$[]"]("tags")),"each",[],(l=function(He){var kt=l.$$s||this,$t;return He==null&&(He=n),s(s($t=He["$empty?"]())?$t:He["$=="]("!"))?n:s(He["$start_with?"]("!"))?(o=[He.$slice(1,He.$length()),!1],i(Q,"[]=",e.to_a(o)),o[xe(o.length,1)]):(o=[He,!0],i(Q,"[]=",e.to_a(o)),o[xe(o.length,1)])},l.$$s=be,l.$$arity=1,l)),s(Q["$empty?"]())&&(Q=n))),s(Y)){tt=[[],n,0],k=tt[0],a=tt[1],E=tt[2];try{(function(){var He=e.new_brk();try{return i(ce,"call",[at,Ee],(v=function(kt){var $t=v.$$s||this,Tt,rt=n;return kt==null&&(kt=n),rt=n,function(){var Lt=e.new_brk();try{return i(kt,"each_line",[],(Tt=function(Yt){var _t=Tt.$$s||this,Zt,rr,nr=n;if(Yt==null&&(Yt=n),E=u(E,1),s(s(Zt=rt)?Zt:s(rr=y("::","Float")["$==="](nr=Y["$[]"](0)))?rt=nr["$infinite?"]():rr))return a=s(Zt=a)?Zt:E,k["$<<"](Yt);if(nr["$=="](E)&&(a=s(Zt=a)?Zt:E,k["$<<"](Yt),Y.$shift()),s(Y["$empty?"]()))e.brk(n,Lt);else return n},Tt.$$s=$t,Tt.$$brk=Lt,Tt.$$arity=1,Tt))}catch(Yt){if(Yt===Lt)return Yt.$v;throw Yt}}()},v.$$s=be,v.$$brk=He,v.$$arity=1,v))}catch(kt){if(kt===He)return kt.$v;throw kt}})()}catch(He){if(e.rescue(He,[W(ae,"StandardError")]))try{return be.$logger().$error(be.$message_with_context("include "+vt+" not readable: "+at,t(["source_location"],{source_location:be.$cursor()}))),be.$replace_next_line("Unresolved directive in "+be.path+" - include::"+Be+"["+We+"]")}finally{e.pop_exception()}else throw He}be.$shift(),s(a)&&(o=["partial-option",""],i(ot,"[]=",e.to_a(o)),o[xe(o.length,1)],be.$push_include(k,at,Dt,a,ot))}else if(s(Q)){tt=[[],n,0,[],y("::","Set").$new(),n],k=tt[0],a=tt[1],E=tt[2],T=tt[3],M=tt[4],te=tt[5],s(Q["$key?"]("**"))?(X=Ae=Q.$delete("**"),s(Q["$key?"]("*"))?me=Q.$delete("*"):s(s(tt=X["$!"]())?Q.$values().$first()["$=="](!1):tt)&&(me=!0)):s(Q["$key?"]("*"))?Q.$keys().$first()["$=="]("*")?X=Ae=(me=Q.$delete("*"))["$!"]():(X=Ae=!1,me=Q.$delete("*")):X=Ae=Q["$value?"](!0)["$!"]();try{i(ce,"call",[at,Ee],(I=function(He){var kt=I.$$s||this,$t,Tt,rt=n,Lt=n;return He==null&&(He=n),$t=["::","[]"],rt=$t[0],Lt=$t[1],i(He,"each_line",[],(Tt=function(Yt){var _t=Tt.$$s||this,Zt,rr,nr,sr=n,tr=n,hr=n;return Yt==null&&(Yt=n),E=u(E,1),s(s(Zt=s(rr=Yt["$include?"](rt))?Yt["$include?"](Lt):rr)?W(ae,"TagDirectiveRx")["$=~"](Yt):Zt)?(sr=(Zt=j["~"])===n?n:Zt["$[]"](2),s((Zt=j["~"])===n?n:Zt["$[]"](1))?sr["$=="](te)?(T.$pop(),rr=function(){return s(T["$empty?"]())?[n,Ae]:T["$[]"](-1)}(),Zt=e.to_ary(rr),te=Zt[0]==null?n:Zt[0],X=Zt[1]==null?n:Zt[1],rr):s(Q["$key?"](sr))?(tr=_t.$create_include_cursor(at,Be,E),s(hr=i(T,"rindex",[],(nr=function(fr){var mr=nr.$$s||this;return fr==null&&(fr=n),fr["$=="](sr)},nr.$$s=_t,nr.$$arity=1,nr.$$has_trailing_comma_in_args=!0,nr)))?(hr["$=="](0)?T.$shift():T.$delete_at(hr),_t.$logger().$warn(_t.$message_with_context("mismatched end tag (expected '"+te+"' but found '"+sr+"') at line "+E+" of include "+vt+": "+at,t(["source_location","include_location"],{source_location:_t.$cursor(),include_location:tr})))):_t.$logger().$warn(_t.$message_with_context("unexpected end tag '"+sr+"' at line "+E+" of include "+vt+": "+at,t(["source_location","include_location"],{source_location:_t.$cursor(),include_location:tr})))):n:s(Q["$key?"](sr))?(s(X=Q["$[]"](sr))&&M["$<<"](sr),T["$<<"]([te=sr,X,E])):s(me["$nil?"]()["$!"]())?(X=function(){return s(s(Zt=te)?X["$!"]():Zt)?!1:me}(),T["$<<"]([te=sr,X,E])):n):s(X)?(a=s(Zt=a)?Zt:E,k["$<<"](Yt)):n},Tt.$$s=kt,Tt.$$arity=1,Tt))},I.$$s=be,I.$$arity=1,I))}catch(He){if(e.rescue(He,[W(ae,"StandardError")]))try{return be.$logger().$error(be.$message_with_context("include "+vt+" not readable: "+at,t(["source_location"],{source_location:be.$cursor()}))),be.$replace_next_line("Unresolved directive in "+be.path+" - include::"+Be+"["+We+"]")}finally{e.pop_exception()}else throw He}s(T["$empty?"]())||i(T,"each",[],(U=function(He,kt,$t){var Tt=U.$$s||this;return He==null&&(He=n),kt==null&&(kt=n),$t==null&&($t=n),Tt.$logger().$warn(Tt.$message_with_context("detected unclosed tag '"+He+"' starting at line "+$t+" of include "+vt+": "+at,t(["source_location","include_location"],{source_location:Tt.$cursor(),include_location:Tt.$create_include_cursor(at,Be,$t)})))},U.$$s=be,U.$$arity=3,U)),s((mt=xe(i(Q,"keep_if",[],(P=function(He,kt){var $t=P.$$s||this;return He==null&&(He=n),kt==null&&(kt=n),kt},P.$$s=be,P.$$arity=2,P)).$keys(),M.$to_a()))["$empty?"]())||be.$logger().$warn(be.$message_with_context("tag"+function(){return s(O(mt.$size(),1))?"s":""}()+" '"+mt.$join(", ")+"' not found in include "+vt+": "+at,t(["source_location"],{source_location:be.$cursor()}))),be.$shift(),s(a)&&(s(s(tt=s(Qe=Ae)?me["$!="](!1):Qe)?Q["$empty?"]():tt)||(o=["partial-option",""],i(ot,"[]=",e.to_a(o)),o[xe(o.length,1)]),be.$push_include(k,at,Dt,a,ot))}else try{dt=i(ce,"call",[at,Ee],(de=function(He){var kt=de.$$s||this;return He==null&&(He=n),He.$read()},de.$$s=be,de.$$arity=1,de)),be.$shift(),be.$push_include(dt,at,Dt,1,ot)}catch(He){if(e.rescue(He,[W(ae,"StandardError")]))try{return be.$logger().$error(be.$message_with_context("include "+vt+" not readable: "+at,t(["source_location"],{source_location:be.$cursor()}))),be.$replace_next_line("Unresolved directive in "+be.path+" - include::"+Be+"["+We+"]")}finally{e.pop_exception()}else throw He}return!0}else return n},_e.$$arity=2),e.def(L,"$resolve_include_path",Me=function(Se,We,tt){var Qe,nt,yt,lt=this,K=n,l=n,v=n;return K=lt.document,s(s(Qe=W(ae,"Helpers")["$uriish?"](Se))?Qe:function(){return s(y("::","String")["$==="](lt.dir))?n:Se=""+lt.dir+"/"+Se}())?s(K["$attr?"]("allow-uri-read"))?(s(K["$attr?"]("cache-uri"))?s((nt=y("::","OpenURI","skip_raise"))&&(Qe=y(nt,"Cache","skip_raise"))?"constant":n)||W(ae,"Helpers").$require_library("open-uri/cached","open-uri-cached"):s(W(ae,"RUBY_ENGINE_OPAL")["$!"]())&&y("::","OpenURI"),[y("::","URI").$parse(Se),"uri",Se]):lt.$replace_next_line("link:"+Se+"["+We+"]"):(l=K.$normalize_system_path(Se,lt.dir,n,t(["target_name"],{target_name:"include file"})),s(y("::","File")["$file?"](l))?(v=K.$path_resolver().$relative_path(l,K.$base_dir()),[l,"file",v]):s(tt["$[]"]("optional-option"))?(i(lt.$logger(),"info",[],(yt=function(){var I=yt.$$s||this;return I.$message_with_context("optional include dropped because include file not found: "+l,t(["source_location"],{source_location:I.$cursor()}))},yt.$$s=lt,yt.$$arity=0,yt)),lt.$shift(),!0):(lt.$logger().$error(lt.$message_with_context("include file not found: "+l,t(["source_location"],{source_location:lt.$cursor()}))),lt.$replace_next_line("Unresolved directive in "+lt.path+" - include::"+Se+"["+We+"]")))},Me.$$arity=3),e.def(L,"$pop_include",Te=function(){var Se,We,tt=this;return s(tt.include_stack["$empty?"]())||(We=tt.include_stack.$pop(),Se=e.to_ary(We),tt.lines=Se[0]==null?n:Se[0],tt.file=Se[1]==null?n:Se[1],tt.dir=Se[2]==null?n:Se[2],tt.path=Se[3]==null?n:Se[3],tt.lineno=Se[4]==null?n:Se[4],tt.maxdepth=Se[5]==null?n:Se[5],tt.process_lines=Se[6]==null?n:Se[6],tt.look_ahead=0),n},Te.$$arity=0),e.def(L,"$split_delimited_value",et=function(Se){var We=this;return s(Se["$include?"](","))?Se.$split(","):Se.$split(";")},et.$$arity=1),e.def(L,"$skip_front_matter!",ct=function(Ne,Se){var We,tt,Qe=this,nt=n,yt=n;if(Se==null&&(Se=!0),nt=n,Ne["$[]"](0)["$=="]("---")){for(yt=Ne.$drop(0),Ne.$shift(),nt=[],s(Se)&&(Qe.lineno=u(Qe.lineno,1));s(s(tt=Ne["$empty?"]()["$!"]())?Ne["$[]"](0)["$!="]("---"):tt);)nt["$<<"](Ne.$shift()),s(Se)&&(Qe.lineno=u(Qe.lineno,1));s(Ne["$empty?"]())?(i(Ne,"unshift",e.to_a(yt)),s(Se)&&(Qe.lineno=0),nt=n):(Ne.$shift(),s(Se)&&(Qe.lineno=u(Qe.lineno,1)))}return nt},ct.$$arity=-2),e.def(L,"$resolve_expr_val",it=function(Se){var We,tt,Qe=this,nt=n;return s(s(We=s(tt=Se["$start_with?"]('"'))?Se["$end_with?"]('"'):tt)?We:s(tt=Se["$start_with?"]("'"))?Se["$end_with?"]("'"):tt)?(nt=!0,Se=Se.$slice(1,xe(Se.$length(),1))):nt=!1,s(Se["$include?"](W(ae,"ATTR_REF_HEAD")))&&(Se=Qe.document.$sub_attributes(Se,t(["attribute_missing"],{attribute_missing:"drop"}))),s(nt)?Se:s(Se["$empty?"]())?n:Se["$=="]("true")?!0:Se["$=="]("false")?!1:s(Se.$rstrip()["$empty?"]())?" ":s(Se["$include?"]("."))?Se.$to_f():Se.$to_i()},it.$$arity=1),n&&"resolve_expr_val"}(F[0],W(F,"Reader"),F)}($[0],$)},Opal.modules["asciidoctor/section"]=function(e){function u(t,s){return typeof t=="number"&&typeof s=="number"?t+s:t["$+"](s)}function O(t,s){return typeof t=="number"&&typeof s=="number"?t>s:t["$>"](s)}function xe(t,s){return typeof t=="number"&&typeof s=="number"?t-s:t["$-"](s)}var Xe=e.top,ie=[],A=e.nil,$e=e.const_get_qualified,$=e.const_get_relative,n=e.breaker,y=e.slice,W=e.module,oe=e.klass,b=e.hash2,_=e.send,c=e.truthy;return e.add_stubs(["$attr_accessor","$attr_reader","$===","$+","$level","$special","$generate_id","$title","$>","$==","$sectnum","$reftext","$!","$empty?","$sub_placeholder","$sub_quotes","$compat_mode","$[]","$attributes","$context","$assign_numeral","$class","$object_id","$inspect","$size","$length","$chr","$[]=","$-","$gsub","$downcase","$delete","$tr_s","$end_with?","$chop","$start_with?","$slice","$key?","$catalog","$unique_id_start_index"]),function(t,s){var i=W(t,"Asciidoctor"),j=[i].concat(s);(function(h,g,w){var C=oe(h,g,"Section"),F=[C].concat(w),N,x,f,L,ae,Pe,Ie,ue;return C.$$prototype.document=C.$$prototype.next_section_index=C.$$prototype.level=C.$$prototype.parent=C.$$prototype.numeral=C.$$prototype.numbered=C.$$prototype.sectname=C.$$prototype.title=C.$$prototype.blocks=A,C.$attr_accessor("index"),C.$attr_accessor("sectname"),C.$attr_accessor("special"),C.$attr_accessor("numbered"),C.$attr_reader("caption"),e.def(C,"$initialize",N=function(d,m,p,z){var Z,re,ye=N.$$p,q=ye||A,ee=this;return ye&&(N.$$p=null),d==null&&(d=A),m==null&&(m=A),p==null&&(p=!1),z==null&&(z=b([],{})),_(ee,e.find_super_dispatcher(ee,"initialize",N,!1),[d,"section",z],null),c($(F,"Section")["$==="](d))?(Z=[c(re=m)?re:u(d.$level(),1),d.$special()],ee.level=Z[0],ee.special=Z[1]):(Z=[c(re=m)?re:1,!1],ee.level=Z[0],ee.special=Z[1]),ee.numbered=p,ee.index=0},N.$$arity=-1),e.alias(C,"name","title"),e.def(C,"$generate_id",x=function(){var d=this;return $(F,"Section").$generate_id(d.$title(),d.document)},x.$$arity=0),e.def(C,"$sections?",f=function(){var S=this;return O(S.next_section_index,0)},f.$$arity=0),e.def(C,"$sectnum",L=function(d,m){var p,z=this;return d==null&&(d="."),m==null&&(m=A),m=c(p=m)?p:function(){return m["$=="](!1)?"":d}(),c(c(p=O(z.level,1))?$(F,"Section")["$==="](z.parent):p)?""+z.parent.$sectnum(d,d)+z.numeral+m:""+z.numeral+m},L.$$arity=-1),e.def(C,"$xreftext",ae=function(d){var m,p=this,z=A,Z=A,re=A,ye=A,q=A;return d==null&&(d=A),c(c(m=z=p.$reftext())?z["$empty?"]()["$!"]():m)?z:c(d)?c(p.numbered)?function(){return Z=d,"full"["$==="](Z)?(c(c(m=(re=p.sectname)["$=="]("chapter"))?m:re["$=="]("appendix"))?ye=p.$sub_placeholder(p.$sub_quotes("_%s_"),p.$title()):ye=p.$sub_placeholder(p.$sub_quotes(function(){return c(p.document.$compat_mode())?"``%s''":'"`%s`"'}()),p.$title()),c(q=p.document.$attributes()["$[]"](""+re+"-refsig"))?""+q+" "+p.$sectnum(".",",")+" "+ye:""+p.$sectnum(".",",")+" "+ye):"short"["$==="](Z)?c(q=p.document.$attributes()["$[]"](""+p.sectname+"-refsig"))?""+q+" "+p.$sectnum(".",""):p.$sectnum(".",""):c(c(m=(re=p.sectname)["$=="]("chapter"))?m:re["$=="]("appendix"))?p.$sub_placeholder(p.$sub_quotes("_%s_"),p.$title()):p.$title()}():c(c(m=(re=p.sectname)["$=="]("chapter"))?m:re["$=="]("appendix"))?p.$sub_placeholder(p.$sub_quotes("_%s_"),p.$title()):p.$title():p.$title()},ae.$$arity=-1),e.def(C,"$<<",Pe=function(S){var d=Pe.$$p,m=d||A,p=this,z=A,Z=A,re=A;for(d&&(Pe.$$p=null),Z=0,re=arguments.length,z=new Array(re);Z<re;Z++)z[Z]=arguments[Z];return S.$context()["$=="]("section")&&p.$assign_numeral(S),_(p,e.find_super_dispatcher(p,"<<",Pe,!1),z,d)},Pe.$$arity=1),e.def(C,"$to_s",Ie=function(){var d=Ie.$$p,m=d||A,p=this,z=A,Z=A,re=A,ye=A;for(d&&(Ie.$$p=null),re=0,ye=arguments.length,Z=new Array(ye);re<ye;re++)Z[re]=arguments[re];return c(p.title)?(z=function(){return c(p.numbered)?""+p.$sectnum()+" "+p.title:p.title}(),"#<"+p.$class()+"@"+p.$object_id()+" {level: "+p.level+", title: "+z.$inspect()+", blocks: "+p.blocks.$size()+"}>"):_(p,e.find_super_dispatcher(p,"to_s",Ie,!1),Z,d)},Ie.$$arity=0),e.defs(C,"$generate_id",ue=function(d,m){var p,z,Z=this,re=A,ye=A,q=A,ee=A,V=A,_e=A,Me=A,Te=A,et=A,ct=A;if(re=m.$attributes(),ye=c(p=re["$[]"]("idprefix"))?p:"_",c(q=re["$[]"]("idseparator"))?c(c(p=q.$length()["$=="](1))?p:c(z=(ee=q["$empty?"]())["$!"]())?q=(V=["idseparator",q.$chr()],_(re,"[]=",e.to_a(V)),V[xe(V.length,1)]):z)&&(_e=function(){return c(c(p=q["$=="]("-"))?p:q["$=="]("."))?" .-":" "+q+".-"}()):(p=["_"," _.-"],q=p[0],_e=p[1]),Me=""+ye+d.$downcase().$gsub($(F,"InvalidSectionIdCharsRx"),""),c(ee)?Me=Me.$delete(" "):(Me=Me.$tr_s(_e,q),c(Me["$end_with?"](q))&&(Me=Me.$chop()),c(c(p=ye["$empty?"]())?Me["$start_with?"](q):p)&&(Me=Me.$slice(1,Me.$length()))),c(m.$catalog()["$[]"]("refs")["$key?"](Me))){for(Te=m.$catalog()["$[]"]("refs"),et=$(F,"Compliance").$unique_id_start_index();c(Te["$[]"](ct=""+Me+q+et));)et=u(et,1);return ct}else return Me},ue.$$arity=2),A&&"generate_id"})(j[0],$(j,"AbstractBlock"),j)}(ie[0],ie)},Opal.modules["asciidoctor/stylesheets"]=function(e){var u=e.top,O=[],xe=e.nil,Xe=e.const_get_qualified,ie=e.const_get_relative,A=e.breaker,$e=e.slice,$=e.module,n=e.klass,y=e.truthy,W=e.hash2;return e.add_stubs(["$join","$new","$rstrip","$read","$primary_stylesheet_data","$write","$primary_stylesheet_name","$stylesheet_basename","$for","$read_stylesheet","$coderay_stylesheet_data","$coderay_stylesheet_name","$pygments_stylesheet_data","$pygments_stylesheet_name"]),function(oe,b){var _=$(oe,"Asciidoctor"),c=[_].concat(b);(function(t,s,i){var j=n(t,s,"Stylesheets"),h=[j].concat(i),g,w,C,F,N,x,f,L,ae,Pe,Ie,ue,S;return j.$$prototype.primary_stylesheet_data=xe,e.const_set(h[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css"),e.const_set(h[0],"STYLESHEETS_DIR",Xe("::","File").$join(ie(h,"DATA_DIR"),"stylesheets")),j.__instance__=j.$new(),e.defs(j,"$instance",g=function(){var m=this;return m.__instance__==null&&(m.__instance__=xe),m.__instance__},g.$$arity=0),e.def(j,"$primary_stylesheet_name",w=function(){var m=this;return ie(h,"DEFAULT_STYLESHEET_NAME")},w.$$arity=0),e.def(j,"$primary_stylesheet_data",C=function(){var m,p=this;return p.primary_stylesheet_data=y(m=p.primary_stylesheet_data)?m:Xe("::","File").$read(Xe("::","File").$join(ie(h,"STYLESHEETS_DIR"),"asciidoctor-default.css"),W(["mode"],{mode:ie(h,"FILE_READ_MODE")})).$rstrip()},C.$$arity=0),e.def(j,"$embed_primary_stylesheet",F=function(){var m=this;return`<style>
`+m.$primary_stylesheet_data()+`
</style>`},F.$$arity=0),e.def(j,"$write_primary_stylesheet",N=function(m){var p=this;return m==null&&(m="."),Xe("::","File").$write(Xe("::","File").$join(m,p.$primary_stylesheet_name()),p.$primary_stylesheet_data(),W(["mode"],{mode:ie(h,"FILE_WRITE_MODE")}))},N.$$arity=-1),e.def(j,"$coderay_stylesheet_name",x=function(){var m=this;return ie(h,"SyntaxHighlighter").$for("coderay").$stylesheet_basename()},x.$$arity=0),e.def(j,"$coderay_stylesheet_data",f=function(){var m=this;return ie(h,"SyntaxHighlighter").$for("coderay").$read_stylesheet()},f.$$arity=0),e.def(j,"$embed_coderay_stylesheet",L=function(){var m=this;return`<style>
`+m.$coderay_stylesheet_data()+`
</style>`},L.$$arity=0),e.def(j,"$write_coderay_stylesheet",ae=function(m){var p=this;return m==null&&(m="."),Xe("::","File").$write(Xe("::","File").$join(m,p.$coderay_stylesheet_name()),p.$coderay_stylesheet_data(),W(["mode"],{mode:ie(h,"FILE_WRITE_MODE")}))},ae.$$arity=-1),e.def(j,"$pygments_stylesheet_name",Pe=function(m){var p=this;return m==null&&(m=xe),ie(h,"SyntaxHighlighter").$for("pygments").$stylesheet_basename(m)},Pe.$$arity=-1),e.def(j,"$pygments_stylesheet_data",Ie=function(m){var p=this;return m==null&&(m=xe),ie(h,"SyntaxHighlighter").$for("pygments").$read_stylesheet(m)},Ie.$$arity=-1),e.def(j,"$embed_pygments_stylesheet",ue=function(m){var p=this;return m==null&&(m=xe),`<style>
`+p.$pygments_stylesheet_data(m)+`
</style>`},ue.$$arity=-1),e.def(j,"$write_pygments_stylesheet",S=function(m,p){var z=this;return m==null&&(m="."),p==null&&(p=xe),Xe("::","File").$write(Xe("::","File").$join(m,z.$pygments_stylesheet_name(p)),z.$pygments_stylesheet_data(p),W(["mode"],{mode:ie(h,"FILE_WRITE_MODE")}))},S.$$arity=-1),xe&&"write_pygments_stylesheet"})(c[0],null,c)}(O[0],O)},Opal.modules["asciidoctor/table"]=function(e){function u(h,g){return typeof h=="number"&&typeof g=="number"?h>g:h["$>"](g)}function O(h,g){return typeof h=="number"&&typeof g=="number"?h<g:h["$<"](g)}function xe(h,g){return typeof h=="number"&&typeof g=="number"?h-g:h["$-"](g)}function Xe(h,g){return typeof h=="number"&&typeof g=="number"?h*g:h["$*"](g)}function ie(h,g){return typeof h=="number"&&typeof g=="number"?h/g:h["$/"](g)}function A(h,g){return typeof h=="number"&&typeof g=="number"?h+g:h["$+"](g)}var $e=e.top,$=[],n=e.nil,y=e.const_get_qualified,W=e.const_get_relative,oe=e.breaker,b=e.slice,_=e.module,c=e.klass,t=e.hash2,s=e.send,i=e.truthy,j=e.gvars;return e.add_stubs(["$attr_accessor","$attr_reader","$new","$[]","$>","$to_i","$<","$==","$[]=","$-","$attributes","$truncate","$*","$/","$to_f","$empty?","$body","$each","$<<","$size","$+","$assign_column_widths","$warn","$logger","$update_attributes","$assign_width","$round","$map","$shift","$reinitialize","$head=","$nil?","$unshift","$pop","$foot=","$parent","$sourcemap","$dup","$header_row?","$table","$style","$merge","$delete","$===","$start_with?","$rstrip","$slice","$length","$advance","$lstrip","$strip","$split","$include?","$readlines","$catalog_inline_anchor","$=~","$apply_subs","$attr_writer","$convert","$text","$!=","$file","$lineno","$include","$to_set","$mark","$key?","$nested?","$document","$error","$message_with_context","$cursor_at_prev_line","$nil_or_empty?","$escape","$columns","$match","$chop","$end_with?","$gsub","$!","$push_cellspec","$cell_open?","$close_cell","$take_cellspec","$squeeze","$upto","$times","$cursor_before_mark","$rowspan","$activate_rowspan","$colspan","$end_of_row?","$close_row","$private","$rows","$effective_column_visits"]),function(h,g){var w=_(h,"Asciidoctor"),C=[w].concat(g);(function(F,N,x){var f=c(F,N,"Table"),L=[f].concat(x),ae,Pe,Ie,ue,S;return f.$$prototype.attributes=f.$$prototype.document=f.$$prototype.has_header_option=f.$$prototype.rows=f.$$prototype.columns=n,e.const_set(L[0],"DEFAULT_PRECISION",4),function(d,m,p){var z=c(d,m,"Rows"),Z=[z].concat(p),re,ye,q;return z.$$prototype.head=z.$$prototype.body=z.$$prototype.foot=n,z.$attr_accessor("head","foot","body"),e.def(z,"$initialize",re=function(V,_e,Me){var Te=this;return V==null&&(V=[]),_e==null&&(_e=[]),Me==null&&(Me=[]),Te.head=V,Te.foot=_e,Te.body=Me},re.$$arity=-1),e.alias(z,"[]","send"),e.def(z,"$by_section",ye=function(){var V=this;return[["head",V.head],["body",V.body],["foot",V.foot]]},ye.$$arity=0),e.def(z,"$to_h",q=function(){var V=this;return t(["head","body","foot"],{head:V.head,body:V.body,foot:V.foot})},q.$$arity=0),n&&"to_h"}(L[0],null,L),f.$attr_accessor("columns"),f.$attr_accessor("rows"),f.$attr_accessor("has_header_option"),f.$attr_reader("caption"),e.def(f,"$initialize",ae=function(m,p){var z,Z,re=ae.$$p,ye=re||n,q=this,ee=n,V=n,_e=n,Me=n;return re&&(ae.$$p=null),s(q,e.find_super_dispatcher(q,"initialize",ae,!1),[m,"table"],null),q.rows=W(L,"Rows").$new(),q.columns=[],q.has_header_option=!1,i(ee=p["$[]"]("width"))?i(i(z=u(V=ee.$to_i(),100))?z:O(V,1))&&(i((z=V["$=="](0))?i(Z=ee["$=="]("0"))?Z:ee["$=="]("0%"):V["$=="](0))||(V=100)):V=100,_e=["tablepcwidth",V],s(q.attributes,"[]=",e.to_a(_e)),_e[xe(_e.length,1)],i(q.document.$attributes()["$[]"]("pagewidth"))&&(_e=["tableabswidth",function(){return(Me=Xe(ie(V,100),q.document.$attributes()["$[]"]("pagewidth").$to_f()).$truncate(W(L,"DEFAULT_PRECISION")))["$=="](Me.$to_i())?Me.$to_i():Me}()],s(q.attributes,"[]=",e.to_a(_e)),_e[xe(_e.length,1)]),i(p["$[]"]("rotate-option"))?(_e=["orientation","landscape"],s(q.attributes,"[]=",e.to_a(_e)),_e[xe(_e.length,1)]):n},ae.$$arity=2),e.def(f,"$header_row?",Pe=function(){var d,m=this,p=n;return i(i(d=p=m.has_header_option)?m.rows.$body()["$empty?"]():d)?p:n},Pe.$$arity=0),e.def(f,"$create_columns",Ie=function(m){var p,z,Z=this,re=n,ye=n,q=n,ee=n,V=n;return re=[],ye=n,q=0,s(m,"each",[],(p=function(_e){var Me=p.$$s||this,Te,et=n;return _e==null&&(_e=n),et=_e["$[]"]("width"),re["$<<"](W(L,"Column").$new(Me,re.$size(),_e)),i(O(et,0))?(ye=i(Te=ye)?Te:[])["$<<"](re["$[]"](-1)):q=A(q,et)},p.$$s=Z,p.$$arity=1,p)),i(u(ee=(Z.columns=re).$size(),0))&&(V=["colcount",ee],s(Z.attributes,"[]=",e.to_a(V)),V[xe(V.length,1)],i(i(z=u(q,0))?z:ye)||(q=n),Z.$assign_column_widths(q,ye)),n},Ie.$$arity=1),e.def(f,"$assign_column_widths",ue=function(m,p){var z,Z,re,ye=this,q=n,ee=n,V=n,_e=n,Me=n;return m==null&&(m=n),p==null&&(p=n),q=W(L,"DEFAULT_PRECISION"),ee=V=0,i(m)?(i(p)&&(i(u(m,100))?(_e=0,ye.$logger().$warn("total column width must not exceed 100% when using autowidth columns; got "+m+"%")):(_e=ie(xe(100,m),p.$size()).$truncate(q),_e.$to_i()["$=="](_e)&&(_e=_e.$to_i()),m=100),Me=t(["width","autowidth-option"],{width:_e,"autowidth-option":""}),s(p,"each",[],(z=function(Te){var et=z.$$s||this;return Te==null&&(Te=n),Te.$update_attributes(Me)},z.$$s=ye,z.$$arity=1,z))),s(ye.columns,"each",[],(Z=function(Te){var et=Z.$$s||this;return Te==null&&(Te=n),ee=A(ee,V=Te.$assign_width(n,m,q))},Z.$$s=ye,Z.$$arity=1,Z))):(V=ie(100,ye.columns.$size()).$truncate(q),V.$to_i()["$=="](V)&&(V=V.$to_i()),s(ye.columns,"each",[],(re=function(Te){var et=re.$$s||this;return Te==null&&(Te=n),ee=A(ee,Te.$assign_width(V,n,q))},re.$$s=ye,re.$$arity=1,re))),ee["$=="](100)||ye.columns["$[]"](-1).$assign_width(A(xe(100,ee),V).$round(q),n,q),n},ue.$$arity=-1),e.def(f,"$partition_header_footer",S=function(m){var p,z,Z,re=this,ye=n,q=n,ee=n;return ye=(q=["rowcount",(ee=re.rows.$body()).$size()],s(re.attributes,"[]=",e.to_a(q)),q[xe(q.length,1)]),i(u(ye,0))&&(i(re.has_header_option)?(q=[[s(ee.$shift(),"map",[],(p=function(V){var _e=p.$$s||this;return V==null&&(V=n),V.$reinitialize(!0)},p.$$s=re,p.$$arity=1,p))]],s(re.rows,"head=",e.to_a(q)),q[xe(q.length,1)],ye=xe(ye,1)):i(re.has_header_option["$nil?"]())&&(re.has_header_option=!1,ee.$unshift(s(ee.$shift(),"map",[],(z=function(V){var _e=z.$$s||this;return V==null&&(V=n),V.$reinitialize(!1)},z.$$s=re,z.$$arity=1,z))))),i(i(Z=u(ye,0))?m["$[]"]("footer-option"):Z)&&(q=[[ee.$pop()]],s(re.rows,"foot=",e.to_a(q)),q[xe(q.length,1)]),n},S.$$arity=1),n&&"partition_header_footer"})(C[0],W(C,"AbstractBlock"),C),function(F,N,x){var f=c(F,N,"Column"),L=[f].concat(x),ae,Pe,Ie,ue;return f.$$prototype.attributes=n,f.$attr_accessor("style"),e.def(f,"$initialize",ae=function(d,m,p){var z,Z=ae.$$p,re=Z||n,ye=this,q=n;return Z&&(ae.$$p=null),p==null&&(p=t([],{})),s(ye,e.find_super_dispatcher(ye,"initialize",ae,!1),[d,"table_column"],null),ye.style=p["$[]"]("style"),q=["colnumber",A(m,1)],s(p,"[]=",e.to_a(q)),q[xe(q.length,1)],i(z=p["$[]"]("width"))||(q=["width",1],s(p,"[]=",e.to_a(q)),q[xe(q.length,1)]),i(z=p["$[]"]("halign"))||(q=["halign","left"],s(p,"[]=",e.to_a(q)),q[xe(q.length,1)]),i(z=p["$[]"]("valign"))||(q=["valign","top"],s(p,"[]=",e.to_a(q)),q[xe(q.length,1)]),ye.$update_attributes(p)},ae.$$arity=-3),e.alias(f,"table","parent"),e.def(f,"$assign_width",Pe=function(d,m,p){var z=this,Z=n,re=n;return i(m)&&(d=ie(Xe(z.attributes["$[]"]("width").$to_f(),100),m).$truncate(p),d.$to_i()["$=="](d)&&(d=d.$to_i())),i(z.$parent().$attributes()["$[]"]("tableabswidth"))&&(Z=["colabswidth",function(){return(re=Xe(ie(d,100),z.$parent().$attributes()["$[]"]("tableabswidth")).$truncate(p))["$=="](re.$to_i())?re.$to_i():re}()],s(z.attributes,"[]=",e.to_a(Z)),Z[xe(Z.length,1)]),Z=["colpcwidth",d],s(z.attributes,"[]=",e.to_a(Z)),Z[xe(Z.length,1)]},Pe.$$arity=3),e.def(f,"$block?",Ie=function(){var S=this;return!1},Ie.$$arity=0),e.def(f,"$inline?",ue=function(){var S=this;return!1},ue.$$arity=0),n&&"inline?"}(W(C,"Table"),W(C,"AbstractNode"),C),function(F,N,x){var f=c(F,N,"Cell"),L=[f].concat(x),ae,Pe,Ie,ue,S,d,m,p,z,Z;return f.$$prototype.document=f.$$prototype.reinitialize_args=f.$$prototype.attributes=f.$$prototype.cursor=f.$$prototype.text=f.$$prototype.subs=f.$$prototype.style=f.$$prototype.inner_document=f.$$prototype.source_location=f.$$prototype.colspan=f.$$prototype.rowspan=n,e.const_set(L[0],"DOUBLE_LF",Xe(W(L,"LF"),2)),f.$attr_accessor("colspan"),f.$attr_accessor("rowspan"),e.alias(f,"column","parent"),f.$attr_reader("inner_document"),e.def(f,"$initialize",ae=function(ye,q,ee,V){var _e,Me,Te,et=ae.$$p,ct=et||n,it=this,Ne=n,Se=n,We=n,tt=n,Qe=n,nt=n,yt=n,lt=n,K=n,l=n,v=n,I=n,U=n;if(et&&(ae.$$p=null),ee==null&&(ee=t([],{})),V==null&&(V=t([],{})),s(it,e.find_super_dispatcher(it,"initialize",ae,!1),[ye,"table_cell"],null),it.cursor=it.reinitialize_args=n,i(it.document.$sourcemap())&&(it.source_location=V["$[]"]("cursor").$dup()),i(ye)&&(i(Ne=ye.$table()["$header_row?"]())?i((_e=Ne["$=="]("implicit"))?Se=i(Me=ye.$style())?Me:i(Te=ee)?ee["$[]"]("style"):Te:Ne["$=="]("implicit"))&&(i(i(_e=Se["$=="]("asciidoc"))?_e:Se["$=="]("literal"))&&(it.reinitialize_args=[ye,q,i(_e=ee)?ee.$merge():_e,V]),Se=n):Se=ye.$style(),it.$update_attributes(ye.$attributes())),i(ee))if(i(ee["$empty?"]())?it.colspan=it.rowspan=n:(_e=[ee.$delete("colspan"),ee.$delete("rowspan")],it.colspan=_e[0],it.rowspan=_e[1],i(Ne)||(Se=i(_e=ee["$[]"]("style"))?_e:Se),it.$update_attributes(ee)),We=Se,"asciidoc"["$==="](We))if(tt=!0,Qe=V["$[]"]("cursor"),i((q=q.$rstrip())["$start_with?"](W(L,"LF")))){for(nt=1;i((q=q.$slice(1,q.$length()))["$start_with?"](W(L,"LF")));)nt=A(nt,1);Qe.$advance(nt)}else q=q.$lstrip();else if("literal"["$==="](We))for(yt=!0,q=q.$rstrip();i(q["$start_with?"](W(L,"LF")));)q=q.$slice(1,q.$length());else lt=!0,q=function(){return i(q)?q.$strip():""}();else it.colspan=it.rowspan=n,Se["$=="]("asciidoc")&&(tt=!0,Qe=V["$[]"]("cursor"));return i(tt)?(K=it.document.$attributes().$delete("doctitle"),l=q.$split(W(L,"LF"),-1),i(l["$empty?"]())||i((v=l["$[]"](0))["$include?"]("::"))&&(I=W(L,"PreprocessorReader").$new(it.document,[v]).$readlines(),i((_e=v["$=="](I["$[]"](0)))?O(I.$size(),2):v["$=="](I["$[]"](0)))||(l.$shift(),i(I["$empty?"]())||s(l,"unshift",e.to_a(I)))),it.inner_document=W(L,"Document").$new(l,t(["standalone","parent","cursor"],{standalone:!1,parent:it.document,cursor:Qe})),i(K["$nil?"]())||(U=["doctitle",K],s(it.document.$attributes(),"[]=",e.to_a(U)),U[xe(U.length,1)]),it.subs=n):i(yt)?(it.content_model="verbatim",it.subs=W(L,"BASIC_SUBS")):(i(lt)&&(i(Ne)?it.cursor=V["$[]"]("cursor"):it.$catalog_inline_anchor(q,V["$[]"]("cursor"))),it.content_model="simple",it.subs=W(L,"NORMAL_SUBS")),it.text=q,it.style=Se},ae.$$arity=-3),e.def(f,"$reinitialize",Pe=function(ye){var q=this;if(i(ye))q.reinitialize_args=n;else{if(i(q.reinitialize_args))return s(y(W(L,"Table"),"Cell"),"new",e.to_a(q.reinitialize_args));q.style=q.attributes["$[]"]("style")}return i(q.cursor)&&q.$catalog_inline_anchor(),q},Pe.$$arity=1),e.def(f,"$catalog_inline_anchor",Ie=function(ye,q){var ee,V=this;return ye==null&&(ye=V.text),q==null&&(q=n),i(q)||(ee=[V.cursor,n],q=ee[0],V.cursor=ee[1]),i(i(ee=ye["$start_with?"]("[["))?W(L,"LeadingInlineAnchorRx")["$=~"](ye):ee)?W(L,"Parser").$catalog_inline_anchor((ee=j["~"])===n?n:ee["$[]"](1),(ee=j["~"])===n?n:ee["$[]"](2),V,q,V.document):n},Ie.$$arity=-1),e.def(f,"$text",ue=function(){var ye=this;return ye.$apply_subs(ye.text,ye.subs)},ue.$$arity=0),f.$attr_writer("text"),e.def(f,"$content",S=function(){var ye,q,ee=this,V=n,_e=n;return(V=ee.style)["$=="]("asciidoc")?ee.inner_document.$convert():i(ee.text["$include?"](W(L,"DOUBLE_LF")))?s(ee.$text().$split(W(L,"BlankLineRx")),"map",[],(ye=function(Me){var Te=ye.$$s||this,et;return Me==null&&(Me=n),i(i(et=V)?V["$!="]("header"):et)?W(L,"Inline").$new(Te.$parent(),"quoted",Me,t(["type"],{type:V})).$convert():Me},ye.$$s=ee,ye.$$arity=1,ye)):i((_e=ee.$text())["$empty?"]())?[]:i(i(q=V)?V["$!="]("header"):q)?[W(L,"Inline").$new(ee.$parent(),"quoted",_e,t(["type"],{type:V})).$convert()]:[_e]},S.$$arity=0),e.def(f,"$lines",d=function(){var ye=this;return ye.text.$split(W(L,"LF"))},d.$$arity=0),e.def(f,"$source",m=function(){var ye=this;return ye.text},m.$$arity=0),e.def(f,"$file",p=function(){var ye,q=this;return i(ye=q.source_location)?q.source_location.$file():ye},p.$$arity=0),e.def(f,"$lineno",z=function(){var ye,q=this;return i(ye=q.source_location)?q.source_location.$lineno():ye},z.$$arity=0),e.def(f,"$to_s",Z=function(){var ye,q=Z.$$p,ee=q||n,V=this,_e=n,Me=n,Te=n;for(q&&(Z.$$p=null),Me=0,Te=arguments.length,_e=new Array(Te);Me<Te;Me++)_e[Me]=arguments[Me];return""+s(V,e.find_super_dispatcher(V,"to_s",Z,!1),_e,q)+" - [text: "+V.text+", colspan: "+(i(ye=V.colspan)?ye:1)+", rowspan: "+(i(ye=V.rowspan)?ye:1)+", attributes: "+V.attributes+"]"},Z.$$arity=0),n&&"to_s"}(W(C,"Table"),W(C,"AbstractBlock"),C),function(F,N,x){var f=c(F,N,"ParserContext"),L=[f].concat(x),ae,Pe,Ie,ue,S,d,m,p,z,Z,re,ye,q,ee,V,_e,Me,Te,et;return f.$$prototype.delimiter=f.$$prototype.delimiter_rx=f.$$prototype.buffer=f.$$prototype.cellspecs=f.$$prototype.cell_open=f.$$prototype.format=f.$$prototype.start_cursor_data=f.$$prototype.reader=f.$$prototype.table=f.$$prototype.current_row=f.$$prototype.colcount=f.$$prototype.column_visits=f.$$prototype.active_rowspans=f.$$prototype.linenum=n,f.$include(W(L,"Logging")),e.const_set(L[0],"FORMATS",["psv","csv","dsv","tsv"].$to_set()),e.const_set(L[0],"DELIMITERS",t(["psv","csv","dsv","tsv","!sv"],{psv:["|",/\|/],csv:[",",/,/],dsv:[":",/:/],tsv:["	",/\t/],"!sv":["!",/!/]})),f.$attr_accessor("table"),f.$attr_accessor("format"),f.$attr_reader("colcount"),f.$attr_accessor("buffer"),f.$attr_reader("delimiter"),f.$attr_reader("delimiter_re"),e.def(f,"$initialize",ae=function(it,Ne,Se){var We,tt,Qe=this,nt=n,yt=n;return Se==null&&(Se=t([],{})),Qe.start_cursor_data=(Qe.reader=it).$mark(),Qe.table=Ne,i(Se["$key?"]("format"))?i(W(L,"FORMATS")["$include?"](nt=Se["$[]"]("format")))?nt["$=="]("tsv")?Qe.format="csv":i((We=(Qe.format=nt)["$=="]("psv"))?Ne.$document()["$nested?"]():(Qe.format=nt)["$=="]("psv"))&&(nt="!sv"):(Qe.$logger().$error(Qe.$message_with_context("illegal table format: "+nt,t(["source_location"],{source_location:it.$cursor_at_prev_line()}))),We=["psv",function(){return i(Ne.$document()["$nested?"]())?"!sv":"psv"}()],Qe.format=We[0],nt=We[1]):(We=["psv",function(){return i(Ne.$document()["$nested?"]())?"!sv":"psv"}()],Qe.format=We[0],nt=We[1]),i(Se["$key?"]("separator"))?i((yt=Se["$[]"]("separator"))["$nil_or_empty?"]())?(tt=W(L,"DELIMITERS")["$[]"](nt),We=e.to_ary(tt),Qe.delimiter=We[0]==null?n:We[0],Qe.delimiter_rx=We[1]==null?n:We[1]):yt["$=="]("\\t")?(tt=W(L,"DELIMITERS")["$[]"]("tsv"),We=e.to_ary(tt),Qe.delimiter=We[0]==null?n:We[0],Qe.delimiter_rx=We[1]==null?n:We[1]):(We=[yt,new RegExp(y("::","Regexp").$escape(yt))],Qe.delimiter=We[0],Qe.delimiter_rx=We[1]):(tt=W(L,"DELIMITERS")["$[]"](nt),We=e.to_ary(tt),Qe.delimiter=We[0]==null?n:We[0],Qe.delimiter_rx=We[1]==null?n:We[1]),Qe.colcount=function(){return i(Ne.$columns()["$empty?"]())?-1:Ne.$columns().$size()}(),Qe.buffer="",Qe.cellspecs=[],Qe.cell_open=!1,Qe.active_rowspans=[0],Qe.column_visits=0,Qe.current_row=[],Qe.linenum=-1},ae.$$arity=-3),e.def(f,"$starts_with_delimiter?",Pe=function(ct){var it=this;return ct["$start_with?"](it.delimiter)},Pe.$$arity=1),e.def(f,"$match_delimiter",Ie=function(it){var Ne=this;return Ne.delimiter_rx.$match(it)},Ie.$$arity=1),e.def(f,"$skip_past_delimiter",ue=function(it){var Ne=this;return Ne.buffer=""+Ne.buffer+it+Ne.delimiter,n},ue.$$arity=1),e.def(f,"$skip_past_escaped_delimiter",S=function(it){var Ne=this;return Ne.buffer=""+Ne.buffer+it.$chop()+Ne.delimiter,n},S.$$arity=1),e.def(f,"$buffer_has_unclosed_quotes?",d=function(ct,it){var Ne,Se,We=this,tt=n,Qe=n,nt=n;return ct==null&&(ct=n),it==null&&(it='"'),(tt=function(){return i(ct)?A(We.buffer,ct).$strip():We.buffer.$strip()}())["$=="](it)?!0:i(tt["$start_with?"](it))?(Qe=A(it,it),i(i(Ne=i(Se=nt=tt["$end_with?"](it))?tt["$end_with?"](Qe):Se)?Ne:tt["$start_with?"](Qe))?i(Ne=(tt=tt.$gsub(Qe,""))["$start_with?"](it))?tt["$end_with?"](it)["$!"]():Ne:nt["$!"]()):!1},d.$$arity=-1),e.def(f,"$take_cellspec",m=function(){var it=this;return it.cellspecs.$shift()},m.$$arity=0),e.def(f,"$push_cellspec",p=function(it){var Ne,Se=this;return it==null&&(it=t([],{})),Se.cellspecs["$<<"](i(Ne=it)?Ne:t([],{})),n},p.$$arity=-1),e.def(f,"$keep_cell_open",z=function(){var it=this;return it.cell_open=!0,n},z.$$arity=0),e.def(f,"$mark_cell_closed",Z=function(){var it=this;return it.cell_open=!1,n},Z.$$arity=0),e.def(f,"$cell_open?",re=function(){var ct=this;return ct.cell_open},re.$$arity=0),e.def(f,"$cell_closed?",ye=function(){var ct=this;return ct.cell_open["$!"]()},ye.$$arity=0),e.def(f,"$close_open_cell",q=function(it){var Ne=this;return it==null&&(it=t([],{})),Ne.$push_cellspec(it),i(Ne["$cell_open?"]())&&Ne.$close_cell(!0),Ne.$advance(),n},q.$$arity=-1),e.def(f,"$close_cell",ee=function(it){try{var Ne,Se,We,tt=this,Qe=n,nt=n,yt=n,lt=n;return it==null&&(it=!1),tt.format["$=="]("psv")?(Qe=tt.buffer,tt.buffer="",i(nt=tt.$take_cellspec())?yt=i(Ne=nt.$delete("repeatcol"))?Ne:1:(tt.$logger().$error(tt.$message_with_context("table missing leading separator; recovering automatically",t(["source_location"],{source_location:s(y(W(L,"Reader"),"Cursor"),"new",e.to_a(tt.start_cursor_data))}))),nt=t([],{}),yt=1)):(Qe=tt.buffer.$strip(),tt.buffer="",nt=n,yt=1,i(i(Ne=(Se=tt.format["$=="]("csv"))?Qe["$empty?"]()["$!"]():tt.format["$=="]("csv"))?Qe["$include?"](lt='"'):Ne)&&(i(i(Ne=Qe["$start_with?"](lt))?Qe["$end_with?"](lt):Ne)?i(Qe=Qe.$slice(1,xe(Qe.$length(),2)))?Qe=Qe.$strip().$squeeze(lt):(tt.$logger().$error(tt.$message_with_context("unclosed quote in CSV data; setting cell to empty",t(["source_location"],{source_location:tt.reader.$cursor_at_prev_line()}))),Qe=""):Qe=Qe.$squeeze(lt))),s(1,"upto",[yt],(We=function(K){var l=We.$$s||this,v,I,U,P,de=n,be=n,je=n,Be=n;return l.colcount==null&&(l.colcount=n),l.table==null&&(l.table=n),l.current_row==null&&(l.current_row=n),l.reader==null&&(l.reader=n),l.column_visits==null&&(l.column_visits=n),l.linenum==null&&(l.linenum=n),K==null&&(K=n),l.colcount["$=="](-1)?(l.table.$columns()["$<<"](de=y(W(L,"Table"),"Column").$new(l.table,xe(A(l.table.$columns().$size(),K),1))),i(i(v=i(I=nt)?nt["$key?"]("colspan"):I)?u(be=xe(nt["$[]"]("colspan").$to_i(),1),0):v)&&(je=l.table.$columns().$size(),s(be,"times",[],(U=function(Ke){var we=U.$$s||this;return we.table==null&&(we.table=n),Ke==null&&(Ke=n),we.table.$columns()["$<<"](y(W(L,"Table"),"Column").$new(we.table,A(je,Ke)))},U.$$s=l,U.$$arity=1,U)))):i(de=l.table.$columns()["$[]"](l.current_row.$size()))||(l.$logger().$error(l.$message_with_context("dropping cell because it exceeds specified number of columns",t(["source_location"],{source_location:l.reader.$cursor_before_mark()}))),e.ret(n)),Be=y(W(L,"Table"),"Cell").$new(de,Qe,nt,t(["cursor"],{cursor:l.reader.$cursor_before_mark()})),l.reader.$mark(),i(i(v=Be.$rowspan()["$!"]())?v:Be.$rowspan()["$=="](1))||l.$activate_rowspan(Be.$rowspan(),i(v=Be.$colspan())?v:1),l.column_visits=A(l.column_visits,i(v=Be.$colspan())?v:1),l.current_row["$<<"](Be),i(i(v=l["$end_of_row?"]())?i(I=i(P=l.colcount["$!="](-1))?P:u(l.linenum,0))?I:i(P=it)?K["$=="](yt):P:v)?l.$close_row():n},We.$$s=tt,We.$$arity=1,We)),tt.cell_open=!1,n}catch(K){if(K===e.returner)return K.$v;throw K}},ee.$$arity=-1),f.$private(),e.def(f,"$close_row",V=function(){var it,Ne=this,Se=n;return Ne.table.$rows().$body()["$<<"](Ne.current_row),Ne.colcount["$=="](-1)&&(Ne.colcount=Ne.column_visits),Ne.column_visits=0,Ne.current_row=[],Ne.active_rowspans.$shift(),i(it=Ne.active_rowspans["$[]"](0))||(Se=[0,0],s(Ne.active_rowspans,"[]=",e.to_a(Se)),Se[xe(Se.length,1)]),n},V.$$arity=0),e.def(f,"$activate_rowspan",_e=function(it,Ne){var Se,We=this;return s(1,"upto",[xe(it,1)],(Se=function(tt){var Qe=Se.$$s||this,nt,yt=n;return Qe.active_rowspans==null&&(Qe.active_rowspans=n),tt==null&&(tt=n),yt=[tt,A(i(nt=Qe.active_rowspans["$[]"](tt))?nt:0,Ne)],s(Qe.active_rowspans,"[]=",e.to_a(yt)),yt[xe(yt.length,1)]},Se.$$s=We,Se.$$arity=1,Se)),n},_e.$$arity=2),e.def(f,"$end_of_row?",Me=function(){var ct,it=this;return i(ct=it.colcount["$=="](-1))?ct:it.$effective_column_visits()["$=="](it.colcount)},Me.$$arity=0),e.def(f,"$effective_column_visits",Te=function(){var it=this;return A(it.column_visits,it.active_rowspans["$[]"](0))},Te.$$arity=0),e.def(f,"$advance",et=function(){var it=this;return it.linenum=A(it.linenum,1)},et.$$arity=0),n&&"advance"}(W(C,"Table"),null,C)}($[0],$)},Opal.modules["asciidoctor/writer"]=function(e){function u(oe,b){return typeof oe=="number"&&typeof b=="number"?oe+b:oe["$+"](b)}var O=e.top,xe=[],Xe=e.nil,ie=e.const_get_qualified,A=e.const_get_relative,$e=e.breaker,$=e.slice,n=e.module,y=e.truthy,W=e.hash2;return e.add_stubs(["$respond_to?","$write","$+","$chomp","$include"]),function(oe,b){var _=n(oe,"Asciidoctor"),c=[_].concat(b);(function(t,s){var i=n(t,"Writer"),j=[i].concat(s),h;e.def(i,"$write",h=function(w,C){var F=this;return y(C["$respond_to?"]("write"))?C.$write(u(w.$chomp(),A(j,"LF"))):ie("::","File").$write(C,w,W(["mode"],{mode:A(j,"FILE_WRITE_MODE")})),Xe},h.$$arity=2)})(c[0],c),function(t,s){var i=n(t,"VoidWriter"),j=[i].concat(s),h;i.$include(A(j,"Writer")),e.def(i,"$write",h=function(w,C){var F=this;return Xe},h.$$arity=2)}(c[0],c)}(xe[0],xe)},Opal.modules["asciidoctor/load"]=function(e){function u(_,c){return typeof _=="number"&&typeof c=="number"?_-c:_["$-"](c)}function O(_,c){return typeof _=="number"&&typeof c=="number"?_+c:_["$+"](c)}var xe=e.top,Xe=[],ie=e.nil,A=e.const_get_qualified,$e=e.const_get_relative,$=e.breaker,n=e.slice,y=e.module,W=e.hash2,oe=e.truthy,b=e.send;return e.add_stubs(["$merge","$[]","$start","$key?","$!=","$logger","$new","$logger=","$-","$!","$===","$dup","$tap","$each","$partition","$[]=","$split","$gsub","$+","$respond_to?","$keys","$raise","$join","$ancestors","$class","$==","$at","$to_i","$mtime","$absolute_path","$path","$dirname","$basename","$extname","$read","$rewind","$drop","$record","$parse","$exception","$message","$set_backtrace","$backtrace","$stack_trace","$stack_trace=","$open","$load"]),function(_,c){var t=y(_,"Asciidoctor"),s=[t].concat(c);(function(i,j){var h=[i].concat(j),g,w;return e.def(i,"$load",g=function(F,N){var x,f,L,ae,Pe,Ie,ue,S=this,d=ie,m=ie,p=ie,z=ie,Z=ie,re=ie,ye=ie,q=ie,ee=ie,V=ie;N==null&&(N=W([],{}));try{if(N=N.$merge(),oe(d=N["$[]"]("timings"))&&d.$start("read"),oe(oe(x=N["$key?"]("logger"))?(m=N["$[]"]("logger"))["$!="]($e(h,"LoggerManager").$logger()):x)&&(p=[oe(x=m)?x:$e(h,"NullLogger").$new()],b($e(h,"LoggerManager"),"logger=",e.to_a(p)),p[u(p.length,1)]),oe((z=N["$[]"]("attributes"))["$!"]())?z=W([],{}):oe(A("::","Hash")["$==="](z))?z=z.$merge():oe(oe(x=(ae=A("::","Java","skip_raise"))&&(L=A(ae,"JavaUtil","skip_raise"))&&(f=A(L,"Map","skip_raise"))?"constant":ie)?A(A(A("::","Java"),"JavaUtil"),"Map")["$==="](z):x)?z=z.$dup():oe(A("::","Array")["$==="](z))?z=b(W([],{}),"tap",[],(Pe=function(_e){var Me=Pe.$$s||this,Te;return _e==null&&(_e=ie),b(z,"each",[],(Te=function(et){var ct=Te.$$s||this,it,Ne,Se=ie,We=ie,tt=ie;return et==null&&(et=ie),Ne=et.$partition("="),it=e.to_ary(Ne),Se=it[0]==null?ie:it[0],We=it[1]==null?ie:it[1],tt=it[2]==null?ie:it[2],p=[Se,tt],b(_e,"[]=",e.to_a(p)),p[u(p.length,1)]},Te.$$s=Me,Te.$$arity=1,Te))},Pe.$$s=S,Pe.$$arity=1,Pe)):oe(A("::","String")["$==="](z))?z=b(W([],{}),"tap",[],(Ie=function(_e){var Me=Ie.$$s||this,Te;return _e==null&&(_e=ie),b(z.$gsub($e(h,"SpaceDelimiterRx"),O("\\1",$e(h,"NULL"))).$gsub($e(h,"EscapedSpaceRx"),"\\1").$split($e(h,"NULL")),"each",[],(Te=function(et){var ct=Te.$$s||this,it,Ne,Se=ie,We=ie,tt=ie;return et==null&&(et=ie),Ne=et.$partition("="),it=e.to_ary(Ne),Se=it[0]==null?ie:it[0],We=it[1]==null?ie:it[1],tt=it[2]==null?ie:it[2],p=[Se,tt],b(_e,"[]=",e.to_a(p)),p[u(p.length,1)]},Te.$$s=Me,Te.$$arity=1,Te))},Ie.$$s=S,Ie.$$arity=1,Ie)):oe(oe(x=z["$respond_to?"]("keys"))?z["$respond_to?"]("[]"):x)?z=b(W([],{}),"tap",[],(ue=function(_e){var Me=ue.$$s||this,Te;return _e==null&&(_e=ie),b(z.$keys(),"each",[],(Te=function(et){var ct=Te.$$s||this;return et==null&&(et=ie),p=[et,z["$[]"](et)],b(_e,"[]=",e.to_a(p)),p[u(p.length,1)]},Te.$$s=Me,Te.$$arity=1,Te))},ue.$$s=S,ue.$$arity=1,ue)):S.$raise(A("::","ArgumentError"),"illegal type for attributes option: "+z.$class().$ancestors().$join(" < ")),oe(A("::","File")["$==="](F)))p=["input_mtime",function(){return $e(h,"RUBY_ENGINE")["$=="]("jruby")?A("::","Time").$at(F.$mtime().$to_i()):F.$mtime()}()],b(N,"[]=",e.to_a(p)),p[u(p.length,1)],p=["docfile",Z=A("::","File").$absolute_path(F.$path())],b(z,"[]=",e.to_a(p)),p[u(p.length,1)],p=["docdir",A("::","File").$dirname(Z)],b(z,"[]=",e.to_a(p)),p[u(p.length,1)],p=["docname",$e(h,"Helpers").$basename(Z,(p=["docfilesuffix",$e(h,"Helpers").$extname(Z)],b(z,"[]=",e.to_a(p)),p[u(p.length,1)]))],b(z,"[]=",e.to_a(p)),p[u(p.length,1)],re=F.$read();else if(oe(F["$respond_to?"]("read"))){try{F.$rewind()}catch(_e){if(e.rescue(_e,[$e(h,"StandardError")]))try{}finally{e.pop_exception()}else throw _e}re=F.$read()}else oe(A("::","String")["$==="](F))?re=F:oe(A("::","Array")["$==="](F))?re=F.$drop(0):oe(F)&&S.$raise(A("::","ArgumentError"),"unsupported input type: "+F.$class());return oe(d)&&(d.$record("read"),d.$start("parse")),p=["attributes",z],b(N,"[]=",e.to_a(p)),p[u(p.length,1)],ye=function(){return N["$[]"]("parse")["$=="](!1)?$e(h,"Document").$new(re,N):$e(h,"Document").$new(re,N).$parse()}(),oe(d)&&d.$record("parse"),ye}catch(_e){if(e.rescue(_e,[$e(h,"StandardError")])){q=_e;try{try{ee="asciidoctor: FAILED: "+(oe(x=z["$[]"]("docfile"))?x:"<stdin>")+": Failed to load AsciiDoc document",oe(q["$respond_to?"]("exception"))?(V=q.$exception(""+ee+" - "+q.$message()),V.$set_backtrace(q.$backtrace())):(V=q.$class().$new(ee,q),p=[q.$stack_trace()],b(V,"stack_trace=",e.to_a(p)),p[u(p.length,1)])}catch(Me){if(e.rescue(Me,[$e(h,"StandardError")]))try{V=q}finally{e.pop_exception()}else throw Me}return S.$raise(V)}finally{e.pop_exception()}}else throw _e}},g.$$arity=-2),e.def(i,"$load_file",w=function(F,N){var x,f=this;return N==null&&(N=W([],{})),b(A("::","File"),"open",[F,$e(h,"FILE_READ_MODE")],(x=function(L){var ae=x.$$s||this;return L==null&&(L=ie),ae.$load(L,N)},x.$$s=f,x.$$arity=1,x))},w.$$arity=-2),ie&&"load_file"})(e.get_singleton_class(t),s)}(Xe[0],Xe)},Opal.modules["asciidoctor/convert"]=function(e){function u(c,t){return typeof c=="number"&&typeof t=="number"?c-t:c["$-"](t)}function O(c,t){return typeof c=="number"&&typeof t=="number"?c>=t:c["$>="](t)}function xe(c,t){return typeof c=="number"&&typeof t=="number"?c<t:c["$<"](t)}var Xe=e.top,ie=[],A=e.nil,$e=e.const_get_qualified,$=e.const_get_relative,n=e.breaker,y=e.slice,W=e.module,oe=e.hash2,b=e.truthy,_=e.send;return e.add_stubs(["$delete","$merge","$===","$absolute_path","$path","$load","$respond_to?","$[]=","$-","$key?","$fetch","$[]","$dirname","$expand_path","$join","$attributes","$outfilesuffix","$==","$raise","$pwd","$>=","$safe","$normalize_system_path","$mkdir_p","$directory?","$!","$convert","$write","$<","$attr?","$basebackend?","$attr","$uriish?","$include?","$syntax_highlighter","$write_stylesheet?","$write_primary_stylesheet","$instance","$to_s","$!=","$read_asset","$file?","$write_stylesheet","$open"]),function(c,t){var s=W(c,"Asciidoctor"),i=[s].concat(t);(function(j,h){var g=[j].concat(h),w,C;return e.def(j,"$convert",w=function(N,x){var f,L,ae,Pe,Ie,ue=this,S=A,d=A,m=A,p=A,z=A,Z=A,re=A,ye=A,q=A,ee=A,V=A,_e=A,Me=A,Te=A,et=A,ct=A,it=A,Ne=A,Se=A,We=A,tt=A,Qe=A,nt=A,yt=A,lt=A;if(x==null&&(x=oe([],{})),(x=x.$merge()).$delete("parse"),S=x.$delete("to_dir"),d=x.$delete("mkdirs"),m=p=x.$delete("to_file"),(!0)["$==="](m)||A["$==="](m))b(z=S)||b($e("::","File")["$==="](N))&&(Z=$e("::","File").$absolute_path(N.$path())),p=A;else if((!1)["$==="](m))p=A;else{if("/dev/null"["$==="](m))return ue.$load(N,x);b(re=p["$respond_to?"]("write"))||(ye=["to_file",z=p],_(x,"[]=",e.to_a(ye)),ye[u(ye.length,1)])}return b(x["$key?"]("standalone"))||(b(b(f=Z)?f:z)?(ye=["standalone",x.$fetch("header_footer",!0)],_(x,"[]=",e.to_a(ye)),ye[u(ye.length,1)]):b(x["$key?"]("header_footer"))&&(ye=["standalone",x["$[]"]("header_footer")],_(x,"[]=",e.to_a(ye)),ye[u(ye.length,1)])),b(Z)?(ye=["to_dir",q=$e("::","File").$dirname(Z)],_(x,"[]=",e.to_a(ye)),ye[u(ye.length,1)]):b(z)&&(b(S)?b(p)?(ye=["to_dir",$e("::","File").$dirname($e("::","File").$expand_path(p,S))],_(x,"[]=",e.to_a(ye)),ye[u(ye.length,1)]):(ye=["to_dir",$e("::","File").$expand_path(S)],_(x,"[]=",e.to_a(ye)),ye[u(ye.length,1)]):b(p)&&(ye=["to_dir",$e("::","File").$dirname($e("::","File").$expand_path(p))],_(x,"[]=",e.to_a(ye)),ye[u(ye.length,1)])),ee=ue.$load(N,x),b(Z)?(V=$e("::","File").$join(q,""+ee.$attributes()["$[]"]("docname")+ee.$outfilesuffix()),V["$=="](Z)&&ue.$raise($e("::","IOError"),"input file and output file cannot be the same: "+V)):b(z)?(_e=function(){return b(x["$key?"]("base_dir"))?$e("::","File").$expand_path(x["$[]"]("base_dir")):$e("::","Dir").$pwd()}(),Me=function(){return b(O(ee.$safe(),$e($(g,"SafeMode"),"SAFE")))?_e:A}(),b(S)?(q=ee.$normalize_system_path(S,_e,Me,oe(["target_name","recover"],{target_name:"to_dir",recover:!1})),b(p)?(V=ee.$normalize_system_path(p,q,A,oe(["target_name","recover"],{target_name:"to_dir",recover:!1})),q=$e("::","File").$dirname(V)):V=$e("::","File").$join(q,""+ee.$attributes()["$[]"]("docname")+ee.$outfilesuffix())):b(p)&&(V=ee.$normalize_system_path(p,_e,Me,oe(["target_name","recover"],{target_name:"to_dir",recover:!1})),q=$e("::","File").$dirname(V)),b(b(f=$e("::","File")["$==="](N))?V["$=="]($e("::","File").$absolute_path(N.$path())):f)&&ue.$raise($e("::","IOError"),"input file and output file cannot be the same: "+V),b(d)?$(g,"Helpers").$mkdir_p(q):b($e("::","File")["$directory?"](q))||ue.$raise($e("::","IOError"),"target directory does not exist: "+S+" (hint: set :mkdirs option)")):(V=p,q=A),b(b(f=V)?re["$!"]():f)?Te=ee.$convert(oe(["outfile","outdir"],{outfile:V,outdir:q})):Te=ee.$convert(),b(V)?(ee.$write(Te,V),b(b(f=b(L=b(ae=b(Pe=b(Ie=re["$!"]())?xe(ee.$safe(),$e($(g,"SafeMode"),"SECURE")):Ie)?ee["$attr?"]("linkcss"):Pe)?ee["$attr?"]("copycss"):ae)?ee["$basebackend?"]("html"):L)?(b(L=et=ee.$attr("stylesdir"))?$(g,"Helpers")["$uriish?"](et):L)["$!"]():f)&&(b(ct=ee.$attr("stylesheet"))&&(b($(g,"DEFAULT_STYLESHEET_KEYS")["$include?"](ct))?it=!0:b($(g,"Helpers")["$uriish?"](ct)["$!"]())&&(Ne=!0)),Se=b(f=We=ee.$syntax_highlighter())?We["$write_stylesheet?"](ee):f,b(b(f=b(L=it)?L:Ne)?f:Se)&&(tt=ee.$normalize_system_path(et,q,function(){return b(O(ee.$safe(),$e($(g,"SafeMode"),"SAFE")))?q:A}()),b(d)?$(g,"Helpers").$mkdir_p(tt):b($e("::","File")["$directory?"](tt))||ue.$raise($e("::","IOError"),"target stylesheet directory does not exist: "+tt+" (hint: set :mkdirs option)"),b(it)?$(g,"Stylesheets").$instance().$write_primary_stylesheet(tt):b(Ne)&&(b(b(f=(Qe=ee.$attr("copycss"))["$=="](""))?f:Qe["$=="](!0))?Qe=ee.$normalize_system_path(ct):Qe=ee.$normalize_system_path(Qe.$to_s()),nt=ee.$normalize_system_path(ct,tt,function(){return b(O(ee.$safe(),$e($(g,"SafeMode"),"SAFE")))?q:A}()),b(b(f=Qe["$!="](nt))?yt=ee.$read_asset(Qe,oe(["warn_on_failure","label"],{warn_on_failure:$e("::","File")["$file?"](nt)["$!"](),label:"stylesheet"})):f)&&(b(b(f=(lt=$e("::","File").$dirname(nt))["$!="](tt))?$e("::","File")["$directory?"](lt)["$!"]():f)&&(b(d)?$(g,"Helpers").$mkdir_p(lt):ue.$raise($e("::","IOError"),"target stylesheet directory does not exist: "+lt+" (hint: set :mkdirs option)")),$e("::","File").$write(nt,yt,oe(["mode"],{mode:$(g,"FILE_WRITE_MODE")})))),b(Se)&&We.$write_stylesheet(ee,tt))),ee):Te},w.$$arity=-2),e.def(j,"$convert_file",C=function(N,x){var f,L=this;return x==null&&(x=oe([],{})),_($e("::","File"),"open",[N,$(g,"FILE_READ_MODE")],(f=function(ae){var Pe=f.$$s||this;return ae==null&&(ae=A),Pe.$convert(ae,x)},f.$$s=L,f.$$arity=1,f))},C.$$arity=-2),e.alias(j,"render","convert"),e.alias(j,"render_file","convert_file")})(e.get_singleton_class(s),i)}(ie[0],ie)},Opal.modules["asciidoctor/syntax_highlighter/highlightjs"]=function(e){function u(_,c){return typeof _=="number"&&typeof c=="number"?_-c:_["$-"](c)}var O=e.top,xe=[],Xe=e.nil,ie=e.const_get_qualified,A=e.const_get_relative,$e=e.breaker,$=e.slice,n=e.module,y=e.klass,W=e.send,oe=e.hash2,b=e.truthy;return e.add_stubs(["$register_for","$merge","$proc","$[]=","$-","$attr","$[]","$==","$attr?","$join","$map","$split","$lstrip"]),function(_,c){var t=n(_,"Asciidoctor"),s=[t].concat(c);(function(i,j,h){var g=y(i,j,"HighlightJsAdapter"),w=[g].concat(h),C,F,N,x;return g.$register_for("highlightjs","highlight.js"),e.def(g,"$initialize",C=function(L){var ae,Pe,Ie=C.$$p,ue=Ie||Xe,S=this,d=Xe,m=Xe,p=Xe;for(Ie&&(C.$$p=null),m=0,p=arguments.length,d=new Array(p);m<p;m++)d[m]=arguments[m];return ae=e.slice.call(arguments,0,arguments.length),Pe=ae,W(S,e.find_super_dispatcher(S,"initialize",C,!1),d,Ie),S.name=S.pre_class="highlightjs"},C.$$arity=-1),e.def(g,"$format",F=function(L,ae,Pe){var Ie,ue=F.$$p,S=ue||Xe,d=this;return ue&&(F.$$p=null),W(d,e.find_super_dispatcher(d,"format",F,!1),[L,ae,Pe.$merge(oe(["transform"],{transform:W(d,"proc",[],(Ie=function(m,p){var z=Ie.$$s||this,Z,re=Xe;return m==null&&(m=Xe),p==null&&(p=Xe),re=["class","language-"+(b(Z=ae)?Z:"none")+" hljs"],W(p,"[]=",e.to_a(re)),re[u(re.length,1)]},Ie.$$s=d,Ie.$$arity=2,Ie))}))],null)},F.$$arity=3),e.def(g,"$docinfo?",N=function(f){var L=this;return!0},N.$$arity=1),e.def(g,"$docinfo",x=function(L,ae,Pe){var Ie,ue=this,S=Xe;return S=ae.$attr("highlightjsdir",""+Pe["$[]"]("cdn_base_url")+"/highlight.js/"+A(w,"HIGHLIGHT_JS_VERSION")),L["$=="]("head")?'<link rel="stylesheet" href="'+S+"/styles/"+ae.$attr("highlightjs-theme","github")+'.min.css"'+Pe["$[]"]("self_closing_tag_slash")+">":'<script src="'+S+`/highlight.min.js"><\/script>
`+function(){return b(ae["$attr?"]("highlightjs-languages"))?W(ae.$attr("highlightjs-languages").$split(","),"map",[],(Ie=function(d){var m=Ie.$$s||this;return d==null&&(d=Xe),'<script src="'+S+"/languages/"+d.$lstrip()+`.min.js"><\/script>
`},Ie.$$s=ue,Ie.$$arity=1,Ie)).$join():""}()+`<script>
if (!hljs.initHighlighting.called) {
  hljs.initHighlighting.called = true
  ;[].slice.call(document.querySelectorAll('pre.highlight > code')).forEach(function (el) { hljs.highlightBlock(el) })
}
<\/script>`},x.$$arity=3),Xe&&"docinfo"})(A(s,"SyntaxHighlighter"),ie(A(s,"SyntaxHighlighter"),"Base"),s)}(xe[0],xe)},Opal.modules["asciidoctor/syntax_highlighter"]=function(e){function u(_,c){return typeof _=="number"&&typeof c=="number"?_-c:_["$-"](c)}var O=e.top,xe=[],Xe=e.nil,ie=e.const_get_qualified,A=e.const_get_relative,$e=e.breaker,$=e.slice,n=e.module,y=e.hash2,W=e.send,oe=e.truthy,b=e.klass;return e.add_stubs(["$attr_reader","$raise","$class","$extend","$private_class_method","$register","$map","$to_s","$each","$[]=","$registry","$-","$[]","$for","$===","$new","$name","$private","$include","$==","$delete","$join","$content"]),function(_,c){var t=n(_,"Asciidoctor"),s=[t].concat(c);(function(i,j){var h=n(i,"SyntaxHighlighter"),g=[h].concat(j),w,C,F,N,x,f,L,ae,Pe;h.$attr_reader("name"),e.def(h,"$initialize",w=function(ue,S,d){var m=this;return S==null&&(S="html5"),d==null&&(d=y([],{})),m.name=m.pre_class=ue},w.$$arity=-2),e.def(h,"$docinfo?",C=function(Ie){var ue=this;return Xe},C.$$arity=1),e.def(h,"$docinfo",F=function(ue,S,d){var m=this;return m.$raise(ie("::","NotImplementedError"),""+A(g,"SyntaxHighlighter")+" subclass "+m.$class()+" must implement the #docinfo method since #docinfo? returns true")},F.$$arity=3),e.def(h,"$highlight?",N=function(){var Ie=this;return Xe},N.$$arity=0),e.def(h,"$highlight",x=function(ue,S,d,m){var p=this;return p.$raise(ie("::","NotImplementedError"),""+A(g,"SyntaxHighlighter")+" subclass "+p.$class()+" must implement the #highlight method since #highlight? returns true")},x.$$arity=4),e.def(h,"$format",f=function(ue,S,d){var m=this;return m.$raise(ie("::","NotImplementedError"),""+A(g,"SyntaxHighlighter")+" subclass "+m.$class()+" must implement the #format method")},f.$$arity=3),e.def(h,"$write_stylesheet?",L=function(Ie){var ue=this;return Xe},L.$$arity=1),e.def(h,"$write_stylesheet",ae=function(ue,S){var d=this;return d.$raise(ie("::","NotImplementedError"),""+A(g,"SyntaxHighlighter")+" subclass "+d.$class()+" must implement the #write_stylesheet method since #write_stylesheet? returns true")},ae.$$arity=2),e.defs(h,"$included",Pe=function(ue){var S=this;return ue.$extend(A(g,"Config"))},Pe.$$arity=1),h.$private_class_method("included"),function(Ie,ue){var S=n(Ie,"Config"),d=[S].concat(ue),m;e.def(S,"$register_for",m=function(z){var Z,re,ye,q=this;return Z=e.slice.call(arguments,0,arguments.length),re=Z,W(A(d,"SyntaxHighlighter"),"register",[q].concat(e.to_a(W(re,"map",[],(ye=function(ee){var V=ye.$$s||this;return ee==null&&(ee=Xe),ee.$to_s()},ye.$$s=q,ye.$$arity=1,ye)))))},m.$$arity=-1)}(g[0],g),function(Ie,ue){var S=n(Ie,"Factory"),d=[S].concat(ue),m,p,z,Z;e.def(S,"$register",m=function(ye,q){var ee,V,_e,Me=this;return ee=e.slice.call(arguments,1,arguments.length),V=ee,W(V,"each",[],(_e=function(Te){var et=_e.$$s||this,ct=Xe;return Te==null&&(Te=Xe),ct=[Te,ye],W(et.$registry(),"[]=",e.to_a(ct)),ct[u(ct.length,1)]},_e.$$s=Me,_e.$$arity=1,_e))},m.$$arity=-2),e.def(S,"$for",p=function(re){var ye=this;return ye.$registry()["$[]"](re)},p.$$arity=1),e.def(S,"$create",z=function(ye,q,ee){var V=this,_e=Xe;return q==null&&(q="html5"),ee==null&&(ee=y([],{})),oe(_e=V.$for(ye))?(oe(ie("::","Class")["$==="](_e))&&(_e=_e.$new(ye,q,ee)),oe(_e.$name())||V.$raise(ie("::","NameError"),""+_e.$class()+" must specify a value for `name'"),_e):Xe},z.$$arity=-2),S.$private(),e.def(S,"$registry",Z=function(){var ye=this;return ye.$raise(ie("::","NotImplementedError"),""+A(d,"Factory")+" subclass "+ye.$class()+" must implement the #registry method")},Z.$$arity=0)}(g[0],g),function(Ie,ue,S){var d=b(Ie,ue,"CustomFactory"),m=[d].concat(S),p;return d.$include(A(m,"Factory")),e.def(d,"$initialize",p=function(Z){var re,ye=this;return Z==null&&(Z=Xe),ye.registry=oe(re=Z)?re:y([],{})},p.$$arity=-1),d.$private(),d.$attr_reader("registry")}(g[0],null,g),function(Ie,ue){var S=n(Ie,"DefaultFactory"),d=[S].concat(ue),m;S.$include(A(d,"Factory")),e.class_variable_set(d[0],"@@registry",y([],{})),S.$private(),e.def(S,"$registry",m=function(){var z,Z=this;return(z=d[0].$$cvars["@@registry"])==null?Xe:z},m.$$arity=0),A(d,"RUBY_ENGINE")["$=="]("opal")}(g[0],g),function(Ie,ue,S){var d=b(Ie,ue,"DefaultFactoryProxy"),m=[d].concat(S);return d.$include(A(m,"DefaultFactory")),A(m,"RUBY_ENGINE")["$=="]("opal"),Xe}(g[0],A(g,"CustomFactory"),g),function(Ie,ue,S){var d=b(Ie,ue,"Base"),m=[d].concat(S),p;return d.$$prototype.pre_class=Xe,d.$include(A(m,"SyntaxHighlighter")),e.def(d,"$format",p=function(Z,re,ye){var q,ee,V=this,_e=Xe,Me=Xe,Te=Xe,et=Xe,ct=Xe;return _e=function(){return oe(ye["$[]"]("nowrap"))?""+V.pre_class+" highlight nowrap":""+V.pre_class+" highlight"}(),oe(Me=ye["$[]"]("transform"))?(Me["$[]"](Te=y(["class"],{class:_e}),et=function(){return oe(re)?y(["data-lang"],{"data-lang":re}):y([],{})}()),oe(re=et.$delete("data-lang"))&&(ct=["data-lang",re],W(et,"[]=",e.to_a(ct)),ct[u(ct.length,1)]),"<pre"+W(Te,"map",[],(q=function(it,Ne){var Se=q.$$s||this;return it==null&&(it=Xe),Ne==null&&(Ne=Xe)," "+it+'="'+Ne+'"'},q.$$s=V,q.$$arity=2,q)).$join()+"><code"+W(et,"map",[],(ee=function(it,Ne){var Se=ee.$$s||this;return it==null&&(it=Xe),Ne==null&&(Ne=Xe)," "+it+'="'+Ne+'"'},ee.$$s=V,ee.$$arity=2,ee)).$join()+">"+Z.$content()+"</code></pre>"):'<pre class="'+_e+'"><code'+function(){return oe(re)?' data-lang="'+re+'"':""}()+">"+Z.$content()+"</code></pre>"},p.$$arity=3),Xe&&"format"}(g[0],null,g),h.$extend(A(g,"DefaultFactory"))})(s[0],s)}(xe[0],xe),O.$require("asciidoctor/syntax_highlighter.rb/../syntax_highlighter/highlightjs"),A(xe,"RUBY_ENGINE")["$=="]("opal"),Xe},Opal.modules["asciidoctor/timings"]=function(e){function u(s,i){return typeof s=="number"&&typeof i=="number"?s-i:s["$-"](i)}function O(s,i){return typeof s=="number"&&typeof i=="number"?s+i:s["$+"](i)}function xe(s,i){return typeof s=="number"&&typeof i=="number"?s>i:s["$>"](i)}var Xe=e.top,ie=[],A=e.nil,$e=e.const_get_qualified,$=e.const_get_relative,n=e.breaker,y=e.slice,W=e.module,oe=e.klass,b=e.hash2,_=e.send,c=e.truthy,t=e.gvars;return e.add_stubs(["$now","$[]=","$-","$delete","$reduce","$+","$[]","$>","$time","$puts","$sprintf","$to_f","$read_parse","$convert","$read_parse_convert","$private","$const_defined?","$==","$clock_gettime"]),function(s,i){var j=W(s,"Asciidoctor"),h=[j].concat(i);(function(g,w,C){var F=oe(g,w,"Timings"),N=[F].concat(C),x,f,L,ae,Pe,Ie,ue,S,d,m,p,z,Z,re,ye,q,ee,V,_e;return F.$$prototype.timers=F.$$prototype.log=A,e.def(F,"$initialize",x=function(){var Te=this;return Te.log=b([],{}),Te.timers=b([],{})},x.$$arity=0),e.def(F,"$start",f=function(Te){var et=this,ct=A;return ct=[Te,et.$now()],_(et.timers,"[]=",e.to_a(ct)),ct[u(ct.length,1)]},f.$$arity=1),e.def(F,"$record",L=function(Te){var et=this,ct=A;return ct=[Te,u(et.$now(),et.timers.$delete(Te))],_(et.log,"[]=",e.to_a(ct)),ct[u(ct.length,1)]},L.$$arity=1),e.def(F,"$time",ae=function(Te){var et,ct,it,Ne=this,Se=A;return et=e.slice.call(arguments,0,arguments.length),ct=et,Se=_(ct,"reduce",[0],(it=function(We,tt){var Qe=it.$$s||this,nt;return Qe.log==null&&(Qe.log=A),We==null&&(We=A),tt==null&&(tt=A),O(We,c(nt=Qe.log["$[]"](tt))?nt:0)},it.$$s=Ne,it.$$arity=2,it)),c(xe(Se,0))?Se:A},ae.$$arity=-1),e.def(F,"$read",Pe=function(){var Te=this;return Te.$time("read")},Pe.$$arity=0),e.def(F,"$parse",Ie=function(){var Te=this;return Te.$time("parse")},Ie.$$arity=0),e.def(F,"$read_parse",ue=function(){var Te=this;return Te.$time("read","parse")},ue.$$arity=0),e.def(F,"$convert",S=function(){var Te=this;return Te.$time("convert")},S.$$arity=0),e.def(F,"$read_parse_convert",d=function(){var Te=this;return Te.$time("read","parse","convert")},d.$$arity=0),e.def(F,"$write",m=function(){var Te=this;return Te.$time("write")},m.$$arity=0),e.def(F,"$total",p=function(){var Te=this;return Te.$time("read","parse","convert","write")},p.$$arity=0),e.def(F,"$print_report",z=function(Te,et){var ct=this;return t.stdout==null&&(t.stdout=A),Te==null&&(Te=t.stdout),et==null&&(et=A),c(et)&&Te.$puts("Input file: "+et),Te.$puts("  Time to read and parse source: "+ct.$sprintf("%05.5f",ct.$read_parse().$to_f())),Te.$puts("  Time to convert document: "+ct.$sprintf("%05.5f",ct.$convert().$to_f())),Te.$puts("  Total time (read, parse and convert): "+ct.$sprintf("%05.5f",ct.$read_parse_convert().$to_f()))},z.$$arity=-1),F.$private(),c(c(Z=$e("::","Process")["$const_defined?"]("CLOCK_MONOTONIC",!1))?((re=$e("::","Process","skip_raise"))&&(ye=re,ye)&&(q=ye)&&((ee=q.$clock_gettime)&&!ee.$$stub||q["$respond_to_missing?"]("clock_gettime"))?"method":A)["$=="]("method"):Z)?(e.const_set(N[0],"CLOCK_ID",$e($e("::","Process"),"CLOCK_MONOTONIC")),e.def(F,"$now",V=function(){var Te=this;return $e("::","Process").$clock_gettime($(N,"CLOCK_ID"))},V.$$arity=0),A&&"now"):(e.def(F,"$now",_e=function(){var Te=this;return $e("::","Time").$now()},_e.$$arity=0),A&&"now")})(h[0],null,h)}(ie[0],ie)},Opal.modules["asciidoctor/converter/composite"]=function(e){function u(_,c){return typeof _=="number"&&typeof c=="number"?_-c:_["$-"](c)}var O=e.top,xe=[],Xe=e.nil,ie=e.const_get_qualified,A=e.const_get_relative,$e=e.breaker,$=e.slice,n=e.module,y=e.klass,W=e.hash2,oe=e.send,b=e.truthy;return e.add_stubs(["$attr_reader","$each","$respond_to?","$composed","$init_backend_traits","$backend_traits","$new","$find_converter","$[]=","$-","$convert","$converter_for","$node_name","$[]","$handles?","$raise"]),function(_,c){var t=n(_,"Asciidoctor"),s=[t].concat(c);(function(i,j,h){var g=y(i,j,"CompositeConverter"),w=[g].concat(h),C,F,N,x;return g.$$prototype.converter_cache=g.$$prototype.converters=Xe,g.$attr_reader("converters"),e.def(g,"$initialize",C=function(L,ae,Pe){var Ie,ue,S,d,m,p,z=this;if(Ie=e.slice.call(arguments,1,arguments.length),ue=e.extract_kwargs(Ie),ue==null)ue=W([],{});else if(!ue.$$is_hash)throw e.ArgumentError.$new("expected kwargs");return S=Ie,d=ue.$$smap.backend_traits_source,d==null&&(d=Xe),z.backend=L,oe(z.converters=S,"each",[],(m=function(Z){var re=m.$$s||this;return Z==null&&(Z=Xe),b(Z["$respond_to?"]("composed"))?Z.$composed(re):Xe},m.$$s=z,m.$$arity=1,m)),b(d)&&z.$init_backend_traits(d.$backend_traits()),z.converter_cache=oe(ie("::","Hash"),"new",[],(p=function(Z,re){var ye=p.$$s||this,q=Xe;return Z==null&&(Z=Xe),re==null&&(re=Xe),q=[re,ye.$find_converter(re)],oe(Z,"[]=",e.to_a(q)),q[u(q.length,1)]},p.$$s=z,p.$$arity=2,p))},C.$$arity=-2),e.def(g,"$convert",F=function(L,ae,Pe){var Ie,ue=this;return ae==null&&(ae=Xe),Pe==null&&(Pe=Xe),ue.$converter_for(ae=b(Ie=ae)?Ie:L.$node_name()).$convert(L,ae,Pe)},F.$$arity=-2),e.def(g,"$converter_for",N=function(L){var ae=this;return ae.converter_cache["$[]"](L)},N.$$arity=1),e.def(g,"$find_converter",x=function(L){try{var ae,Pe=this;return oe(Pe.converters,"each",[],(ae=function(Ie){var ue=ae.$$s||this;if(Ie==null&&(Ie=Xe),b(Ie["$handles?"](L)))e.ret(Ie);else return Xe},ae.$$s=Pe,ae.$$arity=1,ae)),Pe.$raise("Could not find a converter to handle transform: "+L)}catch(Ie){if(Ie===e.returner)return Ie.$v;throw Ie}},x.$$arity=1),Xe&&"find_converter"})(A(s,"Converter"),ie(A(s,"Converter"),"Base"),s)}(xe[0],xe)},Opal.modules["asciidoctor/converter/html5"]=function(e){function u(h,g){return typeof h=="number"&&typeof g=="number"?h-g:h["$-"](g)}function O(h,g){return typeof h=="number"&&typeof g=="number"?h>g:h["$>"](g)}function xe(h,g){return typeof h=="number"&&typeof g=="number"?h+g:h["$+"](g)}function Xe(h,g){return typeof h=="number"&&typeof g=="number"?h<=g:h["$<="](g)}function ie(h,g){return typeof h=="number"&&typeof g=="number"?h<g:h["$<"](g)}function A(h,g){return typeof h=="number"&&typeof g=="number"?h*g:h["$*"](g)}var $e=e.top,$=[],n=e.nil,y=e.const_get_qualified,W=e.const_get_relative,oe=e.breaker,b=e.slice,_=e.module,c=e.klass,t=e.send,s=e.hash2,i=e.truthy,j=e.gvars;return e.add_stubs(["$register_for","$default=","$-","$==","$[]","$init_backend_traits","$node_name","$===","$convert_inline_quoted","$convert_paragraph","$convert_inline_anchor","$convert_section","$convert_listing","$convert_literal","$convert_ulist","$convert_olist","$convert_dlist","$convert_admonition","$convert_colist","$convert_embedded","$convert_example","$convert_floating_title","$convert_image","$convert_inline_break","$convert_inline_button","$convert_inline_callout","$convert_inline_footnote","$convert_inline_image","$convert_inline_indexterm","$convert_inline_kbd","$convert_inline_menu","$convert_open","$convert_page_break","$convert_preamble","$convert_quote","$convert_sidebar","$convert_stem","$convert_table","$convert_thematic_break","$convert_verse","$convert_video","$convert_document","$convert_toc","$convert_pass","$convert_audio","$empty?","$attr","$attr?","$<<","$include?","$sub_replacements","$gsub","$extname","$slice","$length","$doctitle","$normalize_web_path","$primary_stylesheet_data","$instance","$read_contents","$syntax_highlighter","$size","$docinfo","$id","$sections?","$doctype","$role?","$role","$join","$noheader","$convert","$converter","$generate_manname_section","$header?","$notitle","$title","$header","$each","$authors","$>","$name","$email","$sub_macros","$+","$downcase","$concat","$content","$footnotes?","$!","$footnotes","$index","$text","$nofooter","$docinfo?","$[]=","$delete_at","$inspect","$!=","$to_i","$attributes","$document","$sections","$level","$caption","$captioned_title","$numbered","$<=","$<","$sectname","$sectnum","$convert_outline","$title?","$icon_uri","$compact","$media_uri","$option?","$append_boolean_attribute","$style","$items","$blocks?","$text?","$chomp","$safe","$read_svg_contents","$alt","$image_uri","$encode_attribute_value","$append_link_constraint_attrs","$highlight?","$to_sym","$format","$*","$count","$start_with?","$end_with?","$list_marker_keyword","$parent","$warn","$logger","$context","$error","$new","$columns","$to_h","$rows","$colspan","$rowspan","$unshift","$shift","$split","$pop","$nil_or_empty?","$type","$catalog","$get_root_document","$xreftext","$target","$reftext","$chop","$sub","$match","$private","$upcase","$nested?","$parent_document","$to_s","$handles?","$send"]),function(h,g){var w=_(h,"Asciidoctor"),C=[w].concat(g);(function(F,N,x){var f=c(F,N,"Html5Converter"),L=[f].concat(x),ae,Pe,Ie,ue,S,d,m,p,z,Z,re,ye,q,ee,V,_e,Me,Te,et,ct,it,Ne,Se,We,tt,Qe,nt,yt,lt,K,l,v,I,U,P,de,be,je,Be,Ke,we,ot,at,vt,Dt,bt,ce,Ee=n;return f.$$prototype.void_element_slash=f.$$prototype.xml_mode=f.$$prototype.refs=f.$$prototype.resolving_xref=n,f.$register_for("html5"),Ee=[["",""]],t(e.const_set(L[0],"QUOTE_TAGS",s(["monospaced","emphasis","strong","double","single","mark","superscript","subscript","asciimath","latexmath"],{monospaced:["<code>","</code>",!0],emphasis:["<em>","</em>",!0],strong:["<strong>","</strong>",!0],double:["&#8220;","&#8221;"],single:["&#8216;","&#8217;"],mark:["<mark>","</mark>",!0],superscript:["<sup>","</sup>",!0],subscript:["<sub>","</sub>",!0],asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]})),"default=",e.to_a(Ee)),Ee[u(Ee.length,1)],e.const_set(L[0],"DropAnchorRx",/<(?:a\b[^>]*|\/a)>/),e.const_set(L[0],"StemBreakRx",/ *\\\n(?:\\?\n)*|\n\n+/),W(L,"RUBY_ENGINE")["$=="]("opal")&&(e.const_set(L[0],"SvgPreambleRx",new RegExp("^"+W(L,"CC_ALL")+"*?(?=<svg[\\s>])")),e.const_set(L[0],"SvgStartTagRx",/^<svg(?:\s[^>]*)?>/)),e.const_set(L[0],"DimensionAttributeRx",new RegExp(`\\s(?:width|height|style)=(["'])`+W(L,"CC_ANY")+"*?\\1")),e.def(f,"$initialize",ae=function(o,H){var Y=this,Q=n;return H==null&&(H=s([],{})),Y.backend=o,H["$[]"]("htmlsyntax")["$=="]("xml")?(Q="xml",Y.xml_mode=!0,Y.void_element_slash="/"):(Q="html",Y.xml_mode=n,Y.void_element_slash=""),Y.$init_backend_traits(s(["basebackend","filetype","htmlsyntax","outfilesuffix","supports_templates"],{basebackend:"html",filetype:"html",htmlsyntax:Q,outfilesuffix:".html",supports_templates:!0}))},ae.$$arity=-2),e.def(f,"$convert",Pe=function(o,H,Y){var Q=Pe.$$p,ne=Q||n,k=this,a=n,E=n,T=n,M=n;for(Q&&(Pe.$$p=null),T=0,M=arguments.length,E=new Array(M);T<M;T++)E[T]=arguments[T];return H==null&&(H=o.$node_name()),Y==null&&(Y=n),function(){return a=H,"inline_quoted"["$==="](a)?k.$convert_inline_quoted(o):"paragraph"["$==="](a)?k.$convert_paragraph(o):"inline_anchor"["$==="](a)?k.$convert_inline_anchor(o):"section"["$==="](a)?k.$convert_section(o):"listing"["$==="](a)?k.$convert_listing(o):"literal"["$==="](a)?k.$convert_literal(o):"ulist"["$==="](a)?k.$convert_ulist(o):"olist"["$==="](a)?k.$convert_olist(o):"dlist"["$==="](a)?k.$convert_dlist(o):"admonition"["$==="](a)?k.$convert_admonition(o):"colist"["$==="](a)?k.$convert_colist(o):"embedded"["$==="](a)?k.$convert_embedded(o):"example"["$==="](a)?k.$convert_example(o):"floating_title"["$==="](a)?k.$convert_floating_title(o):"image"["$==="](a)?k.$convert_image(o):"inline_break"["$==="](a)?k.$convert_inline_break(o):"inline_button"["$==="](a)?k.$convert_inline_button(o):"inline_callout"["$==="](a)?k.$convert_inline_callout(o):"inline_footnote"["$==="](a)?k.$convert_inline_footnote(o):"inline_image"["$==="](a)?k.$convert_inline_image(o):"inline_indexterm"["$==="](a)?k.$convert_inline_indexterm(o):"inline_kbd"["$==="](a)?k.$convert_inline_kbd(o):"inline_menu"["$==="](a)?k.$convert_inline_menu(o):"open"["$==="](a)?k.$convert_open(o):"page_break"["$==="](a)?k.$convert_page_break(o):"preamble"["$==="](a)?k.$convert_preamble(o):"quote"["$==="](a)?k.$convert_quote(o):"sidebar"["$==="](a)?k.$convert_sidebar(o):"stem"["$==="](a)?k.$convert_stem(o):"table"["$==="](a)?k.$convert_table(o):"thematic_break"["$==="](a)?k.$convert_thematic_break(o):"verse"["$==="](a)?k.$convert_verse(o):"video"["$==="](a)?k.$convert_video(o):"document"["$==="](a)?k.$convert_document(o):"toc"["$==="](a)?k.$convert_toc(o):"pass"["$==="](a)?k.$convert_pass(o):"audio"["$==="](a)?k.$convert_audio(o):t(k,e.find_super_dispatcher(k,"convert",Pe,!1),E,Q)}()},Pe.$$arity=-2),e.def(f,"$convert_document",Ie=function(o){var H,Y,Q,ne,k,a=this,E=n,T=n,M=n,te=n,X=n,Ae=n,me=n,mt=n,dt=n,He=n,kt=n,$t=n,Tt=n,rt=n,Lt=n,Yt=n,_t=n,Zt=n,rr=n,nr=n,sr=n,tr=n,hr=n,fr=n,mr=n;return E="<br"+(T=a.void_element_slash)+">",i((M=o.$attr("asset-uri-scheme","https"))["$empty?"]())||(M=""+M+":"),te=""+M+"//cdnjs.cloudflare.com/ajax/libs",X=o["$attr?"]("linkcss"),Ae=function(){return i(o["$attr?"]("max-width"))?' style="max-width: '+o.$attr("max-width")+';"':""}(),me=["<!DOCTYPE html>"],mt=function(){return i(o["$attr?"]("nolang"))?"":' lang="'+o.$attr("lang","en")+'"'}(),me["$<<"]("<html"+function(){return i(a.xml_mode)?' xmlns="http://www.w3.org/1999/xhtml"':""}()+mt+">"),me["$<<"](`<head>
<meta charset="`+o.$attr("encoding","UTF-8")+'"'+T+`>
<meta http-equiv="X-UA-Compatible" content="IE=edge"`+T+`>
<meta name="viewport" content="width=device-width, initial-scale=1.0"`+T+`>
<meta name="generator" content="Asciidoctor `+o.$attr("asciidoctor-version")+'"'+T+">"),i(o["$attr?"]("app-name"))&&me["$<<"]('<meta name="application-name" content="'+o.$attr("app-name")+'"'+T+">"),i(o["$attr?"]("description"))&&me["$<<"]('<meta name="description" content="'+o.$attr("description")+'"'+T+">"),i(o["$attr?"]("keywords"))&&me["$<<"]('<meta name="keywords" content="'+o.$attr("keywords")+'"'+T+">"),i(o["$attr?"]("authors"))&&me["$<<"]('<meta name="author" content="'+function(){return i((dt=o.$sub_replacements(o.$attr("authors")))["$include?"]("<"))?dt.$gsub(W(L,"XmlSanitizeRx"),""):dt}()+'"'+T+">"),i(o["$attr?"]("copyright"))&&me["$<<"]('<meta name="copyright" content="'+o.$attr("copyright")+'"'+T+">"),i(o["$attr?"]("favicon"))&&(i((He=o.$attr("favicon"))["$empty?"]())?(He="favicon.ico",kt="image/x-icon"):i($t=W(L,"Helpers").$extname(He,n))?kt=function(){return $t["$=="](".ico")?"image/x-icon":"image/"+$t.$slice(1,$t.$length())}():kt="image/x-icon",me["$<<"]('<link rel="icon" type="'+kt+'" href="'+He+'"'+T+">")),me["$<<"]("<title>"+o.$doctitle(s(["sanitize","use_fallback"],{sanitize:!0,use_fallback:!0}))+"</title>"),i(W(L,"DEFAULT_STYLESHEET_KEYS")["$include?"](o.$attr("stylesheet")))?(i(Tt=o.$attr("webfonts"))&&me["$<<"]('<link rel="stylesheet" href="'+M+"//fonts.googleapis.com/css?family="+function(){return i(Tt["$empty?"]())?"Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700":Tt}()+'"'+T+">"),i(X)?me["$<<"]('<link rel="stylesheet" href="'+o.$normalize_web_path(W(L,"DEFAULT_STYLESHEET_NAME"),o.$attr("stylesdir",""),!1)+'"'+T+">"):me["$<<"](`<style>
`+W(L,"Stylesheets").$instance().$primary_stylesheet_data()+`
</style>`)):i(o["$attr?"]("stylesheet"))&&(i(X)?me["$<<"]('<link rel="stylesheet" href="'+o.$normalize_web_path(o.$attr("stylesheet"),o.$attr("stylesdir",""))+'"'+T+">"):me["$<<"](`<style>
`+o.$read_contents(o.$attr("stylesheet"),s(["start","warn_on_failure","label"],{start:o.$attr("stylesdir"),warn_on_failure:!0,label:"stylesheet"}))+`
</style>`)),i(o["$attr?"]("icons","font"))&&(i(o["$attr?"]("iconfont-remote"))?me["$<<"]('<link rel="stylesheet" href="'+o.$attr("iconfont-cdn",""+te+"/font-awesome/"+W(L,"FONT_AWESOME_VERSION")+"/css/font-awesome.min.css")+'"'+T+">"):(rt=""+o.$attr("iconfont-name","font-awesome")+".css",me["$<<"]('<link rel="stylesheet" href="'+o.$normalize_web_path(rt,o.$attr("stylesdir",""),!1)+'"'+T+">"))),i(Lt=o.$syntax_highlighter())&&me["$<<"](Yt=me.$size()),i((_t=o.$docinfo())["$empty?"]())||me["$<<"](_t),me["$<<"]("</head>"),Zt=function(){return i(o.$id())?' id="'+o.$id()+'"':""}(),i(i(H=i(Y=i(Q=rr=o["$sections?"]())?o["$attr?"]("toc-class"):Q)?o["$attr?"]("toc"):Y)?o["$attr?"]("toc-placement","auto"):H)?nr=[o.$doctype(),o.$attr("toc-class"),"toc-"+o.$attr("toc-position","header")]:nr=[o.$doctype()],i(o["$role?"]())&&nr["$<<"](o.$role()),me["$<<"]("<body"+Zt+' class="'+nr.$join(" ")+'">'),i((_t=o.$docinfo("header"))["$empty?"]())||me["$<<"](_t),i(o.$noheader())||(me["$<<"]('<div id="header"'+Ae+">"),o.$doctype()["$=="]("manpage")?(me["$<<"]("<h1>"+o.$doctitle()+" Manual Page</h1>"),i(i(H=i(Y=rr)?o["$attr?"]("toc"):Y)?o["$attr?"]("toc-placement","auto"):H)&&me["$<<"]('<div id="toc" class="'+o.$attr("toc-class","toc")+`">
<div id="toctitle">`+o.$attr("toc-title")+`</div>
`+o.$converter().$convert(o,"outline")+`
</div>`),i(o["$attr?"]("manpurpose"))&&me["$<<"](a.$generate_manname_section(o))):(i(o["$header?"]())&&(i(o.$notitle())||me["$<<"]("<h1>"+o.$header().$title()+"</h1>"),sr=[],tr=1,t(o.$authors(),"each",[],(ne=function(ir){var pr=ne.$$s||this;return ir==null&&(ir=n),sr["$<<"]('<span id="author'+function(){return i(O(tr,1))?tr:""}()+'" class="author">'+o.$sub_replacements(ir.$name())+"</span>"+E),i(ir.$email())&&sr["$<<"]('<span id="email'+function(){return i(O(tr,1))?tr:""}()+'" class="email">'+o.$sub_macros(ir.$email())+"</span>"+E),tr=xe(tr,1)},ne.$$s=a,ne.$$arity=1,ne)),i(o["$attr?"]("revnumber"))&&sr["$<<"]('<span id="revnumber">'+(i(H=o.$attr("version-label"))?H:"").$downcase()+" "+o.$attr("revnumber")+function(){return i(o["$attr?"]("revdate"))?",":""}()+"</span>"),i(o["$attr?"]("revdate"))&&sr["$<<"]('<span id="revdate">'+o.$attr("revdate")+"</span>"),i(o["$attr?"]("revremark"))&&sr["$<<"](""+E+'<span id="revremark">'+o.$attr("revremark")+"</span>"),i(sr["$empty?"]())||(me["$<<"]('<div class="details">'),me.$concat(sr),me["$<<"]("</div>"))),i(i(H=i(Y=rr)?o["$attr?"]("toc"):Y)?o["$attr?"]("toc-placement","auto"):H)&&me["$<<"]('<div id="toc" class="'+o.$attr("toc-class","toc")+`">
<div id="toctitle">`+o.$attr("toc-title")+`</div>
`+o.$converter().$convert(o,"outline")+`
</div>`)),me["$<<"]("</div>")),me["$<<"]('<div id="content"'+Ae+`>
`+o.$content()+`
</div>`),i(i(H=o["$footnotes?"]())?o["$attr?"]("nofootnotes")["$!"]():H)&&(me["$<<"]('<div id="footnotes"'+Ae+`>
<hr`+T+">"),t(o.$footnotes(),"each",[],(k=function(ir){var pr=k.$$s||this;return ir==null&&(ir=n),me["$<<"]('<div class="footnote" id="_footnotedef_'+ir.$index()+`">
<a href="#_footnoteref_`+ir.$index()+'">'+ir.$index()+"</a>. "+ir.$text()+`
</div>`)},k.$$s=a,k.$$arity=1,k)),me["$<<"]("</div>")),i(o.$nofooter())||(me["$<<"]('<div id="footer"'+Ae+">"),me["$<<"]('<div id="footer-text">'),i(o["$attr?"]("revnumber"))&&me["$<<"](""+o.$attr("version-label")+" "+o.$attr("revnumber")+E),i(i(H=o["$attr?"]("last-update-label"))?o["$attr?"]("reproducible")["$!"]():H)&&me["$<<"](""+o.$attr("last-update-label")+" "+o.$attr("docdatetime")),me["$<<"]("</div>"),me["$<<"]("</div>")),i(Lt)&&(i(Lt["$docinfo?"]("head"))?(hr=[Yt,Lt.$docinfo("head",o,s(["cdn_base_url","linkcss","self_closing_tag_slash"],{cdn_base_url:te,linkcss:X,self_closing_tag_slash:T}))],t(me,"[]=",e.to_a(hr)),hr[u(hr.length,1)]):me.$delete_at(Yt),i(Lt["$docinfo?"]("footer"))&&me["$<<"](Lt.$docinfo("footer",o,s(["cdn_base_url","linkcss","self_closing_tag_slash"],{cdn_base_url:te,linkcss:X,self_closing_tag_slash:T})))),i(o["$attr?"]("stem"))&&(fr=o.$attr("eqnums","none"),i(fr["$empty?"]())&&(fr="AMS"),mr=' equationNumbers: { autoNumber: "'+fr+'" } ',me["$<<"](`<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [`+W(L,"INLINE_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+`],
    displayMath: [`+W(L,"BLOCK_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+`],
    ignoreClass: "nostem|nolatexmath"
  },
  asciimath2jax: {
    delimiters: [`+W(L,"BLOCK_MATH_DELIMITERS")["$[]"]("asciimath").$inspect()+`],
    ignoreClass: "nostem|noasciimath"
  },
  TeX: {`+mr+`}
})
MathJax.Hub.Register.StartupHook("AsciiMath Jax Ready", function () {
  MathJax.InputJax.AsciiMath.postfilterHooks.Add(function (data, node) {
    if ((node = data.script.parentNode) && (node = node.parentNode) && node.classList.contains("stemblock")) {
      data.math.root.display = "block"
    }
    return data
  })
})
<\/script>
<script src="`+te+"/mathjax/"+W(L,"MATHJAX_VERSION")+'/MathJax.js?config=TeX-MML-AM_HTMLorMML"><\/script>')),i((_t=o.$docinfo("footer"))["$empty?"]())||me["$<<"](_t),me["$<<"]("</body>"),me["$<<"]("</html>"),me.$join(W(L,"LF"))},Ie.$$arity=1),e.def(f,"$convert_embedded",ue=function(o){var H,Y,Q,ne,k=this,a=n,E=n,T=n;return a=[],o.$doctype()["$=="]("manpage")?(i(o.$notitle())||(E=function(){return i(o.$id())?' id="'+o.$id()+'"':""}(),a["$<<"]("<h1"+E+">"+o.$doctitle()+" Manual Page</h1>")),i(o["$attr?"]("manpurpose"))&&a["$<<"](k.$generate_manname_section(o))):i(i(H=o["$header?"]())?o.$notitle()["$!"]():H)&&(E=function(){return i(o.$id())?' id="'+o.$id()+'"':""}(),a["$<<"]("<h1"+E+">"+o.$header().$title()+"</h1>")),i(i(H=i(Y=i(Q=o["$sections?"]())?o["$attr?"]("toc"):Q)?(T=o.$attr("toc-placement"))["$!="]("macro"):Y)?T["$!="]("preamble"):H)&&a["$<<"](`<div id="toc" class="toc">
<div id="toctitle">`+o.$attr("toc-title")+`</div>
`+o.$converter().$convert(o,"outline")+`
</div>`),a["$<<"](o.$content()),i(i(H=o["$footnotes?"]())?o["$attr?"]("nofootnotes")["$!"]():H)&&(a["$<<"](`<div id="footnotes">
<hr`+k.void_element_slash+">"),t(o.$footnotes(),"each",[],(ne=function(M){var te=ne.$$s||this;return M==null&&(M=n),a["$<<"]('<div class="footnote" id="_footnotedef_'+M.$index()+`">
<a href="#_footnoteref_`+M.$index()+'">'+M.$index()+"</a>. "+M.$text()+`
</div>`)},ne.$$s=k,ne.$$arity=1,ne)),a["$<<"]("</div>")),a.$join(W(L,"LF"))},ue.$$arity=1),e.def(f,"$convert_outline",S=function(o,H){var Y,Q,ne,k=this,a=n,E=n,T=n,M=n;return H==null&&(H=s([],{})),i(o["$sections?"]())?(a=i(Y=H["$[]"]("sectnumlevels"))?Y:(i(Q=o.$document().$attributes()["$[]"]("sectnumlevels"))?Q:3).$to_i(),E=i(Y=H["$[]"]("toclevels"))?Y:(i(Q=o.$document().$attributes()["$[]"]("toclevels"))?Q:2).$to_i(),T=o.$sections(),M=['<ul class="sectlevel'+T["$[]"](0).$level()+'">'],t(T,"each",[],(ne=function(te){var X=ne.$$s||this,Ae,me=n,mt=n,dt=n,He=n,kt=n;return te==null&&(te=n),me=te.$level(),i(te.$caption())?mt=te.$captioned_title():i(i(Ae=te.$numbered())?Xe(me,a):Ae)?i(i(Ae=ie(me,2))?o.$document().$doctype()["$=="]("book"):Ae)?(dt=te.$sectname(),"chapter"["$==="](dt)?mt=""+function(){return i(He=o.$document().$attributes()["$[]"]("chapter-signifier"))?""+He+" ":""}()+te.$sectnum()+" "+te.$title():"part"["$==="](dt)?mt=""+function(){return i(He=o.$document().$attributes()["$[]"]("part-signifier"))?""+He+" ":""}()+te.$sectnum(n,":")+" "+te.$title():mt=""+te.$sectnum()+" "+te.$title()):mt=""+te.$sectnum()+" "+te.$title():mt=te.$title(),i(mt["$include?"]("<a"))&&(mt=mt.$gsub(W(L,"DropAnchorRx"),"")),i(i(Ae=ie(me,E))?kt=X.$convert_outline(te,s(["toclevels","sectnumlevels"],{toclevels:E,sectnumlevels:a})):Ae)?(M["$<<"]('<li><a href="#'+te.$id()+'">'+mt+"</a>"),M["$<<"](kt),M["$<<"]("</li>")):M["$<<"]('<li><a href="#'+te.$id()+'">'+mt+"</a></li>")},ne.$$s=k,ne.$$arity=1,ne)),M["$<<"]("</ul>"),M.$join(W(L,"LF"))):n},S.$$arity=-2),e.def(f,"$convert_section",d=function(o){var H,Y,Q=this,ne=n,k=n,a=n,E=n,T=n,M=n,te=n,X=n;return ne=o.$document().$attributes(),k=o.$level(),i(o.$caption())?a=o.$captioned_title():i(i(H=o.$numbered())?Xe(k,(i(Y=ne["$[]"]("sectnumlevels"))?Y:3).$to_i()):H)?i(i(H=ie(k,2))?o.$document().$doctype()["$=="]("book"):H)?(E=o.$sectname(),"chapter"["$==="](E)?a=""+function(){return i(T=ne["$[]"]("chapter-signifier"))?""+T+" ":""}()+o.$sectnum()+" "+o.$title():"part"["$==="](E)?a=""+function(){return i(T=ne["$[]"]("part-signifier"))?""+T+" ":""}()+o.$sectnum(n,":")+" "+o.$title():a=""+o.$sectnum()+" "+o.$title()):a=""+o.$sectnum()+" "+o.$title():a=o.$title(),i(o.$id())?(M=' id="'+(te=o.$id())+'"',i(ne["$[]"]("sectlinks"))&&(a='<a class="link" href="#'+te+'">'+a+"</a>"),i(ne["$[]"]("sectanchors"))&&(ne["$[]"]("sectanchors")["$=="]("after")?a=""+a+'<a class="anchor" href="#'+te+'"></a>':a='<a class="anchor" href="#'+te+'"></a>'+a)):M="",k["$=="](0)?"<h1"+M+' class="sect0'+function(){return i(X=o.$role())?" "+X:""}()+'">'+a+`</h1>
`+o.$content():'<div class="sect'+k+function(){return i(X=o.$role())?" "+X:""}()+`">
<h`+xe(k,1)+M+">"+a+"</h"+xe(k,1)+`>
`+function(){return k["$=="](1)?`<div class="sectionbody">
`+o.$content()+`
</div>`:o.$content()}()+`
</div>`},d.$$arity=1),e.def(f,"$convert_admonition",m=function(o){var H,Y=this,Q=n,ne=n,k=n,a=n,E=n;return Q=function(){return i(o.$id())?' id="'+o.$id()+'"':""}(),ne=o.$attr("name"),k=function(){return i(o["$title?"]())?'<div class="title">'+o.$title()+`</div>
`:""}(),i(o.$document()["$attr?"]("icons"))?i(i(H=o.$document()["$attr?"]("icons","font"))?o["$attr?"]("icon")["$!"]():H)?a='<i class="fa icon-'+ne+'" title="'+o.$attr("textlabel")+'"></i>':a='<img src="'+o.$icon_uri(ne)+'" alt="'+o.$attr("textlabel")+'"'+Y.void_element_slash+">":a='<div class="title">'+o.$attr("textlabel")+"</div>","<div"+Q+' class="admonitionblock '+ne+function(){return i(E=o.$role())?" "+E:""}()+`">
<table>
<tr>
<td class="icon">
`+a+`
</td>
<td class="content">
`+k+o.$content()+`
</td>
</tr>
</table>
</div>`},m.$$arity=1),e.def(f,"$convert_audio",p=function(o){var H,Y=this,Q=n,ne=n,k=n,a=n,E=n,T=n,M=n,te=n;return Q=Y.xml_mode,ne=function(){return i(o.$id())?' id="'+o.$id()+'"':""}(),k=["audioblock",o.$role()].$compact(),a=' class="'+k.$join(" ")+'"',E=function(){return i(o["$title?"]())?'<div class="title">'+o.$title()+`</div>
`:""}(),T=o.$attr("start"),M=o.$attr("end"),te=function(){return i(i(H=T)?H:M)?"#t="+(i(H=T)?H:"")+function(){return i(M)?","+M:""}():""}(),"<div"+ne+a+`>
`+E+`<div class="content">
<audio src="`+o.$media_uri(o.$attr("target"))+te+'"'+function(){return i(o["$option?"]("autoplay"))?Y.$append_boolean_attribute("autoplay",Q):""}()+function(){return i(o["$option?"]("nocontrols"))?"":Y.$append_boolean_attribute("controls",Q)}()+function(){return i(o["$option?"]("loop"))?Y.$append_boolean_attribute("loop",Q):""}()+`>
Your browser does not support the audio tag.
</audio>
</div>
</div>`},p.$$arity=1),e.def(f,"$convert_colist",z=function(o){var H,Y,Q,ne=this,k=n,a=n,E=n,T=n,M=n,te=n;return k=[],a=function(){return i(o.$id())?' id="'+o.$id()+'"':""}(),E=["colist",o.$style(),o.$role()].$compact(),T=' class="'+E.$join(" ")+'"',k["$<<"]("<div"+a+T+">"),i(o["$title?"]())&&k["$<<"]('<div class="title">'+o.$title()+"</div>"),i(o.$document()["$attr?"]("icons"))?(k["$<<"]("<table>"),H=[o.$document()["$attr?"]("icons","font"),0],M=H[0],te=H[1],t(o.$items(),"each",[],(Y=function(X){var Ae=Y.$$s||this,me=n;return Ae.void_element_slash==null&&(Ae.void_element_slash=n),X==null&&(X=n),te=xe(te,1),i(M)?me='<i class="conum" data-value="'+te+'"></i><b>'+te+"</b>":me='<img src="'+o.$icon_uri("callouts/"+te)+'" alt="'+te+'"'+Ae.void_element_slash+">",k["$<<"](`<tr>
<td>`+me+`</td>
<td>`+X.$text()+function(){return i(X["$blocks?"]())?xe(W(L,"LF"),X.$content()):""}()+`</td>
</tr>`)},Y.$$s=ne,Y.$$arity=1,Y)),k["$<<"]("</table>")):(k["$<<"]("<ol>"),t(o.$items(),"each",[],(Q=function(X){var Ae=Q.$$s||this;return X==null&&(X=n),k["$<<"](`<li>
<p>`+X.$text()+"</p>"+function(){return i(X["$blocks?"]())?xe(W(L,"LF"),X.$content()):""}()+`
</li>`)},Q.$$s=ne,Q.$$arity=1,Q)),k["$<<"]("</ol>")),k["$<<"]("</div>"),k.$join(W(L,"LF"))},z.$$arity=1),e.def(f,"$convert_dlist",Z=function(o){var H,Y,Q,ne,k=this,a=n,E=n,T=n,M=n,te=n,X=n,Ae=n,me=n;return a=[],E=function(){return i(o.$id())?' id="'+o.$id()+'"':""}(),T=o.$style(),"qanda"["$==="](T)?M=["qlist","qanda",o.$role()]:"horizontal"["$==="](T)?M=["hdlist",o.$role()]:M=["dlist",o.$style(),o.$role()],te=' class="'+M.$compact().$join(" ")+'"',a["$<<"]("<div"+E+te+">"),i(o["$title?"]())&&a["$<<"]('<div class="title">'+o.$title()+"</div>"),T=o.$style(),"qanda"["$==="](T)?(a["$<<"]("<ol>"),t(o.$items(),"each",[],(H=function(mt,dt){var He=H.$$s||this,kt;return mt==null&&(mt=n),dt==null&&(dt=n),a["$<<"]("<li>"),t(mt,"each",[],(kt=function($t){var Tt=kt.$$s||this;return $t==null&&($t=n),a["$<<"]("<p><em>"+$t.$text()+"</em></p>")},kt.$$s=He,kt.$$arity=1,kt)),i(dt)&&(i(dt["$text?"]())&&a["$<<"]("<p>"+dt.$text()+"</p>"),i(dt["$blocks?"]())&&a["$<<"](dt.$content())),a["$<<"]("</li>")},H.$$s=k,H.$$arity=2,H)),a["$<<"]("</ol>")):"horizontal"["$==="](T)?(X=k.void_element_slash,a["$<<"]("<table>"),i(i(Y=o["$attr?"]("labelwidth"))?Y:o["$attr?"]("itemwidth"))&&(a["$<<"]("<colgroup>"),Ae=function(){return i(o["$attr?"]("labelwidth"))?' style="width: '+o.$attr("labelwidth").$chomp("%")+'%;"':""}(),a["$<<"]("<col"+Ae+X+">"),Ae=function(){return i(o["$attr?"]("itemwidth"))?' style="width: '+o.$attr("itemwidth").$chomp("%")+'%;"':""}(),a["$<<"]("<col"+Ae+X+">"),a["$<<"]("</colgroup>")),t(o.$items(),"each",[],(Q=function(mt,dt){var He=Q.$$s||this,kt,$t=n;return mt==null&&(mt=n),dt==null&&(dt=n),a["$<<"]("<tr>"),a["$<<"]('<td class="hdlist1'+function(){return i(o["$option?"]("strong"))?" strong":""}()+'">'),$t=!0,t(mt,"each",[],(kt=function(Tt){var rt=kt.$$s||this;return Tt==null&&(Tt=n),i($t)||a["$<<"]("<br"+X+">"),a["$<<"](Tt.$text()),$t=n},kt.$$s=He,kt.$$arity=1,kt)),a["$<<"]("</td>"),a["$<<"]('<td class="hdlist2">'),i(dt)&&(i(dt["$text?"]())&&a["$<<"]("<p>"+dt.$text()+"</p>"),i(dt["$blocks?"]())&&a["$<<"](dt.$content())),a["$<<"]("</td>"),a["$<<"]("</tr>")},Q.$$s=k,Q.$$arity=2,Q)),a["$<<"]("</table>")):(a["$<<"]("<dl>"),me=function(){return i(o.$style())?"":' class="hdlist1"'}(),t(o.$items(),"each",[],(ne=function(mt,dt){var He=ne.$$s||this,kt;return mt==null&&(mt=n),dt==null&&(dt=n),t(mt,"each",[],(kt=function($t){var Tt=kt.$$s||this;return $t==null&&($t=n),a["$<<"]("<dt"+me+">"+$t.$text()+"</dt>")},kt.$$s=He,kt.$$arity=1,kt)),i(dt)?(a["$<<"]("<dd>"),i(dt["$text?"]())&&a["$<<"]("<p>"+dt.$text()+"</p>"),i(dt["$blocks?"]())&&a["$<<"](dt.$content()),a["$<<"]("</dd>")):n},ne.$$s=k,ne.$$arity=2,ne)),a["$<<"]("</dl>")),a["$<<"]("</div>"),a.$join(W(L,"LF"))},Z.$$arity=1),e.def(f,"$convert_example",re=function(o){var H=this,Y=n,Q=n,ne=n,k=n,a=n;return Y=function(){return i(o.$id())?' id="'+o.$id()+'"':""}(),i(o["$option?"]("collapsible"))?(Q=function(){return i(o.$role())?' class="'+o.$role()+'"':""}(),ne=function(){return i(o["$title?"]())?'<summary class="title">'+o.$title()+"</summary>":'<summary class="title">Details</summary>'}(),"<details"+Y+Q+function(){return i(o["$option?"]("open"))?" open":""}()+`>
`+ne+`
<div class="content">
`+o.$content()+`
</div>
</details>`):(k=function(){return i(o["$title?"]())?'<div class="title">'+o.$captioned_title()+`</div>
`:""}(),"<div"+Y+' class="exampleblock'+function(){return i(a=o.$role())?" "+a:""}()+`">
`+k+`<div class="content">
`+o.$content()+`
</div>
</div>`)},re.$$arity=1),e.def(f,"$convert_floating_title",ye=function(o){var H=this,Y=n,Q=n,ne=n;return Y="h"+xe(o.$level(),1),Q=function(){return i(o.$id())?' id="'+o.$id()+'"':""}(),ne=[o.$style(),o.$role()].$compact(),"<"+Y+Q+' class="'+ne.$join(" ")+'">'+o.$title()+"</"+Y+">"},ye.$$arity=1),e.def(f,"$convert_image",q=function(o){var H,Y,Q=this,ne=n,k=n,a=n,E=n,T=n,M=n,te=n,X=n,Ae=n;return ne=o.$attr("target"),k=function(){return i(o["$attr?"]("width"))?' width="'+o.$attr("width")+'"':""}(),a=function(){return i(o["$attr?"]("height"))?' height="'+o.$attr("height")+'"':""}(),i(i(H=i(Y=o["$attr?"]("format","svg"))?Y:ne["$include?"](".svg"))?ie(o.$document().$safe(),y(W(L,"SafeMode"),"SECURE")):H)?i(o["$option?"]("inline"))?E=i(H=Q.$read_svg_contents(o,ne))?H:'<span class="alt">'+o.$alt()+"</span>":i(o["$option?"]("interactive"))?(T=function(){return i(o["$attr?"]("fallback"))?'<img src="'+o.$image_uri(o.$attr("fallback"))+'" alt="'+Q.$encode_attribute_value(o.$alt())+'"'+k+a+Q.void_element_slash+">":'<span class="alt">'+o.$alt()+"</span>"}(),E='<object type="image/svg+xml" data="'+o.$image_uri(ne)+'"'+k+a+">"+T+"</object>"):E='<img src="'+o.$image_uri(ne)+'" alt="'+Q.$encode_attribute_value(o.$alt())+'"'+k+a+Q.void_element_slash+">":E='<img src="'+o.$image_uri(ne)+'" alt="'+Q.$encode_attribute_value(o.$alt())+'"'+k+a+Q.void_element_slash+">",i(o["$attr?"]("link"))&&(E='<a class="image" href="'+o.$attr("link")+'"'+Q.$append_link_constraint_attrs(o).$join()+">"+E+"</a>"),M=function(){return i(o.$id())?' id="'+o.$id()+'"':""}(),te=["imageblock"],i(o["$attr?"]("float"))&&te["$<<"](o.$attr("float")),i(o["$attr?"]("align"))&&te["$<<"]("text-"+o.$attr("align")),i(o.$role())&&te["$<<"](o.$role()),X=' class="'+te.$join(" ")+'"',Ae=function(){return i(o["$title?"]())?`
<div class="title">`+o.$captioned_title()+"</div>":""}(),"<div"+M+X+`>
<div class="content">
`+E+`
</div>`+Ae+`
</div>`},q.$$arity=1),e.def(f,"$convert_listing",ee=function(o){var H,Y=this,Q=n,ne=n,k=n,a=n,E=n,T=n,M=n,te=n,X=n,Ae=n,me=n;return Q=i(H=o["$option?"]("nowrap"))?H:o.$document()["$attr?"]("prewrap")["$!"](),o.$style()["$=="]("source")?(ne=o.$attr("language"),i(k=o.$document().$syntax_highlighter())?(a=function(){return i(k["$highlight?"]())?s(["css_mode","style"],{css_mode:(i(H=(E=o.$document().$attributes())["$[]"](""+k.$name()+"-css"))?H:"class").$to_sym(),style:E["$[]"](""+k.$name()+"-style")}):s([],{})}(),T=["nowrap",Q],t(a,"[]=",e.to_a(T)),T[u(T.length,1)]):(M='<pre class="highlight'+function(){return i(Q)?" nowrap":""}()+'"><code'+function(){return i(ne)?' class="language-'+ne+'" data-lang="'+ne+'"':""}()+">",te="</code></pre>")):(M="<pre"+function(){return i(Q)?' class="nowrap"':""}()+">",te="</pre>"),X=function(){return i(o.$id())?' id="'+o.$id()+'"':""}(),Ae=function(){return i(o["$title?"]())?'<div class="title">'+o.$captioned_title()+`</div>
`:""}(),"<div"+X+' class="listingblock'+function(){return i(me=o.$role())?" "+me:""}()+`">
`+Ae+`<div class="content">
`+function(){return i(k)?k.$format(o,ne,a):xe(xe(M,i(H=o.$content())?H:""),te)}()+`
</div>
</div>`},ee.$$arity=1),e.def(f,"$convert_literal",V=function(o){var H,Y=this,Q=n,ne=n,k=n,a=n;return Q=function(){return i(o.$id())?' id="'+o.$id()+'"':""}(),ne=function(){return i(o["$title?"]())?'<div class="title">'+o.$title()+`</div>
`:""}(),k=i(H=o.$document()["$attr?"]("prewrap")["$!"]())?H:o["$option?"]("nowrap"),"<div"+Q+' class="literalblock'+function(){return i(a=o.$role())?" "+a:""}()+`">
`+ne+`<div class="content">
<pre`+function(){return i(k)?' class="nowrap"':""}()+">"+o.$content()+`</pre>
</div>
</div>`},V.$$arity=1),e.def(f,"$convert_stem",_e=function(o){var H,Y,Q,ne=this,k=n,a=n,E=n,T=n,M=n,te=n,X=n,Ae=n;return k=function(){return i(o.$id())?' id="'+o.$id()+'"':""}(),a=function(){return i(o["$title?"]())?'<div class="title">'+o.$title()+`</div>
`:""}(),Y=W(L,"BLOCK_MATH_DELIMITERS")["$[]"](E=o.$style().$to_sym()),H=e.to_ary(Y),T=H[0]==null?n:H[0],M=H[1]==null?n:H[1],i(te=o.$content())?(i((H=E["$=="]("asciimath"))?te["$include?"](W(L,"LF")):E["$=="]("asciimath"))&&(X=""+W(L,"LF")+"<br"+ne.void_element_slash+">",te=t(te,"gsub",[W(L,"StemBreakRx")],(Q=function(){var me=Q.$$s||this,mt;return""+M+A(X,u(((mt=j["~"])===n?n:mt["$[]"](0)).$count(W(L,"LF")),1))+W(L,"LF")+T},Q.$$s=ne,Q.$$arity=0,Q))),i(i(H=te["$start_with?"](T))?te["$end_with?"](M):H)||(te=""+T+te+M)):te="","<div"+k+' class="stemblock'+function(){return i(Ae=o.$role())?" "+Ae:""}()+`">
`+a+`<div class="content">
`+te+`
</div>
</div>`},_e.$$arity=1),e.def(f,"$convert_olist",Me=function(o){var H,Y=this,Q=n,ne=n,k=n,a=n,E=n,T=n,M=n,te=n;return Q=[],ne=function(){return i(o.$id())?' id="'+o.$id()+'"':""}(),k=["olist",o.$style(),o.$role()].$compact(),a=' class="'+k.$join(" ")+'"',Q["$<<"]("<div"+ne+a+">"),i(o["$title?"]())&&Q["$<<"]('<div class="title">'+o.$title()+"</div>"),E=function(){return i(T=o.$list_marker_keyword())?' type="'+T+'"':""}(),M=function(){return i(o["$attr?"]("start"))?' start="'+o.$attr("start")+'"':""}(),te=function(){return i(o["$option?"]("reversed"))?Y.$append_boolean_attribute("reversed",Y.xml_mode):""}(),Q["$<<"]('<ol class="'+o.$style()+'"'+E+M+te+">"),t(o.$items(),"each",[],(H=function(X){var Ae=H.$$s||this;return X==null&&(X=n),i(X.$id())?Q["$<<"]('<li id="'+X.$id()+'"'+function(){return i(X.$role())?' class="'+X.$role()+'"':""}()+">"):i(X.$role())?Q["$<<"]('<li class="'+X.$role()+'">'):Q["$<<"]("<li>"),Q["$<<"]("<p>"+X.$text()+"</p>"),i(X["$blocks?"]())&&Q["$<<"](X.$content()),Q["$<<"]("</li>")},H.$$s=Y,H.$$arity=1,H)),Q["$<<"]("</ol>"),Q["$<<"]("</div>"),Q.$join(W(L,"LF"))},Me.$$arity=1),e.def(f,"$convert_open",Te=function(o){var H,Y,Q,ne=this,k=n,a=n,E=n,T=n;return(k=o.$style())["$=="]("abstract")?i((H=o.$parent()["$=="](o.$document()))?o.$document().$doctype()["$=="]("book"):o.$parent()["$=="](o.$document()))?(ne.$logger().$warn("abstract block cannot be used in a document without a title when doctype is book. Excluding block content."),""):(a=function(){return i(o.$id())?' id="'+o.$id()+'"':""}(),E=function(){return i(o["$title?"]())?'<div class="title">'+o.$title()+`</div>
`:""}(),"<div"+a+' class="quoteblock abstract'+function(){return i(T=o.$role())?" "+T:""}()+`">
`+E+`<blockquote>
`+o.$content()+`
</blockquote>
</div>`):i((H=k["$=="]("partintro"))?i(Y=i(Q=O(o.$level(),0))?Q:o.$parent().$context()["$!="]("section"))?Y:o.$document().$doctype()["$!="]("book"):k["$=="]("partintro"))?(ne.$logger().$error("partintro block can only be used when doctype is book and must be a child of a book part. Excluding block content."),""):(a=function(){return i(o.$id())?' id="'+o.$id()+'"':""}(),E=function(){return i(o["$title?"]())?'<div class="title">'+o.$title()+`</div>
`:""}(),"<div"+a+' class="openblock'+function(){return i(i(H=k)?k["$!="]("open"):H)?" "+k:""}()+function(){return i(T=o.$role())?" "+T:""}()+`">
`+E+`<div class="content">
`+o.$content()+`
</div>
</div>`)},Te.$$arity=1),e.def(f,"$convert_page_break",et=function(o){var H=this;return'<div style="page-break-after: always;"></div>'},et.$$arity=1),e.def(f,"$convert_paragraph",ct=function(o){var H=this,Y=n;return i(o.$role())?Y=""+function(){return i(o.$id())?' id="'+o.$id()+'"':""}()+' class="paragraph '+o.$role()+'"':i(o.$id())?Y=' id="'+o.$id()+'" class="paragraph"':Y=' class="paragraph"',i(o["$title?"]())?"<div"+Y+`>
<div class="title">`+o.$title()+`</div>
<p>`+o.$content()+`</p>
</div>`:"<div"+Y+`>
<p>`+o.$content()+`</p>
</div>`},ct.$$arity=1),e.alias(f,"convert_pass","content_only"),e.def(f,"$convert_preamble",it=function(o){var H,Y,Q=this,ne=n,k=n;return i(i(H=i(Y=(ne=o.$document())["$attr?"]("toc-placement","preamble"))?ne["$sections?"]():Y)?ne["$attr?"]("toc"):H)?k=`
<div id="toc" class="`+ne.$attr("toc-class","toc")+`">
<div id="toctitle">`+ne.$attr("toc-title")+`</div>
`+ne.$converter().$convert(ne,"outline")+`
</div>`:k="",`<div id="preamble">
<div class="sectionbody">
`+o.$content()+`
</div>`+k+`
</div>`},it.$$arity=1),e.def(f,"$convert_quote",Ne=function(o){var H,Y=this,Q=n,ne=n,k=n,a=n,E=n,T=n,M=n,te=n,X=n;return Q=function(){return i(o.$id())?' id="'+o.$id()+'"':""}(),ne=["quoteblock",o.$role()].$compact(),k=' class="'+ne.$join(" ")+'"',a=function(){return i(o["$title?"]())?`
<div class="title">`+o.$title()+"</div>":""}(),E=function(){return i(o["$attr?"]("attribution"))?o.$attr("attribution"):n}(),T=function(){return i(o["$attr?"]("citetitle"))?o.$attr("citetitle"):n}(),i(i(H=E)?H:T)?(M=function(){return i(T)?"<cite>"+T+"</cite>":""}(),te=function(){return i(E)?"&#8212; "+E+function(){return i(T)?"<br"+Y.void_element_slash+`>
`:""}():""}(),X=`
<div class="attribution">
`+te+M+`
</div>`):X="","<div"+Q+k+">"+a+`
<blockquote>
`+o.$content()+`
</blockquote>`+X+`
</div>`},Ne.$$arity=1),e.def(f,"$convert_thematic_break",Se=function(o){var H=this;return"<hr"+H.void_element_slash+">"},Se.$$arity=1),e.def(f,"$convert_sidebar",We=function(o){var H=this,Y=n,Q=n,ne=n;return Y=function(){return i(o.$id())?' id="'+o.$id()+'"':""}(),Q=function(){return i(o["$title?"]())?'<div class="title">'+o.$title()+`</div>
`:""}(),"<div"+Y+' class="sidebarblock'+function(){return i(ne=o.$role())?" "+ne:""}()+`">
<div class="content">
`+Q+o.$content()+`
</div>
</div>`},We.$$arity=1),e.def(f,"$convert_table",tt=function(o){var H,Y,Q,ne=this,k=n,a=n,E=n,T=n,M=n,te=n,X=n,Ae=n,me=n,mt=n,dt=n;return k=[],a=function(){return i(o.$id())?' id="'+o.$id()+'"':""}(),(E=o.$attr("frame","all","table-frame"))["$=="]("topbot")&&(E="ends"),T=["tableblock","frame-"+E,"grid-"+o.$attr("grid","all","table-grid")],i(M=o.$attr("stripes",n,"table-stripes"))&&T["$<<"]("stripes-"+M),te="",i(i(H=X=o["$option?"]("autowidth"))?o["$attr?"]("width")["$!"]():H)?T["$<<"]("fit-content"):(Ae=o.$attr("tablepcwidth"))["$=="](100)?T["$<<"]("stretch"):te=' style="width: '+Ae+'%;"',i(o["$attr?"]("float"))&&T["$<<"](o.$attr("float")),i(me=o.$role())&&T["$<<"](me),mt=' class="'+T.$join(" ")+'"',k["$<<"]("<table"+a+mt+te+">"),i(o["$title?"]())&&k["$<<"]('<caption class="title">'+o.$captioned_title()+"</caption>"),i(O(o.$attr("rowcount"),0))&&(dt=ne.void_element_slash,k["$<<"]("<colgroup>"),i(X)?k=xe(k,W(L,"Array").$new(o.$columns().$size(),"<col"+dt+">")):t(o.$columns(),"each",[],(Y=function(He){var kt=Y.$$s||this;return He==null&&(He=n),k["$<<"](function(){return i(He["$option?"]("autowidth"))?"<col"+dt+">":'<col style="width: '+He.$attr("colpcwidth")+'%;"'+dt+">"}())},Y.$$s=ne,Y.$$arity=1,Y)),k["$<<"]("</colgroup>"),t(o.$rows().$to_h(),"each",[],(Q=function(He,kt){var $t=Q.$$s||this,Tt;return He==null&&(He=n),kt==null&&(kt=n),i(kt["$empty?"]())?n:(k["$<<"]("<t"+He+">"),t(kt,"each",[],(Tt=function(rt){var Lt=Tt.$$s||this,Yt;return rt==null&&(rt=n),k["$<<"]("<tr>"),t(rt,"each",[],(Yt=function(_t){var Zt=Yt.$$s||this,rr,nr=n,sr=n,tr=n,hr=n,fr=n,mr=n,ir=n;return _t==null&&(_t=n),He["$=="]("head")?nr=_t.$text():(sr=_t.$style(),"asciidoc"["$==="](sr)?nr='<div class="content">'+_t.$content()+"</div>":"literal"["$==="](sr)?nr='<div class="literal"><pre>'+_t.$text()+"</pre></div>":nr=function(){return i((nr=_t.$content())["$empty?"]())?"":'<p class="tableblock">'+nr.$join(`</p>
<p class="tableblock">`)+"</p>"}()),tr=function(){return i(i(rr=He["$=="]("head"))?rr:_t.$style()["$=="]("header"))?"th":"td"}(),hr=' class="tableblock halign-'+_t.$attr("halign")+" valign-"+_t.$attr("valign")+'"',fr=function(){return i(_t.$colspan())?' colspan="'+_t.$colspan()+'"':""}(),mr=function(){return i(_t.$rowspan())?' rowspan="'+_t.$rowspan()+'"':""}(),ir=function(){return i(o.$document()["$attr?"]("cellbgcolor"))?' style="background-color: '+o.$document().$attr("cellbgcolor")+';"':""}(),k["$<<"]("<"+tr+hr+fr+mr+ir+">"+nr+"</"+tr+">")},Yt.$$s=Lt,Yt.$$arity=1,Yt)),k["$<<"]("</tr>")},Tt.$$s=$t,Tt.$$arity=1,Tt)),k["$<<"]("</t"+He+">"))},Q.$$s=ne,Q.$$arity=2,Q))),k["$<<"]("</table>"),k.$join(W(L,"LF"))},tt.$$arity=1),e.def(f,"$convert_toc",Qe=function(o){var H,Y,Q=this,ne=n,k=n,a=n,E=n,T=n,M=n;return i(i(H=i(Y=(ne=o.$document())["$attr?"]("toc-placement","macro"))?ne["$sections?"]():Y)?ne["$attr?"]("toc"):H)?(i(o.$id())?(k=' id="'+o.$id()+'"',a=' id="'+o.$id()+'title"'):(k=' id="toc"',a=' id="toctitle"'),E=function(){return i(o["$title?"]())?o.$title():ne.$attr("toc-title")}(),T=function(){return i(o["$attr?"]("levels"))?o.$attr("levels").$to_i():n}(),M=function(){return i(o["$role?"]())?o.$role():ne.$attr("toc-class","toc")}(),"<div"+k+' class="'+M+`">
<div`+a+' class="title">'+E+`</div>
`+ne.$converter().$convert(ne,"outline",s(["toclevels"],{toclevels:T}))+`
</div>`):"<!-- toc disabled -->"},Qe.$$arity=1),e.def(f,"$convert_ulist",nt=function(o){var H,Y=this,Q=n,ne=n,k=n,a=n,E=n,T=n,M=n;return Q=[],ne=function(){return i(o.$id())?' id="'+o.$id()+'"':""}(),k=["ulist",o.$style(),o.$role()].$compact(),a=E="",i(T=o["$option?"]("checklist"))?(k.$unshift(k.$shift(),"checklist"),M=' class="checklist"',i(o["$option?"]("interactive"))?i(Y.xml_mode)?(a='<input type="checkbox" data-item-complete="1" checked="checked"/> ',E='<input type="checkbox" data-item-complete="0"/> '):(a='<input type="checkbox" data-item-complete="1" checked> ',E='<input type="checkbox" data-item-complete="0"> '):i(o.$document()["$attr?"]("icons","font"))?(a='<i class="fa fa-check-square-o"></i> ',E='<i class="fa fa-square-o"></i> '):(a="&#10003; ",E="&#10063; ")):M=function(){return i(o.$style())?' class="'+o.$style()+'"':""}(),Q["$<<"]("<div"+ne+' class="'+k.$join(" ")+'">'),i(o["$title?"]())&&Q["$<<"]('<div class="title">'+o.$title()+"</div>"),Q["$<<"]("<ul"+M+">"),t(o.$items(),"each",[],(H=function(te){var X=H.$$s||this,Ae;return te==null&&(te=n),i(te.$id())?Q["$<<"]('<li id="'+te.$id()+'"'+function(){return i(te.$role())?' class="'+te.$role()+'"':""}()+">"):i(te.$role())?Q["$<<"]('<li class="'+te.$role()+'">'):Q["$<<"]("<li>"),i(i(Ae=T)?te["$attr?"]("checkbox"):Ae)?Q["$<<"]("<p>"+function(){return i(te["$attr?"]("checked"))?a:E}()+te.$text()+"</p>"):Q["$<<"]("<p>"+te.$text()+"</p>"),i(te["$blocks?"]())&&Q["$<<"](te.$content()),Q["$<<"]("</li>")},H.$$s=Y,H.$$arity=1,H)),Q["$<<"]("</ul>"),Q["$<<"]("</div>"),Q.$join(W(L,"LF"))},nt.$$arity=1),e.def(f,"$convert_verse",yt=function(o){var H,Y=this,Q=n,ne=n,k=n,a=n,E=n,T=n,M=n,te=n,X=n;return Q=function(){return i(o.$id())?' id="'+o.$id()+'"':""}(),ne=["verseblock",o.$role()].$compact(),k=' class="'+ne.$join(" ")+'"',a=function(){return i(o["$title?"]())?`
<div class="title">`+o.$title()+"</div>":""}(),E=function(){return i(o["$attr?"]("attribution"))?o.$attr("attribution"):n}(),T=function(){return i(o["$attr?"]("citetitle"))?o.$attr("citetitle"):n}(),i(i(H=E)?H:T)?(M=function(){return i(T)?"<cite>"+T+"</cite>":""}(),te=function(){return i(E)?"&#8212; "+E+function(){return i(T)?"<br"+Y.void_element_slash+`>
`:""}():""}(),X=`
<div class="attribution">
`+te+M+`
</div>`):X="","<div"+Q+k+">"+a+`
<pre class="content">`+o.$content()+"</pre>"+X+`
</div>`},yt.$$arity=1),e.def(f,"$convert_video",lt=function(o){var H,Y,Q=this,ne=n,k=n,a=n,E=n,T=n,M=n,te=n,X=n,Ae=n,me=n,mt=n,dt=n,He=n,kt=n,$t=n,Tt=n,rt=n,Lt=n,Yt=n,_t=n,Zt=n,rr=n,nr=n,sr=n,tr=n,hr=n,fr=n,mr=n,ir=n,pr=n,vr=n,br=n,yr=n,lr=n,_r=n,xr=n,ur=n;return ne=Q.xml_mode,k=function(){return i(o.$id())?' id="'+o.$id()+'"':""}(),a=["videoblock"],i(o["$attr?"]("float"))&&a["$<<"](o.$attr("float")),i(o["$attr?"]("align"))&&a["$<<"]("text-"+o.$attr("align")),i(o.$role())&&a["$<<"](o.$role()),E=' class="'+a.$join(" ")+'"',T=function(){return i(o["$title?"]())?`
<div class="title">`+o.$title()+"</div>":""}(),M=function(){return i(o["$attr?"]("width"))?' width="'+o.$attr("width")+'"':""}(),te=function(){return i(o["$attr?"]("height"))?' height="'+o.$attr("height")+'"':""}(),function(){return X=o.$attr("poster"),"vimeo"["$==="](X)?(i((Ae=o.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(Ae=""+Ae+":"),me=function(){return i(o["$attr?"]("start"))?"#at="+o.$attr("start"):""}(),mt=["?"],Y=o.$attr("target").$split("/",2),H=e.to_ary(Y),dt=H[0]==null?n:H[0],He=H[1]==null?n:H[1],kt=function(){return i(He=i(H=He)?H:o.$attr("hash"))?""+(i(H=mt.$pop())?H:"&amp;")+"h="+He:""}(),$t=function(){return i(o["$option?"]("autoplay"))?""+(i(H=mt.$pop())?H:"&amp;")+"autoplay=1":""}(),Tt=function(){return i(o["$option?"]("loop"))?""+(i(H=mt.$pop())?H:"&amp;")+"loop=1":""}(),rt=function(){return i(o["$option?"]("muted"))?""+(i(H=mt.$pop())?H:"&amp;")+"muted=1":""}(),"<div"+k+E+">"+T+`
<div class="content">
<iframe`+M+te+' src="'+Ae+"//player.vimeo.com/video/"+dt+kt+$t+Tt+rt+me+'" frameborder="0"'+function(){return i(o["$option?"]("nofullscreen"))?"":Q.$append_boolean_attribute("allowfullscreen",ne)}()+`></iframe>
</div>
</div>`):"youtube"["$==="](X)?(i((Ae=o.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(Ae=""+Ae+":"),Lt=function(){return i(o["$option?"]("related"))?1:0}(),Yt=function(){return i(o["$attr?"]("start"))?"&amp;start="+o.$attr("start"):""}(),_t=function(){return i(o["$attr?"]("end"))?"&amp;end="+o.$attr("end"):""}(),$t=function(){return i(o["$option?"]("autoplay"))?"&amp;autoplay=1":""}(),Tt=function(){return i(Zt=o["$option?"]("loop"))?"&amp;loop=1":""}(),rr=function(){return i(o["$option?"]("muted"))?"&amp;mute=1":""}(),nr=function(){return i(o["$option?"]("nocontrols"))?"&amp;controls=0":""}(),i(o["$option?"]("nofullscreen"))?(sr="&amp;fs=0",tr=""):(sr="",tr=Q.$append_boolean_attribute("allowfullscreen",ne)),hr=function(){return i(o["$option?"]("modest"))?"&amp;modestbranding=1":""}(),fr=function(){return i(o["$attr?"]("theme"))?"&amp;theme="+o.$attr("theme"):""}(),mr=function(){return i(o["$attr?"]("lang"))?"&amp;hl="+o.$attr("lang"):""}(),Y=o.$attr("target").$split("/",2),H=e.to_ary(Y),dt=H[0]==null?n:H[0],ir=H[1]==null?n:H[1],i(ir=i(H=ir)?H:o.$attr("list"))?pr="&amp;list="+ir:(Y=dt.$split(",",2),H=e.to_ary(Y),dt=H[0]==null?n:H[0],vr=H[1]==null?n:H[1],i(vr=i(H=vr)?H:o.$attr("playlist"))?pr="&amp;playlist="+dt+","+vr:pr=function(){return i(Zt)?"&amp;playlist="+dt:""}()),"<div"+k+E+">"+T+`
<div class="content">
<iframe`+M+te+' src="'+Ae+"//www.youtube.com/embed/"+dt+"?rel="+Lt+Yt+_t+$t+Tt+rr+nr+pr+sr+hr+fr+mr+'" frameborder="0"'+tr+`></iframe>
</div>
</div>`):(br=function(){return i((yr=o.$attr("poster"))["$nil_or_empty?"]())?"":' poster="'+o.$media_uri(yr)+'"'}(),lr=function(){return i((yr=o.$attr("preload"))["$nil_or_empty?"]())?"":' preload="'+yr+'"'}(),_r=o.$attr("start"),xr=o.$attr("end"),ur=function(){return i(i(H=_r)?H:xr)?"#t="+(i(H=_r)?H:"")+function(){return i(xr)?","+xr:""}():""}(),"<div"+k+E+">"+T+`
<div class="content">
<video src="`+o.$media_uri(o.$attr("target"))+ur+'"'+M+te+br+function(){return i(o["$option?"]("autoplay"))?Q.$append_boolean_attribute("autoplay",ne):""}()+function(){return i(o["$option?"]("muted"))?Q.$append_boolean_attribute("muted",ne):""}()+function(){return i(o["$option?"]("nocontrols"))?"":Q.$append_boolean_attribute("controls",ne)}()+function(){return i(o["$option?"]("loop"))?Q.$append_boolean_attribute("loop",ne):""}()+lr+`>
Your browser does not support the video tag.
</video>
</div>
</div>`)}()},lt.$$arity=1),e.def(f,"$convert_inline_anchor",K=function(o){var H,Y,Q=this,ne=n,k=n,a=n,E=n,T=n,M=n,te=n,X=n;return function(){return ne=o.$type(),"xref"["$==="](ne)?(i(k=o.$attributes()["$[]"]("path"))?(a=Q.$append_link_constraint_attrs(o,function(){return i(o.$role())?[' class="'+o.$role()+'"']:[]}()).$join(),E=i(H=o.$text())?H:k):(a=function(){return i(o.$role())?' class="'+o.$role()+'"':""}(),i(E=o.$text())||(i(W(L,"AbstractNode")["$==="](T=i(H=(Q.refs=i(Y=Q.refs)?Y:o.$document().$catalog()["$[]"]("refs"))["$[]"](M=o.$attributes()["$[]"]("refid")))?H:function(){return i(M["$nil_or_empty?"]())?te=Q.$get_root_document(o):n}()))?i(i(H=Q.resolving_xref=i(Y=Q.resolving_xref)?Y:X=!0)?X:H)?(i(E=T.$xreftext(o.$attr("xrefstyle",n,!0)))?i(E["$include?"]("<a"))&&(E=E.$gsub(W(L,"DropAnchorRx"),"")):E=function(){return i(te)?"[^top]":"["+M+"]"}(),Q.resolving_xref=n):E=function(){return i(te)?"[^top]":"["+M+"]"}():E="["+M+"]")),'<a href="'+o.$target()+'"'+a+">"+E+"</a>"):"ref"["$==="](ne)?'<a id="'+o.$id()+'"></a>':"link"["$==="](ne)?(a=function(){return i(o.$id())?[' id="'+o.$id()+'"']:[]}(),i(o.$role())&&a["$<<"](' class="'+o.$role()+'"'),i(o["$attr?"]("title"))&&a["$<<"](' title="'+o.$attr("title")+'"'),'<a href="'+o.$target()+'"'+Q.$append_link_constraint_attrs(o,a).$join()+">"+o.$text()+"</a>"):"bibref"["$==="](ne)?'<a id="'+o.$id()+'"></a>['+(i(H=o.$reftext())?H:o.$id())+"]":(Q.$logger().$warn("unknown anchor type: "+o.$type().$inspect()),n)}()},K.$$arity=1),e.def(f,"$convert_inline_break",l=function(o){var H=this;return""+o.$text()+"<br"+H.void_element_slash+">"},l.$$arity=1),e.def(f,"$convert_inline_button",v=function(o){var H=this;return'<b class="button">'+o.$text()+"</b>"},v.$$arity=1),e.def(f,"$convert_inline_callout",I=function(o){var H=this,Y=n,Q=n;return i(o.$document()["$attr?"]("icons","font"))?'<i class="conum" data-value="'+o.$text()+'"></i><b>('+o.$text()+")</b>":i(o.$document()["$attr?"]("icons"))?(Y=o.$icon_uri("callouts/"+o.$text()),'<img src="'+Y+'" alt="'+o.$text()+'"'+H.void_element_slash+">"):i(y("::","Array")["$==="](Q=o.$attributes()["$[]"]("guard")))?'&lt;!--<b class="conum">('+o.$text()+")</b>--&gt;":""+Q+'<b class="conum">('+o.$text()+")</b>"},I.$$arity=1),e.def(f,"$convert_inline_footnote",U=function(o){var H=this,Y=n,Q=n;return i(Y=o.$attr("index"))?o.$type()["$=="]("xref")?'<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_'+Y+'" title="View footnote.">'+Y+"</a>]</sup>":(Q=function(){return i(o.$id())?' id="_footnote_'+o.$id()+'"':""}(),'<sup class="footnote"'+Q+'>[<a id="_footnoteref_'+Y+'" class="footnote" href="#_footnotedef_'+Y+'" title="View footnote.">'+Y+"</a>]</sup>"):o.$type()["$=="]("xref")?'<sup class="footnoteref red" title="Unresolved footnote reference.">['+o.$text()+"]</sup>":n},U.$$arity=1),e.def(f,"$convert_inline_image",P=function(o){var H,Y,Q=this,ne=n,k=n,a=n,E=n,T=n,M=n,te=n,X=n,Ae=n;return ne=o.$target(),(k=i(H=o.$type())?H:"image")["$=="]("icon")?(a=o.$document().$attr("icons"))["$=="]("font")?(E="fa fa-"+ne,i(o["$attr?"]("size"))&&(E=""+E+" fa-"+o.$attr("size")),i(o["$attr?"]("flip"))?E=""+E+" fa-flip-"+o.$attr("flip"):i(o["$attr?"]("rotate"))&&(E=""+E+" fa-rotate-"+o.$attr("rotate")),T=function(){return i(o["$attr?"]("title"))?' title="'+o.$attr("title")+'"':""}(),M='<i class="'+E+'"'+T+"></i>"):i(a)?(T=function(){return i(o["$attr?"]("width"))?' width="'+o.$attr("width")+'"':""}(),i(o["$attr?"]("height"))&&(T=""+T+' height="'+o.$attr("height")+'"'),i(o["$attr?"]("title"))&&(T=""+T+' title="'+o.$attr("title")+'"'),M='<img src="'+o.$icon_uri(ne)+'" alt="'+Q.$encode_attribute_value(o.$alt())+'"'+T+Q.void_element_slash+">"):M="["+o.$alt()+"&#93;":(T=function(){return i(o["$attr?"]("width"))?' width="'+o.$attr("width")+'"':""}(),i(o["$attr?"]("height"))&&(T=""+T+' height="'+o.$attr("height")+'"'),i(o["$attr?"]("title"))&&(T=""+T+' title="'+o.$attr("title")+'"'),i(i(H=i(Y=o["$attr?"]("format","svg"))?Y:ne["$include?"](".svg"))?ie(o.$document().$safe(),y(W(L,"SafeMode"),"SECURE")):H)?i(o["$option?"]("inline"))?M=i(H=Q.$read_svg_contents(o,ne))?H:'<span class="alt">'+o.$alt()+"</span>":i(o["$option?"]("interactive"))?(te=function(){return i(o["$attr?"]("fallback"))?'<img src="'+o.$image_uri(o.$attr("fallback"))+'" alt="'+Q.$encode_attribute_value(o.$alt())+'"'+T+Q.void_element_slash+">":'<span class="alt">'+o.$alt()+"</span>"}(),M='<object type="image/svg+xml" data="'+o.$image_uri(ne)+'"'+T+">"+te+"</object>"):M='<img src="'+o.$image_uri(ne)+'" alt="'+Q.$encode_attribute_value(o.$alt())+'"'+T+Q.void_element_slash+">":M='<img src="'+o.$image_uri(ne)+'" alt="'+Q.$encode_attribute_value(o.$alt())+'"'+T+Q.void_element_slash+">"),i(o["$attr?"]("link"))&&(M='<a class="image" href="'+o.$attr("link")+'"'+Q.$append_link_constraint_attrs(o).$join()+">"+M+"</a>"),X=k,i(Ae=o.$role())?X=function(){return i(o["$attr?"]("float"))?""+X+" "+o.$attr("float")+" "+Ae:""+X+" "+Ae}():i(o["$attr?"]("float"))&&(X=""+X+" "+o.$attr("float")),'<span class="'+X+'">'+M+"</span>"},P.$$arity=1),e.def(f,"$convert_inline_indexterm",de=function(o){var H=this;return o.$type()["$=="]("visible")?o.$text():""},de.$$arity=1),e.def(f,"$convert_inline_kbd",be=function(o){var H=this,Y=n;return(Y=o.$attr("keys")).$size()["$=="](1)?"<kbd>"+Y["$[]"](0)+"</kbd>":'<span class="keyseq"><kbd>'+Y.$join("</kbd>+<kbd>")+"</kbd></span>"},be.$$arity=1),e.def(f,"$convert_inline_menu",je=function(o){var H=this,Y=n,Q=n,ne=n,k=n,a=n;return Y=function(){return i(o.$document()["$attr?"]("icons","font"))?'&#160;<i class="fa fa-angle-right caret"></i> ':'&#160;<b class="caret">&#8250;</b> '}(),Q="</b>"+Y+'<b class="submenu">',ne=o.$attr("menu"),i((k=o.$attr("submenus"))["$empty?"]())?i(a=o.$attr("menuitem"))?'<span class="menuseq"><b class="menu">'+ne+"</b>"+Y+'<b class="menuitem">'+a+"</b></span>":'<b class="menuref">'+ne+"</b>":'<span class="menuseq"><b class="menu">'+ne+"</b>"+Y+'<b class="submenu">'+k.$join(Q)+"</b>"+Y+'<b class="menuitem">'+o.$attr("menuitem")+"</b></span>"},je.$$arity=1),e.def(f,"$convert_inline_quoted",Be=function(o){var H,Y,Q=this,ne=n,k=n,a=n,E=n;return Y=W(L,"QUOTE_TAGS")["$[]"](o.$type()),H=e.to_ary(Y),ne=H[0]==null?n:H[0],k=H[1]==null?n:H[1],a=H[2]==null?n:H[2],i(o.$id())?(E=function(){return i(o.$role())?' class="'+o.$role()+'"':""}(),i(a)?""+ne.$chop()+' id="'+o.$id()+'"'+E+">"+o.$text()+k:'<span id="'+o.$id()+'"'+E+">"+ne+o.$text()+k+"</span>"):i(o.$role())?i(a)?""+ne.$chop()+' class="'+o.$role()+'">'+o.$text()+k:'<span class="'+o.$role()+'">'+ne+o.$text()+k+"</span>":""+ne+o.$text()+k},Be.$$arity=1),e.def(f,"$read_svg_contents",Ke=function(o,H){var Y,Q=this,ne=n,k=n,a=n,E=n;if(i(ne=o.$read_contents(H,s(["start","normalize","label","warn_if_empty"],{start:o.$document().$attr("imagesdir"),normalize:!0,label:"SVG",warn_if_empty:!0})))){if(i(ne["$empty?"]()))return n;i(ne["$start_with?"]("<svg"))||(ne=ne.$sub(W(L,"SvgPreambleRx"),"")),k=a=E=n,t(["width","height"],"each",[],(Y=function(T){var M=Y.$$s||this,te,X;if(T==null&&(T=n),!i(o["$attr?"](T)))return n;if(!i(a)){if((E=i(te=E)?te:i(X=ne.$match(W(L,"SvgStartTagRx")))?X:"no_match")["$=="]("no_match"))return n;a=(k=E["$[]"](0)).$gsub(W(L,"DimensionAttributeRx"),"")}return a=""+a.$chop()+" "+T+'="'+o.$attr(T)+'">'},Y.$$s=Q,Y.$$arity=1,Y)),i(a)&&(ne=""+a+ne["$[]"](e.Range.$new(k.$length(),-1,!1)))}return ne},Ke.$$arity=2),f.$private(),e.def(f,"$append_boolean_attribute",we=function(o,H){var Y=this;return i(H)?" "+o+'="'+o+'"':" "+o},we.$$arity=2),e.def(f,"$append_link_constraint_attrs",ot=function(o,H){var Y,Q=this,ne=n,k=n;return H==null&&(H=[]),i(o["$option?"]("nofollow"))&&(ne="nofollow"),i(k=o.$attributes()["$[]"]("window"))?(H["$<<"](' target="'+k+'"'),i(i(Y=k["$=="]("_blank"))?Y:o["$option?"]("noopener"))&&H["$<<"](function(){return i(ne)?' rel="'+ne+' noopener"':' rel="noopener"'}())):i(ne)&&H["$<<"](' rel="'+ne+'"'),H},ot.$$arity=-2),e.def(f,"$encode_attribute_value",at=function(o){var H=this;return i(o["$include?"]('"'))?o.$gsub('"',"&quot;"):o},at.$$arity=1),e.def(f,"$generate_manname_section",vt=function(o){var H,Y=this,Q=n,ne=n,k=n,a=n,E=n;return Q=o.$attr("manname-title","Name"),i(i(H=ne=o.$sections()["$[]"](0))?(k=ne.$title())["$=="](k.$upcase()):H)&&(Q=Q.$upcase()),a=function(){return i(E=o.$attr("manname-id"))?' id="'+E+'"':""}(),"<h2"+a+">"+Q+`</h2>
<div class="sectionbody">
<p>`+o.$attr("mannames").$join(", ")+" - "+o.$attr("manpurpose")+`</p>
</div>`},vt.$$arity=1),e.def(f,"$get_root_document",Dt=function(o){for(var H,Y=this;i((o=o.$document())["$nested?"]());)o=o.$parent_document();return o},Dt.$$arity=1),e.def(f,"$method_missing",bt=function(o,H){var Y,Q,ne,k=bt.$$p,a=k||n,E=this,T=n,M=n,te=n,X=n;for(k&&(bt.$$p=null),te=0,X=arguments.length,M=new Array(X);te<X;te++)M[te]=arguments[te];return Y=e.slice.call(arguments,1,arguments.length),Q=Y,i(i(ne=(T=o.$to_s())["$start_with?"]("convert_")["$!"]())?E["$handles?"](T):ne)?t(E,"send",["convert_"+T].concat(e.to_a(Q))):t(E,e.find_super_dispatcher(E,"method_missing",bt,!1),M,k)},bt.$$arity=-2),e.def(f,"$respond_to_missing?",ce=function(fe,o){var H,Y,Q,ne=this,k=n;return H=e.slice.call(arguments,1,arguments.length),Y=H,i(Q=(k=fe.$to_s())["$start_with?"]("convert_")["$!"]())?ne["$handles?"](k):Q},ce.$$arity=-2),n&&"respond_to_missing?"})(W(C,"Converter"),y(W(C,"Converter"),"Base"),C)}($[0],$)},Opal.modules["asciidoctor/extensions"]=function(e){function u(i,j){return typeof i=="number"&&typeof j=="number"?i-j:i["$-"](j)}function O(i,j){return typeof i=="number"&&typeof j=="number"?i+j:i["$+"](j)}function xe(i,j){return typeof i=="number"&&typeof j=="number"?i>j:i["$>"](j)}function Xe(i,j){return typeof i=="number"&&typeof j=="number"?i<j:i["$<"](j)}var ie=e.top,A=[],$e=e.nil,$=e.const_get_qualified,n=e.const_get_relative,y=e.breaker,W=e.slice,oe=e.module,b=e.klass,_=e.truthy,c=e.hash2,t=e.send,s=e.hash;return e.add_stubs(["$==","$[]=","$config","$-","$const_defined?","$singleton_class?","$include","$const_get","$extend","$attr_reader","$merge","$class","$update","$raise","$document","$doctype","$[]","$+","$level","$delete","$>","$casecmp","$new","$title=","$sectname=","$special=","$fetch","$numbered=","$!","$key?","$attr?","$special","$numbered","$generate_id","$title","$id=","$update_attributes","$tr","$basename","$create_block","$assign_caption","$===","$parse_blocks","$empty?","$include?","$sub_attributes","$parse","$each","$define_method","$unshift","$shift","$send","$size","$binding","$receiver","$define_singleton_method","$instance_exec","$to_proc","$call","$option","$flatten","$respond_to?","$to_s","$partition","$to_i","$<<","$compact","$inspect","$attr_accessor","$to_set","$match?","$resolve_regexp","$method","$register","$values","$groups","$arity","$activate","$add_document_processor","$any?","$select","$add_syntax_processor","$to_sym","$instance_variable_get","$kind","$private","$join","$map","$split","$capitalize","$instance_variable_set","$resolve_args","$enable_dsl","$singleton_class","$process_block_given?","$source_location","$freeze","$resolve_class","$<","$update_config","$as_symbol","$name","$name=","$pop","$-@","$next_auto_id","$generate_name"]),n(A,"RUBY_ENGINE")["$=="]("opal"),function(i,j){var h=oe(i,"Asciidoctor"),g=[h].concat(j);(function(w,C){var F=oe(w,"Extensions"),N=[F].concat(C);(function(x,f,L){var ae=b(x,f,"Processor"),Pe=[ae].concat(L),Ie,ue,S,d,m,p,z,Z,re,ye,q,ee;return ae.$$prototype.config=$e,function(V,_e){var Me=[V].concat(_e),Te,et,ct;return e.def(V,"$config",Te=function(){var Ne,Se=this;return Se.config==null&&(Se.config=$e),Se.config=_(Ne=Se.config)?Ne:c([],{})},Te.$$arity=0),e.def(V,"$option",et=function(Ne,Se){var We=this,tt=$e;return tt=[Ne,Se],t(We.$config(),"[]=",e.to_a(tt)),tt[u(tt.length,1)]},et.$$arity=2),e.def(V,"$enable_dsl",ct=function(){var Ne=this;return _(Ne["$const_defined?"]("DSL"))?_(Ne["$singleton_class?"]())?Ne.$include(Ne.$const_get("DSL")):Ne.$extend(Ne.$const_get("DSL")):$e},ct.$$arity=0),e.alias(V,"use_dsl","enable_dsl")}(e.get_singleton_class(ae),Pe),ae.$attr_reader("config"),e.def(ae,"$initialize",Ie=function(_e){var Me=this;return _e==null&&(_e=c([],{})),Me.config=Me.$class().$config().$merge(_e)},Ie.$$arity=-1),e.def(ae,"$update_config",ue=function(_e){var Me=this;return Me.config.$update(_e)},ue.$$arity=1),e.def(ae,"$process",S=function(_e){var Me,Te,et=this;return Me=e.slice.call(arguments,0,arguments.length),Te=Me,et.$raise($("::","NotImplementedError"),""+n(Pe,"Processor")+" subclass "+et.$class()+" must implement the #process method")},S.$$arity=-1),e.def(ae,"$create_section",d=function(_e,Me,Te,et){var ct,it=this,Ne=$e,Se=$e,We=$e,tt=$e,Qe=$e,nt=$e,yt=$e,lt=$e,K=$e,l=$e;return et==null&&(et=c([],{})),Ne=_e.$document(),Se=(We=Ne.$doctype())["$=="]("book"),tt=_(ct=et["$[]"]("level"))?ct:O(_e.$level(),1),_(Qe=Te.$delete("style"))?_(_(ct=Se)?Qe["$=="]("abstract"):ct)?(ct=["chapter",1],nt=ct[0],tt=ct[1]):(ct=[Qe,!0],nt=ct[0],yt=ct[1],tt["$=="](0)&&(tt=1)):_(Se)?nt=function(){return tt["$=="](0)?"part":_(xe(tt,1))?"section":"chapter"}():_((ct=We["$=="]("manpage"))?Me.$casecmp("synopsis")["$=="](0):We["$=="]("manpage"))?(ct=["synopsis",!0],nt=ct[0],yt=ct[1]):nt="section",lt=n(Pe,"Section").$new(_e,tt),ct=[Me,nt],lt["$title="](ct[0]),lt["$sectname="](ct[1]),_(yt)?(K=[!0],t(lt,"special=",e.to_a(K)),K[u(K.length,1)],_(et.$fetch("numbered",Qe["$=="]("appendix")))?(K=[!0],t(lt,"numbered=",e.to_a(K)),K[u(K.length,1)]):_(_(ct=et["$key?"]("numbered")["$!"]())?Ne["$attr?"]("sectnums","all"):ct)&&(K=[function(){return _(_(ct=Se)?tt["$=="](1):ct)?"chapter":!0}()],t(lt,"numbered=",e.to_a(K)),K[u(K.length,1)])):_(xe(tt,0))?_(et.$fetch("numbered",Ne["$attr?"]("sectnums")))&&(K=[function(){return _(lt.$special())?_(ct=_e.$numbered())?!0:ct:!0}()],t(lt,"numbered=",e.to_a(K)),K[u(K.length,1)]):_(et.$fetch("numbered",_(ct=Se)?Ne["$attr?"]("partnums"):ct))&&(K=[!0],t(lt,"numbered=",e.to_a(K)),K[u(K.length,1)]),(l=Te["$[]"]("id"))["$=="](!1)?Te.$delete("id"):(K=[(K=["id",_(ct=l)?ct:function(){return _(Ne["$attr?"]("sectids"))?n(Pe,"Section").$generate_id(lt.$title(),Ne):$e}()],t(Te,"[]=",e.to_a(K)),K[u(K.length,1)])],t(lt,"id=",e.to_a(K)),K[u(K.length,1)]),lt.$update_attributes(Te),lt},d.$$arity=-4),e.def(ae,"$create_block",m=function(_e,Me,Te,et,ct){var it=this;return ct==null&&(ct=c([],{})),n(Pe,"Block").$new(_e,Me,c(["source","attributes"],{source:Te,attributes:et}).$merge(ct))},m.$$arity=-5),e.def(ae,"$create_list",p=function(_e,Me,Te){var et=this,ct=$e;return Te==null&&(Te=$e),ct=n(Pe,"List").$new(_e,Me),_(Te)&&ct.$update_attributes(Te),ct},p.$$arity=-3),e.def(ae,"$create_list_item",z=function(_e,Me){var Te=this;return Me==null&&(Me=$e),n(Pe,"ListItem").$new(_e,Me)},z.$$arity=-2),e.def(ae,"$create_image_block",Z=function(_e,Me,Te){var et,ct=this,it=$e,Ne=$e,Se=$e,We=$e;return Te==null&&(Te=c([],{})),_(it=Me["$[]"]("target"))||ct.$raise($("::","ArgumentError"),"Unable to create an image block, target attribute is required"),_(et=Me["$[]"]("alt"))||(Ne=["alt",(Ne=["default-alt",n(Pe,"Helpers").$basename(it,!0).$tr("_-"," ")],t(Me,"[]=",e.to_a(Ne)),Ne[u(Ne.length,1)])],t(Me,"[]=",e.to_a(Ne)),Ne[u(Ne.length,1)]),Se=function(){return _(Me["$key?"]("title"))?Me.$delete("title"):$e}(),We=ct.$create_block(_e,"image",$e,Me,Te),_(Se)&&(Ne=[Se],t(We,"title=",e.to_a(Ne)),Ne[u(Ne.length,1)],We.$assign_caption(Me.$delete("caption"),"figure")),We},Z.$$arity=-3),e.def(ae,"$create_inline",re=function(_e,Me,Te,et){var ct=this;return et==null&&(et=c([],{})),n(Pe,"Inline").$new(_e,Me,Te,function(){return Me["$=="]("quoted")?c(["type"],{type:"unquoted"}).$merge(et):et}())},re.$$arity=-4),e.def(ae,"$parse_content",ye=function(_e,Me,Te){var et=this,ct=$e;return Te==null&&(Te=$e),ct=function(){return _(n(Pe,"Reader")["$==="](Me))?Me:n(Pe,"Reader").$new(Me)}(),n(Pe,"Parser").$parse_blocks(ct,_e,Te),_e},ye.$$arity=-3),e.def(ae,"$parse_attributes",q=function(_e,Me,Te){var et,ct=this;return Te==null&&(Te=c([],{})),_(function(){return _(Me)?Me["$empty?"]():!0}())?c([],{}):(_(_(et=Te["$[]"]("sub_attributes"))?Me["$include?"](n(Pe,"ATTR_REF_HEAD")):et)&&(Me=_e.$sub_attributes(Me)),n(Pe,"AttributeList").$new(Me).$parse(_(et=Te["$[]"]("positional_attributes"))?et:[]))},q.$$arity=-3),t([["create_paragraph","create_block","paragraph"],["create_open_block","create_block","open"],["create_example_block","create_block","example"],["create_pass_block","create_block","pass"],["create_listing_block","create_block","listing"],["create_literal_block","create_block","literal"],["create_anchor","create_inline","anchor"],["create_inline_pass","create_inline","quoted"]],"each",[],(ee=function(V,_e,Me){var Te=ee.$$s||this,et;return V==null&&(V=$e),_e==null&&(_e=$e),Me==null&&(Me=$e),t(Te,"define_method",[V],(et=function(ct){var it=et.$$s||this,Ne,Se;return Ne=e.slice.call(arguments,0,arguments.length),Se=Ne,Se.$unshift(Se.$shift(),Me),t(it,"send",[_e].concat(e.to_a(Se)))},et.$$s=Te,et.$$arity=-1,et))},ee.$$s=ae,ee.$$arity=3,ee))})(N[0],null,N),function(x,f){var L=oe(x,"ProcessorDsl"),ae=[L].concat(f),Pe,Ie,ue;e.def(L,"$option",Pe=function(d,m){var p=this,z=$e;return z=[d,m],t(p.$config(),"[]=",e.to_a(z)),z[u(z.length,1)]},Pe.$$arity=2),e.def(L,"$process",Ie=function(d){var m=Ie.$$p,p=m||$e,z,Z,re,ye,q=this,ee=$e;return q.process_block==null&&(q.process_block=$e),m&&(Ie.$$p=null),m&&(Ie.$$p=null),z=e.slice.call(arguments,0,arguments.length),Z=z,p!==$e?(_(Z["$empty?"]())||q.$raise($("::","ArgumentError"),"wrong number of arguments (given "+Z.$size()+", expected 0)"),_(_(re=p.$binding())?q["$=="](p.$binding().$receiver()):re)||(ee=q,t(p,"define_singleton_method",["call"],(ye=function(V){var _e=ye.$$s||this,Me,Te;return Me=e.slice.call(arguments,0,arguments.length),Te=Me,t(ee,"instance_exec",e.to_a(Te),p.$to_proc())},ye.$$s=q,ye.$$arity=-1,ye))),q.process_block=p):_((re=q.process_block,re!=null&&re!==$e?"instance-variable":$e))?t(q.process_block,"call",e.to_a(Z)):q.$raise($("::","NotImplementedError"),""+q.$class()+" #process method called before being registered")},Ie.$$arity=-1),e.def(L,"$process_block_given?",ue=function(){var S,d=this;return S=d.process_block,S!=null&&S!==$e?"instance-variable":$e},ue.$$arity=0)}(N[0],N),function(x,f){var L=oe(x,"DocumentProcessorDsl"),ae=[L].concat(f),Pe;L.$include(n(ae,"ProcessorDsl")),e.def(L,"$prefer",Pe=function(){var ue=this;return ue.$option("position",">>")},Pe.$$arity=0)}(N[0],N),function(x,f){var L=oe(x,"SyntaxProcessorDsl"),ae=[L].concat(f),Pe,Ie,ue,S,d;L.$include(n(ae,"ProcessorDsl")),e.def(L,"$named",Pe=function(p){var z=this;return _(n(ae,"Processor")["$==="](z))?z.name=p:z.$option("name",p)},Pe.$$arity=1),e.def(L,"$content_model",Ie=function(p){var z=this;return z.$option("content_model",p)},Ie.$$arity=1),e.alias(L,"parse_content_as","content_model"),e.def(L,"$positional_attributes",ue=function(p){var z,Z,re=this;return z=e.slice.call(arguments,0,arguments.length),Z=z,re.$option("positional_attrs",Z.$flatten())},ue.$$arity=-1),e.alias(L,"name_positional_attributes","positional_attributes"),e.alias(L,"positional_attrs","positional_attributes"),e.def(L,"$default_attributes",S=function(p){var z=this;return z.$option("default_attrs",p)},S.$$arity=1),e.alias(L,"default_attrs","default_attributes"),e.def(L,"$resolve_attributes",d=function(p){var z,Z,re,ye,q,ee=this,V=$e,_e=$e,Me=$e;return z=e.slice.call(arguments,0,arguments.length),Z=z,_(xe(Z.$size(),1))||_((Z=Z.$fetch(0,!0))["$respond_to?"]("to_sym"))&&(Z=[Z]),function(){return V=Z,(!0)["$==="](V)?(ee.$option("positional_attrs",[]),ee.$option("default_attrs",c([],{}))):$("::","Array")["$==="](V)?(re=[[],c([],{})],_e=re[0],Me=re[1],t(Z,"each",[],(ye=function(Te){var et=ye.$$s||this,ct,it,Ne=$e,Se=$e,We=$e,tt=$e,Qe=$e;return Te==null&&(Te=$e),_((Te=Te.$to_s())["$include?"]("="))?(it=Te.$partition("="),ct=e.to_ary(it),Ne=ct[0]==null?$e:ct[0],Se=ct[1]==null?$e:ct[1],We=ct[2]==null?$e:ct[2],_(Ne["$include?"](":"))&&(it=Ne.$partition(":"),ct=e.to_ary(it),tt=ct[0]==null?$e:ct[0],Se=ct[1]==null?$e:ct[1],Ne=ct[2]==null?$e:ct[2],tt=function(){return tt["$=="]("@")?_e.$size():tt.$to_i()}(),Qe=[tt,Ne],t(_e,"[]=",e.to_a(Qe)),Qe[u(Qe.length,1)]),Qe=[Ne,We],t(Me,"[]=",e.to_a(Qe)),Qe[u(Qe.length,1)]):_(Te["$include?"](":"))?(it=Te.$partition(":"),ct=e.to_ary(it),tt=ct[0]==null?$e:ct[0],Se=ct[1]==null?$e:ct[1],Ne=ct[2]==null?$e:ct[2],tt=function(){return tt["$=="]("@")?_e.$size():tt.$to_i()}(),Qe=[tt,Ne],t(_e,"[]=",e.to_a(Qe)),Qe[u(Qe.length,1)]):_e["$<<"](Te)},ye.$$s=ee,ye.$$arity=1,ye)),ee.$option("positional_attrs",_e.$compact()),ee.$option("default_attrs",Me)):$("::","Hash")["$==="](V)?(re=[[],c([],{})],_e=re[0],Me=re[1],t(Z,"each",[],(q=function(Te,et){var ct=q.$$s||this,it,Ne,Se=$e,We=$e,tt=$e,Qe=$e;return Te==null&&(Te=$e),et==null&&(et=$e),_((Se=Te.$to_s())["$include?"](":"))&&(Ne=Se.$partition(":"),it=e.to_ary(Ne),We=it[0]==null?$e:it[0],tt=it[1]==null?$e:it[1],Se=it[2]==null?$e:it[2],We=function(){return We["$=="]("@")?_e.$size():We.$to_i()}(),Qe=[We,Se],t(_e,"[]=",e.to_a(Qe)),Qe[u(Qe.length,1)]),_(et)?(Qe=[Se,et],t(Me,"[]=",e.to_a(Qe)),Qe[u(Qe.length,1)]):$e},q.$$s=ee,q.$$arity=2,q)),ee.$option("positional_attrs",_e.$compact()),ee.$option("default_attrs",Me)):ee.$raise($("::","ArgumentError"),"unsupported attributes specification for macro: "+Z.$inspect())}()},d.$$arity=-1),e.alias(L,"resolves_attributes","resolve_attributes")}(N[0],N),function(x,f,L){var ae=b(x,f,"Preprocessor"),Pe=[ae].concat(L),Ie;return e.def(ae,"$process",Ie=function(S,d){var m=this;return m.$raise($("::","NotImplementedError"),""+n(Pe,"Preprocessor")+" subclass "+m.$class()+" must implement the #process method")},Ie.$$arity=2),$e&&"process"}(N[0],n(N,"Processor"),N),e.const_set(n(N,"Preprocessor"),"DSL",n(N,"DocumentProcessorDsl")),function(x,f,L){var ae=b(x,f,"TreeProcessor"),Pe=[ae].concat(L),Ie;return e.def(ae,"$process",Ie=function(S){var d=this;return d.$raise($("::","NotImplementedError"),""+n(Pe,"TreeProcessor")+" subclass "+d.$class()+" must implement the #process method")},Ie.$$arity=1),$e&&"process"}(N[0],n(N,"Processor"),N),e.const_set(n(N,"TreeProcessor"),"DSL",n(N,"DocumentProcessorDsl")),e.const_set(N[0],"Treeprocessor",n(N,"TreeProcessor")),function(x,f,L){var ae=b(x,f,"Postprocessor"),Pe=[ae].concat(L),Ie;return e.def(ae,"$process",Ie=function(S,d){var m=this;return m.$raise($("::","NotImplementedError"),""+n(Pe,"Postprocessor")+" subclass "+m.$class()+" must implement the #process method")},Ie.$$arity=2),$e&&"process"}(N[0],n(N,"Processor"),N),e.const_set(n(N,"Postprocessor"),"DSL",n(N,"DocumentProcessorDsl")),function(x,f,L){var ae=b(x,f,"IncludeProcessor"),Pe=[ae].concat(L),Ie,ue;return e.def(ae,"$process",Ie=function(d,m,p,z){var Z=this;return Z.$raise($("::","NotImplementedError"),""+n(Pe,"IncludeProcessor")+" subclass "+Z.$class()+" must implement the #process method")},Ie.$$arity=4),e.def(ae,"$handles?",ue=function(S){var d=this;return!0},ue.$$arity=1),$e&&"handles?"}(N[0],n(N,"Processor"),N),function(x,f){var L=oe(x,"IncludeProcessorDsl"),ae=[L].concat(f),Pe;L.$include(n(ae,"DocumentProcessorDsl")),e.def(L,"$handles?",Pe=function(Ie){var ue=Pe.$$p,S=ue||$e,d,m,p,z=this;return z.handles_block==null&&(z.handles_block=$e),ue&&(Pe.$$p=null),ue&&(Pe.$$p=null),d=e.slice.call(arguments,0,arguments.length),m=d,S!==$e?(_(m["$empty?"]())||z.$raise($("::","ArgumentError"),"wrong number of arguments (given "+m.$size()+", expected 0)"),z.handles_block=S):_((p=z.handles_block,p!=null&&p!==$e?"instance-variable":$e))?z.handles_block.$call(m["$[]"](0)):!0},Pe.$$arity=-1)}(N[0],N),e.const_set(n(N,"IncludeProcessor"),"DSL",n(N,"IncludeProcessorDsl")),function(x,f,L){var ae=b(x,f,"DocinfoProcessor"),Pe=[ae].concat(L),Ie,ue;return ae.$$prototype.config=$e,e.def(ae,"$initialize",Ie=function(d){var m,p=Ie.$$p,z=p||$e,Z=this,re=$e;return p&&(Ie.$$p=null),d==null&&(d=c([],{})),t(Z,e.find_super_dispatcher(Z,"initialize",Ie,!1),[d],null),_(m=Z.config["$[]"]("location"))?m:(re=["location","head"],t(Z.config,"[]=",e.to_a(re)),re[u(re.length,1)])},Ie.$$arity=-1),e.def(ae,"$process",ue=function(d){var m=this;return m.$raise($("::","NotImplementedError"),""+n(Pe,"DocinfoProcessor")+" subclass "+m.$class()+" must implement the #process method")},ue.$$arity=1),$e&&"process"}(N[0],n(N,"Processor"),N),function(x,f){var L=oe(x,"DocinfoProcessorDsl"),ae=[L].concat(f),Pe;L.$include(n(ae,"DocumentProcessorDsl")),e.def(L,"$at_location",Pe=function(ue){var S=this;return S.$option("location",ue)},Pe.$$arity=1)}(N[0],N),e.const_set(n(N,"DocinfoProcessor"),"DSL",n(N,"DocinfoProcessorDsl")),function(x,f,L){var ae=b(x,f,"BlockProcessor"),Pe=[ae].concat(L),Ie,ue;return ae.$$prototype.config=$e,ae.$attr_accessor("name"),e.def(ae,"$initialize",Ie=function(d,m){var p,z=Ie.$$p,Z=z||$e,re=this,ye=$e,q=$e;return z&&(Ie.$$p=null),d==null&&(d=$e),m==null&&(m=c([],{})),t(re,e.find_super_dispatcher(re,"initialize",Ie,!1),[m],null),re.name=_(p=d)?p:re.config["$[]"]("name"),ye=re.config["$[]"]("contexts"),$("::","NilClass")["$==="](ye)?_(p=re.config["$[]"]("contexts"))||(q=["contexts",["open","paragraph"].$to_set()],t(re.config,"[]=",e.to_a(q)),q[u(q.length,1)]):$("::","Symbol")["$==="](ye)?(q=["contexts",[re.config["$[]"]("contexts")].$to_set()],t(re.config,"[]=",e.to_a(q)),q[u(q.length,1)]):(q=["contexts",re.config["$[]"]("contexts").$to_set()],t(re.config,"[]=",e.to_a(q)),q[u(q.length,1)]),_(p=re.config["$[]"]("content_model"))?p:(q=["content_model","compound"],t(re.config,"[]=",e.to_a(q)),q[u(q.length,1)])},Ie.$$arity=-1),e.def(ae,"$process",ue=function(d,m,p){var z=this;return z.$raise($("::","NotImplementedError"),""+n(Pe,"BlockProcessor")+" subclass "+z.$class()+" must implement the #process method")},ue.$$arity=3),$e&&"process"}(N[0],n(N,"Processor"),N),function(x,f){var L=oe(x,"BlockProcessorDsl"),ae=[L].concat(f),Pe;L.$include(n(ae,"SyntaxProcessorDsl")),e.def(L,"$contexts",Pe=function(ue){var S,d,m=this;return S=e.slice.call(arguments,0,arguments.length),d=S,m.$option("contexts",d.$flatten().$to_set())},Pe.$$arity=-1),e.alias(L,"on_contexts","contexts"),e.alias(L,"on_context","contexts"),e.alias(L,"bind_to","contexts")}(N[0],N),e.const_set(n(N,"BlockProcessor"),"DSL",n(N,"BlockProcessorDsl")),function(x,f,L){var ae=b(x,f,"MacroProcessor"),Pe=[ae].concat(L),Ie,ue;return ae.$$prototype.config=$e,ae.$attr_accessor("name"),e.def(ae,"$initialize",Ie=function(d,m){var p,z=Ie.$$p,Z=z||$e,re=this,ye=$e;return z&&(Ie.$$p=null),d==null&&(d=$e),m==null&&(m=c([],{})),t(re,e.find_super_dispatcher(re,"initialize",Ie,!1),[m],null),re.name=_(p=d)?p:re.config["$[]"]("name"),_(p=re.config["$[]"]("content_model"))?p:(ye=["content_model","attributes"],t(re.config,"[]=",e.to_a(ye)),ye[u(ye.length,1)])},Ie.$$arity=-1),e.def(ae,"$process",ue=function(d,m,p){var z=this;return z.$raise($("::","NotImplementedError"),""+n(Pe,"MacroProcessor")+" subclass "+z.$class()+" must implement the #process method")},ue.$$arity=3),$e&&"process"}(N[0],n(N,"Processor"),N),function(x,f){var L=oe(x,"MacroProcessorDsl"),ae=[L].concat(f),Pe;L.$include(n(ae,"SyntaxProcessorDsl")),e.def(L,"$resolve_attributes",Pe=function(ue){var S,d,m,p=Pe.$$p,z=p||$e,Z=this,re=$e,ye=$e,q=$e;for(p&&(Pe.$$p=null),ye=0,q=arguments.length,re=new Array(q);ye<q;ye++)re[ye]=arguments[ye];return S=e.slice.call(arguments,0,arguments.length),d=S,_((m=d.$size()["$=="](1))?d["$[]"](0)["$!"]():d.$size()["$=="](1))?Z.$option("content_model","text"):(t(Z,e.find_super_dispatcher(Z,"resolve_attributes",Pe,!1),re,p),Z.$option("content_model","attributes"))},Pe.$$arity=-1),e.alias(L,"resolves_attributes","resolve_attributes")}(N[0],N),function(x,f,L){var ae=b(x,f,"BlockMacroProcessor"),Pe=[ae].concat(L),Ie;return ae.$$prototype.name=$e,e.def(ae,"$name",Ie=function(){var S=this;return _(n(Pe,"MacroNameRx")["$match?"](S.name.$to_s()))||S.$raise($("::","ArgumentError"),"invalid name for block macro: "+S.name),S.name},Ie.$$arity=0),$e&&"name"}(N[0],n(N,"MacroProcessor"),N),e.const_set(n(N,"BlockMacroProcessor"),"DSL",n(N,"MacroProcessorDsl")),function(x,f,L){var ae=b(x,f,"InlineMacroProcessor"),Pe=[ae].concat(L),Ie,ue;return ae.$$prototype.config=ae.$$prototype.name=$e,e.class_variable_set(Pe[0],"@@rx_cache",c([],{})),e.def(ae,"$regexp",Ie=function(){var d,m=this,p=$e;return _(d=m.config["$[]"]("regexp"))?d:(p=["regexp",m.$resolve_regexp(m.name.$to_s(),m.config["$[]"]("format"))],t(m.config,"[]=",e.to_a(p)),p[u(p.length,1)])},Ie.$$arity=0),e.def(ae,"$resolve_regexp",ue=function(d,m){var p,z,Z=this,re=$e;return _(n(Pe,"MacroNameRx")["$match?"](d))||Z.$raise($("::","ArgumentError"),"invalid name for inline macro: "+d),_(p=((z=Pe[0].$$cvars["@@rx_cache"])==null?$e:z)["$[]"]([d,m]))?p:(re=[[d,m],new RegExp("\\\\?"+d+":"+function(){return m["$=="]("short")?"(){0}":"(\\S+?)"}()+"\\[(|"+n(Pe,"CC_ANY")+"*?[^\\\\])\\]")],t((z=Pe[0].$$cvars["@@rx_cache"])==null?$e:z,"[]=",e.to_a(re)),re[u(re.length,1)])},ue.$$arity=2),$e&&"resolve_regexp"}(N[0],n(N,"MacroProcessor"),N),function(x,f){var L=oe(x,"InlineMacroProcessorDsl"),ae=[L].concat(f),Pe,Ie;L.$include(n(ae,"MacroProcessorDsl")),e.def(L,"$format",Pe=function(S){var d=this;return d.$option("format",S)},Pe.$$arity=1),e.alias(L,"match_format","format"),e.alias(L,"using_format","format"),e.def(L,"$match",Ie=function(S){var d=this;return d.$option("regexp",S)},Ie.$$arity=1)}(N[0],N),e.const_set(n(N,"InlineMacroProcessor"),"DSL",n(N,"InlineMacroProcessorDsl")),function(x,f,L){var ae=b(x,f,"Extension"),Pe=[ae].concat(L),Ie;return ae.$attr_reader("kind"),ae.$attr_reader("config"),ae.$attr_reader("instance"),e.def(ae,"$initialize",Ie=function(S,d,m){var p=this;return p.kind=S,p.instance=d,p.config=m},Ie.$$arity=3),$e&&"initialize"}(N[0],null,N),function(x,f,L){var ae=b(x,f,"ProcessorExtension"),Pe=[ae].concat(L),Ie;return ae.$attr_reader("process_method"),e.def(ae,"$initialize",Ie=function(S,d,m){var p,z=Ie.$$p,Z=z||$e,re=this;return z&&(Ie.$$p=null),m==null&&(m=$e),t(re,e.find_super_dispatcher(re,"initialize",Ie,!1),[S,d,d.$config()],null),re.process_method=_(p=m)?p:d.$method("process")},Ie.$$arity=-3),$e&&"initialize"}(N[0],n(N,"Extension"),N),function(x,f,L){var ae=b(x,f,"Group"),Pe=[ae].concat(L),Ie;return function(ue,S){var d=[ue].concat(S),m;return e.def(ue,"$register",m=function(z){var Z=this;return z==null&&(z=$e),n(d,"Extensions").$register(z,Z)},m.$$arity=-1),$e&&"register"}(e.get_singleton_class(ae),Pe),e.def(ae,"$activate",Ie=function(S){var d=this;return d.$raise($("::","NotImplementedError"))},Ie.$$arity=1),$e&&"activate"}(N[0],null,N),function(x,f,L){var ae=b(x,f,"Registry"),Pe=[ae].concat(L),Ie,ue,S,d,m,p,z,Z,re,ye,q,ee,V,_e,Me,Te,et,ct,it,Ne,Se,We,tt,Qe,nt,yt,lt,K,l,v,I,U,P,de,be;return ae.$$prototype.groups=ae.$$prototype.preprocessor_extensions=ae.$$prototype.tree_processor_extensions=ae.$$prototype.postprocessor_extensions=ae.$$prototype.include_processor_extensions=ae.$$prototype.docinfo_processor_extensions=ae.$$prototype.block_extensions=ae.$$prototype.block_macro_extensions=ae.$$prototype.inline_macro_extensions=$e,ae.$attr_reader("document"),ae.$attr_reader("groups"),e.def(ae,"$initialize",Ie=function(Be){var Ke=this;return Be==null&&(Be=c([],{})),Ke.groups=Be,Ke.preprocessor_extensions=Ke.tree_processor_extensions=Ke.postprocessor_extensions=Ke.include_processor_extensions=Ke.docinfo_processor_extensions=Ke.block_extensions=Ke.block_macro_extensions=Ke.inline_macro_extensions=$e,Ke.document=$e},Ie.$$arity=-1),e.def(ae,"$activate",ue=function(Be){var Ke,we=this,ot=$e;return we.document=Be,_((ot=O(n(Pe,"Extensions").$groups().$values(),we.groups.$values()))["$empty?"]())||t(ot,"each",[],(Ke=function(at){var vt=Ke.$$s||this,Dt=$e;return at==null&&(at=$e),function(){return Dt=at,$("::","Proc")["$==="](Dt)?function(){return Dt=at.$arity(),0["$==="](Dt)||(-1)["$==="](Dt)?t(vt,"instance_exec",[],at.$to_proc()):1["$==="](Dt)?at.$call(vt):$e}():$("::","Class")["$==="](Dt)?at.$new().$activate(vt):at.$activate(vt)}()},Ke.$$s=we,Ke.$$arity=1,Ke)),we},ue.$$arity=1),e.def(ae,"$preprocessor",S=function(Be){var Ke=S.$$p,we=Ke||$e,ot,at,vt=this;return Ke&&(S.$$p=null),Ke&&(S.$$p=null),ot=e.slice.call(arguments,0,arguments.length),at=ot,t(vt,"add_document_processor",["preprocessor",at],we.$to_proc())},S.$$arity=-1),e.def(ae,"$preprocessors?",d=function(){var je=this;return je.preprocessor_extensions["$!"]()["$!"]()},d.$$arity=0),e.def(ae,"$preprocessors",m=function(){var Be=this;return Be.preprocessor_extensions},m.$$arity=0),e.def(ae,"$tree_processor",p=function(Be){var Ke=p.$$p,we=Ke||$e,ot,at,vt=this;return Ke&&(p.$$p=null),Ke&&(p.$$p=null),ot=e.slice.call(arguments,0,arguments.length),at=ot,t(vt,"add_document_processor",["tree_processor",at],we.$to_proc())},p.$$arity=-1),e.def(ae,"$tree_processors?",z=function(){var je=this;return je.tree_processor_extensions["$!"]()["$!"]()},z.$$arity=0),e.def(ae,"$tree_processors",Z=function(){var Be=this;return Be.tree_processor_extensions},Z.$$arity=0),e.alias(ae,"treeprocessor","tree_processor"),e.alias(ae,"treeprocessors?","tree_processors?"),e.alias(ae,"treeprocessors","tree_processors"),e.def(ae,"$postprocessor",re=function(Be){var Ke=re.$$p,we=Ke||$e,ot,at,vt=this;return Ke&&(re.$$p=null),Ke&&(re.$$p=null),ot=e.slice.call(arguments,0,arguments.length),at=ot,t(vt,"add_document_processor",["postprocessor",at],we.$to_proc())},re.$$arity=-1),e.def(ae,"$postprocessors?",ye=function(){var je=this;return je.postprocessor_extensions["$!"]()["$!"]()},ye.$$arity=0),e.def(ae,"$postprocessors",q=function(){var Be=this;return Be.postprocessor_extensions},q.$$arity=0),e.def(ae,"$include_processor",ee=function(Be){var Ke=ee.$$p,we=Ke||$e,ot,at,vt=this;return Ke&&(ee.$$p=null),Ke&&(ee.$$p=null),ot=e.slice.call(arguments,0,arguments.length),at=ot,t(vt,"add_document_processor",["include_processor",at],we.$to_proc())},ee.$$arity=-1),e.def(ae,"$include_processors?",V=function(){var je=this;return je.include_processor_extensions["$!"]()["$!"]()},V.$$arity=0),e.def(ae,"$include_processors",_e=function(){var Be=this;return Be.include_processor_extensions},_e.$$arity=0),e.def(ae,"$docinfo_processor",Me=function(Be){var Ke=Me.$$p,we=Ke||$e,ot,at,vt=this;return Ke&&(Me.$$p=null),Ke&&(Me.$$p=null),ot=e.slice.call(arguments,0,arguments.length),at=ot,t(vt,"add_document_processor",["docinfo_processor",at],we.$to_proc())},Me.$$arity=-1),e.def(ae,"$docinfo_processors?",Te=function(je){var Be,Ke=this;return je==null&&(je=$e),_(Ke.docinfo_processor_extensions)?_(je)?t(Ke.docinfo_processor_extensions,"any?",[],(Be=function(we){var ot=Be.$$s||this;return we==null&&(we=$e),we.$config()["$[]"]("location")["$=="](je)},Be.$$s=Ke,Be.$$arity=1,Be)):!0:!1},Te.$$arity=-1),e.def(ae,"$docinfo_processors",et=function(Be){var Ke,we=this;return Be==null&&(Be=$e),_(we.docinfo_processor_extensions)?_(Be)?t(we.docinfo_processor_extensions,"select",[],(Ke=function(ot){var at=Ke.$$s||this;return ot==null&&(ot=$e),ot.$config()["$[]"]("location")["$=="](Be)},Ke.$$s=we,Ke.$$arity=1,Ke)):we.docinfo_processor_extensions:$e},et.$$arity=-1),e.def(ae,"$block",ct=function(Be){var Ke=ct.$$p,we=Ke||$e,ot,at,vt=this;return Ke&&(ct.$$p=null),Ke&&(ct.$$p=null),ot=e.slice.call(arguments,0,arguments.length),at=ot,t(vt,"add_syntax_processor",["block",at],we.$to_proc())},ct.$$arity=-1),e.def(ae,"$blocks?",it=function(){var je=this;return je.block_extensions["$!"]()["$!"]()},it.$$arity=0),e.def(ae,"$registered_for_block?",Ne=function(je,Be){var Ke=this,we=$e;return _(we=Ke.block_extensions["$[]"](je.$to_sym()))&&_(we.$config()["$[]"]("contexts")["$include?"](Be))?we:!1},Ne.$$arity=2),e.def(ae,"$find_block_extension",Se=function(Be){var Ke=this;return Ke.block_extensions["$[]"](Be.$to_sym())},Se.$$arity=1),e.def(ae,"$block_macro",We=function(Be){var Ke=We.$$p,we=Ke||$e,ot,at,vt=this;return Ke&&(We.$$p=null),Ke&&(We.$$p=null),ot=e.slice.call(arguments,0,arguments.length),at=ot,t(vt,"add_syntax_processor",["block_macro",at],we.$to_proc())},We.$$arity=-1),e.def(ae,"$block_macros?",tt=function(){var je=this;return je.block_macro_extensions["$!"]()["$!"]()},tt.$$arity=0),e.def(ae,"$registered_for_block_macro?",Qe=function(je){var Be=this,Ke=$e;return _(Ke=Be.block_macro_extensions["$[]"](je.$to_sym()))?Ke:!1},Qe.$$arity=1),e.def(ae,"$find_block_macro_extension",nt=function(Be){var Ke=this;return Ke.block_macro_extensions["$[]"](Be.$to_sym())},nt.$$arity=1),e.def(ae,"$inline_macro",yt=function(Be){var Ke=yt.$$p,we=Ke||$e,ot,at,vt=this;return Ke&&(yt.$$p=null),Ke&&(yt.$$p=null),ot=e.slice.call(arguments,0,arguments.length),at=ot,t(vt,"add_syntax_processor",["inline_macro",at],we.$to_proc())},yt.$$arity=-1),e.def(ae,"$inline_macros?",lt=function(){var je=this;return je.inline_macro_extensions["$!"]()["$!"]()},lt.$$arity=0),e.def(ae,"$registered_for_inline_macro?",K=function(je){var Be=this,Ke=$e;return _(Ke=Be.inline_macro_extensions["$[]"](je.$to_sym()))?Ke:!1},K.$$arity=1),e.def(ae,"$find_inline_macro_extension",l=function(Be){var Ke=this;return Ke.inline_macro_extensions["$[]"](Be.$to_sym())},l.$$arity=1),e.def(ae,"$inline_macros",v=function(){var Be=this;return Be.inline_macro_extensions.$values()},v.$$arity=0),e.def(ae,"$prefer",I=function(Be){var Ke=I.$$p,we=Ke||$e,ot,at,vt=this,Dt=$e,bt=$e,ce=$e;return Ke&&(I.$$p=null),Ke&&(I.$$p=null),ot=e.slice.call(arguments,0,arguments.length),at=ot,Dt=function(){return _(n(Pe,"ProcessorExtension")["$==="](bt=at.$shift()))?bt:t(vt,"send",[bt].concat(e.to_a(at)),we.$to_proc())}(),ce=vt.$instance_variable_get(("@"+Dt.$kind()+"_extensions").$to_sym()),ce.$unshift(ce.$delete(Dt)),Dt},I.$$arity=-1),ae.$private(),e.def(ae,"$add_document_processor",U=function(Be,Ke){var we=U.$$p,ot=we||$e,at,vt,Dt,bt,ce=this,Ee=$e,fe=$e,o=$e,H=$e,Y=$e,Q=$e,ne=$e,k=$e,a=$e,E=$e;return we&&(U.$$p=null),we&&(U.$$p=null),Ee=Be.$to_s().$tr("_"," "),fe=t(Ee.$split(),"map",[],(at=function(T){var M=at.$$s||this;return T==null&&(T=$e),T.$capitalize()},at.$$s=ce,at.$$arity=1,at)).$join().$to_sym(),o=n(Pe,"Extensions").$const_get(fe,!1),H=function(){return _((vt=$("::","AsciidoctorJ","skip_raise"))?"constant":$e)?$($("::","AsciidoctorJ"),"Extensions").$const_get(fe,!1):$e}(),Y=_(Dt=ce.$instance_variable_get(("@"+Be+"_extensions").$to_sym()))?Dt:ce.$instance_variable_set(("@"+Be+"_extensions").$to_sym(),[]),ot!==$e?(Q=ce.$resolve_args(Ke,1),(ne=o.$new(Q)).$singleton_class().$enable_dsl(),ot.$arity()["$=="](0)?t(ne,"instance_exec",[],ot.$to_proc()):e.yield1(ot,ne),_(ne["$process_block_given?"]())||ce.$raise($("::","ArgumentError"),"No block specified to process "+Ee+" extension at "+ot.$source_location()),ne.$freeze(),k=n(Pe,"ProcessorExtension").$new(Be,ne)):(bt=ce.$resolve_args(Ke,2),Dt=e.to_ary(bt),ne=Dt[0]==null?$e:Dt[0],Q=Dt[1]==null?$e:Dt[1],_(a=n(Pe,"Helpers").$resolve_class(ne))?(_(_(Dt=Xe(a,o))?Dt:_(bt=H)?Xe(a,H):bt)||ce.$raise($("::","ArgumentError"),"Invalid type for "+Ee+" extension: "+ne),E=a.$new(Q),E.$freeze(),k=n(Pe,"ProcessorExtension").$new(Be,E)):_(_(Dt=o["$==="](ne))?Dt:_(bt=H)?H["$==="](ne):bt)?(ne.$update_config(Q),ne.$freeze(),k=n(Pe,"ProcessorExtension").$new(Be,ne)):ce.$raise($("::","ArgumentError"),"Invalid arguments specified for registering "+Ee+" extension: "+Ke)),k.$config()["$[]"]("position")["$=="](">>")?Y.$unshift(k):Y["$<<"](k),k},U.$$arity=2),e.def(ae,"$add_syntax_processor",P=function(Be,Ke){var we=P.$$p,ot=we||$e,at,vt,Dt,bt,ce=this,Ee=$e,fe=$e,o=$e,H=$e,Y=$e,Q=$e,ne=$e,k=$e,a=$e,E=$e,T=$e;return we&&(P.$$p=null),we&&(P.$$p=null),Ee=Be.$to_s().$tr("_"," "),fe=t(Ee.$split(),"map",[],(at=function(M){var te=at.$$s||this;return M==null&&(M=$e),M.$capitalize()},at.$$s=ce,at.$$arity=1,at))["$<<"]("Processor").$join().$to_sym(),o=n(Pe,"Extensions").$const_get(fe,!1),H=function(){return _((vt=$("::","AsciidoctorJ","skip_raise"))?"constant":$e)?$($("::","AsciidoctorJ"),"Extensions").$const_get(fe,!1):$e}(),Y=_(Dt=ce.$instance_variable_get(("@"+Be+"_extensions").$to_sym()))?Dt:ce.$instance_variable_set(("@"+Be+"_extensions").$to_sym(),c([],{})),ot!==$e?(bt=ce.$resolve_args(Ke,2),Dt=e.to_ary(bt),Q=Dt[0]==null?$e:Dt[0],ne=Dt[1]==null?$e:Dt[1],(k=o.$new(ce.$as_symbol(Q),ne)).$singleton_class().$enable_dsl(),ot.$arity()["$=="](0)?t(k,"instance_exec",[],ot.$to_proc()):e.yield1(ot,k),_(Q=ce.$as_symbol(k.$name()))||ce.$raise($("::","ArgumentError"),"No name specified for "+Ee+" extension at "+ot.$source_location()),_(k["$process_block_given?"]())||ce.$raise($("::","NoMethodError"),"No block specified to process "+Ee+" extension at "+ot.$source_location()),k.$freeze(),a=[Q,n(Pe,"ProcessorExtension").$new(Be,k)],t(Y,"[]=",e.to_a(a)),a[u(a.length,1)]):(bt=ce.$resolve_args(Ke,3),Dt=e.to_ary(bt),k=Dt[0]==null?$e:Dt[0],Q=Dt[1]==null?$e:Dt[1],ne=Dt[2]==null?$e:Dt[2],_(E=n(Pe,"Helpers").$resolve_class(k))?(_(_(Dt=Xe(E,o))?Dt:_(bt=H)?Xe(E,H):bt)||ce.$raise($("::","ArgumentError"),"Class specified for "+Ee+" extension does not inherit from "+o+": "+k),T=E.$new(ce.$as_symbol(Q),ne),_(Q=ce.$as_symbol(T.$name()))||ce.$raise($("::","ArgumentError"),"No name specified for "+Ee+" extension: "+k),T.$freeze(),a=[Q,n(Pe,"ProcessorExtension").$new(Be,T)],t(Y,"[]=",e.to_a(a)),a[u(a.length,1)]):_(_(Dt=o["$==="](k))?Dt:_(bt=H)?H["$==="](k):bt)?(k.$update_config(ne),_(Q=function(){return _(Q)?(a=[ce.$as_symbol(Q)],t(k,"name=",e.to_a(a)),a[u(a.length,1)]):ce.$as_symbol(k.$name())}())||ce.$raise($("::","ArgumentError"),"No name specified for "+Ee+" extension: "+k),k.$freeze(),a=[Q,n(Pe,"ProcessorExtension").$new(Be,k)],t(Y,"[]=",e.to_a(a)),a[u(a.length,1)]):ce.$raise($("::","ArgumentError"),"Invalid arguments specified for registering "+Ee+" extension: "+Ke))},P.$$arity=2),e.def(ae,"$resolve_args",de=function(Be,Ke){var we=this,ot=$e,at=$e;return ot=function(){return _($("::","Hash")["$==="](Be["$[]"](-1)))?Be.$pop():c([],{})}(),Ke["$=="](1)?ot:(_(xe(at=u(u(Ke,1),Be.$size()),0))?Be=O(Be,$("::","Array").$new(at)):_(Xe(at,0))&&Be.$pop(at["$-@"]()),Be["$<<"](ot),Be)},de.$$arity=2),e.def(ae,"$as_symbol",be=function(Be){var Ke=this;return _(Be)?Be.$to_sym():$e},be.$$arity=1),$e&&"as_symbol"}(N[0],null,N),function(x,f){var L=[x].concat(f),ae,Pe,Ie,ue,S,d,m;return e.def(x,"$generate_name",ae=function(){var z=this;return"extgrp"+z.$next_auto_id()},ae.$$arity=0),e.def(x,"$next_auto_id",Pe=function(){var z,Z=this;return Z.auto_id==null&&(Z.auto_id=$e),Z.auto_id=_(z=Z.auto_id)?z:-1,Z.auto_id=O(Z.auto_id,1)},Pe.$$arity=0),e.def(x,"$groups",Ie=function(){var z,Z=this;return Z.groups==null&&(Z.groups=$e),Z.groups=_(z=Z.groups)?z:c([],{})},Ie.$$arity=0),e.def(x,"$create",ue=function(z){var Z=ue.$$p,re=Z||$e,ye,q=this;return Z&&(ue.$$p=null),Z&&(ue.$$p=null),z==null&&(z=$e),re!==$e?n(L,"Registry").$new(s(_(ye=z)?ye:q.$generate_name(),re)):n(L,"Registry").$new()},ue.$$arity=-1),e.def(x,"$register",S=function(z){var Z=S.$$p,re=Z||$e,ye,q,ee,V=this,_e=$e,Me=$e,Te=$e,et=$e,ct=$e;return Z&&(S.$$p=null),Z&&(S.$$p=null),ye=e.slice.call(arguments,0,arguments.length),q=ye,_e=q.$size(),re!==$e?Me=re:_(Te=q.$pop())?Me=_(ee=n(L,"Helpers").$resolve_class(Te))?ee:Te:V.$raise($("::","ArgumentError"),"Extension group to register not specified"),et=_(ee=q.$pop())?ee:V.$generate_name(),_(q["$empty?"]())||V.$raise($("::","ArgumentError"),"Wrong number of arguments ("+_e+" for 1..2)"),ct=[et.$to_sym(),Me],t(V.$groups(),"[]=",e.to_a(ct)),ct[u(ct.length,1)]},S.$$arity=-1),e.def(x,"$unregister_all",d=function(){var z=this;return z.groups=c([],{}),$e},d.$$arity=0),e.def(x,"$unregister",m=function(z){var Z,re,ye,q=this;return Z=e.slice.call(arguments,0,arguments.length),re=Z,t(re,"each",[],(ye=function(ee){var V=ye.$$s||this;return V.groups==null&&(V.groups=$e),ee==null&&(ee=$e),V.groups.$delete(ee.$to_sym())},ye.$$s=q,ye.$$arity=1,ye)),$e},m.$$arity=-1),$e&&"unregister"}(e.get_singleton_class(F),N)})(g[0],g)}(A[0],A)},Opal.modules["asciidoctor/js/asciidoctor_ext/stylesheet"]=function(e){var u=e.top,O=[],xe=e.nil,Xe=e.const_get_qualified,ie=e.const_get_relative,A=e.breaker,$e=e.slice,$=e.module,n=e.klass,y=e.truthy;return e.add_stubs(["$rstrip","$read","$join"]),function(W,oe){var b=$(W,"Asciidoctor"),_=[b].concat(oe);(function(c,t,s){var i=n(c,t,"Stylesheets"),j=[i].concat(s),h;return i.$$prototype.primary_stylesheet_data=xe,e.def(i,"$primary_stylesheet_data",h=function(){var w,C=this;return C.primary_stylesheet_data=y(w=C.primary_stylesheet_data)?w:Xe("::","IO").$read(Xe("::","File").$join("css","asciidoctor.css")).$rstrip()},h.$$arity=0),xe&&"primary_stylesheet_data"})(_[0],null,_)}(O[0],O)},Opal.modules["asciidoctor/js/asciidoctor_ext/document"]=function(e){var u=e.top,O=[],xe=e.nil,Xe=e.const_get_qualified,ie=e.const_get_relative,A=e.breaker,$e=e.slice,$=e.module,n=e.klass;return function(y,W){var oe=$(y,"Asciidoctor"),b=[oe].concat(W);(function(_,c,t){var s=n(_,c,"Document"),i=[s].concat(t),j;return e.def(s,"$fill_datetime_attributes",j=function(g,w){var C=this,F=e.truthy,N=e.falsy,x=e.nil,f,L,ae,Pe,Ie,ue,S,d,m=function(tt,Qe){return Qe===0?tt.getUTCFullYear():tt.getFullYear()},p=function(tt,Qe){return Qe===0?tt.getUTCMonth():tt.getMonth()},z=function(tt,Qe){return Qe===0?tt.getUTCDate():tt.getDate()},Z=function(tt,Qe){return Qe===0?tt.getUTCHours():tt.getHours()},re=new Date;if(e.const_get_qualified("::","ENV")["$key?"]("SOURCE_DATE_EPOCH")?(re.setTime(parseInt(e.const_get_qualified("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))*1e3),L=re,f=0):f=-re.getTimezoneOffset()/60,F(ae=g["$[]"]("localdate")))N(Pe=g["$[]"]("localyear"))&&(Pe=ae.indexOf("-")===4?ae.substring(0,4):x,g["$[]="]("localyear",Pe));else{var ye=m(re,f).toString(),q=("0"+(p(re,f)+1)).slice(-2),ee=("0"+z(re,f)).slice(-2);ae=ye+"-"+q+"-"+ee,g["$[]="]("localdate",ae),Pe=ye,g["$[]="]("localyear",ye)}if(N(Ie=g["$[]"]("localtime"))){var V=("0"+Z(re,f)).slice(-2),_e=("0"+re.getMinutes()).slice(-2),Me=("0"+re.getSeconds()).slice(-2),Te;f===0?Te="UTC":f>0?Te=("+0"+f*100).slice(-5):Te=("-0"+-f*100).slice(-5),Ie=V+":"+_e+":"+Me+" "+Te,g["$[]="]("localtime",Ie)}if(N(ue=g["$[]"]("localdatetime"))&&(ue=ae+" "+Ie,g["$[]="]("localdatetime",ue)),F(L)?w=L:F(w)?f=-w.getTimezoneOffset()/60:w=re,F(S=g["$[]"]("docdate")))g["$[]="]("docyear",S.indexOf("-")===4?S.substring(0,4):x);else{var et=m(w,f).toString(),ct=("0"+(p(w,f)+1)).slice(-2),it=("0"+z(w,f)).slice(-2);S=et+"-"+ct+"-"+it,g["$[]="]("docdate",S),N(g["$[]"]("docyear"))&&g["$[]="]("docyear",et)}if(N(d=g["$[]"]("doctime"))){var Ne=("0"+Z(w,f)).slice(-2),Se=("0"+w.getMinutes()).slice(-2),We=("0"+w.getSeconds()).slice(-2),Te;f===0?Te="UTC":f>0?Te=("+0"+f*100).slice(-5):Te=("-0"+-f*100).slice(-5),d=Ne+":"+Se+":"+We+" "+Te,g["$[]="]("doctime",d)}return N(g["$[]"]("docdatetime"))&&g["$[]="]("docdatetime",S+" "+d),x},j.$$arity=2),xe&&"fill_datetime_attributes"})(b[0],ie(b,"AbstractBlock"),b)}(O[0],O)},Opal.modules["asciidoctor/js/asciidoctor_ext/substitutors"]=function(e){var u=e.top,O=[],xe=e.nil,Xe=e.const_get_qualified,ie=e.const_get_relative,A=e.breaker,$e=e.slice,$=e.module;return function(n,y){var W=$(n,"Asciidoctor"),oe=[W].concat(y);(function(b,_){var c=$(b,"Substitutors"),t=[c].concat(_),s;e.def(c,"$sub_placeholder",s=function(j,h){var g=this;return j.replace("%s",h)},s.$$arity=2)})(oe[0],oe)}(O[0],O)},Opal.modules["asciidoctor/js/asciidoctor_ext/parser"]=function(e){var u=e.top,O=[],xe=e.nil,Xe=e.const_get_qualified,ie=e.const_get_relative,A=e.breaker,$e=e.slice,$=e.module,n=e.klass,y=e.truthy;return function(W,oe){var b=$(W,"Asciidoctor"),_=[b].concat(oe);(function(c,t,s){var i=n(c,t,"Parser"),j=[i].concat(s),h,g;return y(String.prototype.repeat)?(e.defs(i,"$uniform?",h=function(w,C,F){var N=this;return C.repeat(F)===w},h.$$arity=3),xe&&"uniform?"):(e.defs(i,"$uniform?",g=function(w,C,F){var N=this;return Array.apply(null,{length:F}).map(function(){return C}).join("")===w},g.$$arity=3),xe&&"uniform?")})(_[0],null,_)}(O[0],O)},Opal.modules["asciidoctor/js/asciidoctor_ext/syntax_highlighter"]=function(e){var u=e.top,O=[],xe=e.nil,Xe=e.const_get_qualified,ie=e.const_get_relative,A=e.breaker,$e=e.slice,$=e.module,n=e.truthy;return e.add_stubs(["$key?","$registry","$[]","$include?","$include","$empty?","$debug","$logger","$join","$keys"]),function(y,W){var oe=$(y,"Asciidoctor"),b=[oe].concat(W);(function(_,c){var t=$(_,"SyntaxHighlighter"),s=[t].concat(c);(function(i,j){var h=$(i,"Factory"),g=[h].concat(j),w;e.def(h,"$for",w=function(C){var F=this;return n(F.$registry()["$key?"](C))?F.$registry()["$[]"](C):(n(F["$include?"](ie(g,"Logging")))||F.$include(ie(g,"Logging")),n(F.$registry()["$empty?"]())?F.$logger().$debug("no syntax highlighter available, functionality disabled."):F.$logger().$debug("syntax highlighter named '"+C+"' is not available, must be one of: '"+F.$registry().$keys().$join("', '")+"'."),xe)},w.$$arity=1)})(s[0],s)})(b[0],b)}(O[0],O)},Opal.modules["asciidoctor/js/asciidoctor_ext"]=function(e){var u=e.top,O=[],xe=e.nil,Xe=e.const_get_qualified,ie=e.const_get_relative,A=e.breaker,$e=e.slice;e.add_stubs(["$require"]),u.$require("asciidoctor/js/asciidoctor_ext/stylesheet"),u.$require("asciidoctor/js/asciidoctor_ext/document"),u.$require("asciidoctor/js/asciidoctor_ext/substitutors"),u.$require("asciidoctor/js/asciidoctor_ext/parser"),u.$require("asciidoctor/js/asciidoctor_ext/syntax_highlighter"),u.$require("asciidoctor/js/asciidoctor_ext/browser")},Opal.modules["asciidoctor/js/opal_ext/logger"]=function(e){function u(W,oe){return typeof W=="number"&&typeof oe=="number"?W<oe:W["$<"](oe)}var O=e.top,xe=[],Xe=e.nil,ie=e.const_get_qualified,A=e.const_get_relative,$e=e.breaker,$=e.slice,n=e.klass,y=e.truthy;return e.add_stubs(["$chr","$rjust","$message_as_string","$<","$write","$call","$[]"]),function(W,oe,b){var _=n(W,oe,"Logger"),c=[_].concat(b),t;return _.$$prototype.level=_.$$prototype.progname=_.$$prototype.pipe=_.$$prototype.formatter=Xe,function(s,i,j){var h=n(s,i,"Formatter"),g=[h].concat(j),w;return e.def(h,"$call",w=function(F,N,x,f){var L=this,ae=Xe;return ae=N.getFullYear()+"-"+("0"+(N.getMonth()+1)).slice(-2)+"-"+("0"+N.getDate()).slice(-2)+"T"+("0"+N.getHours()).slice(-2)+":"+("0"+N.getMinutes()).slice(-2)+":"+("0"+N.getSeconds()).slice(-2)+"."+("00"+new Date().getMilliseconds()*1e3).slice(-6),""+F.$chr()+", ["+ae+"] "+F.$rjust(5)+" -- "+x+": "+L.$message_as_string(f)},w.$$arity=4),Xe&&"call"}(c[0],null,c),e.def(_,"$add",t=function(i,j,h){var g=t.$$p,w=g||Xe,C,F=this;return g&&(t.$$p=null),g&&(t.$$p=null),j==null&&(j=Xe),h==null&&(h=Xe),y(u(i=y(C=i)?C:A(c,"UNKNOWN"),F.level))||(h=y(C=h)?C:F.progname,y(j)||(w!==Xe?j=e.yieldX(w,[]):(j=h,h=F.progname)),F.pipe.$write(F.formatter.$call(y(C=A(c,"SEVERITY_LABELS")["$[]"](i))?C:"ANY",new Date,h,j))),!0},t.$$arity=-2),Xe&&"add"}(xe[0],null,xe)},Opal.modules["asciidoctor/js/postscript"]=function(e){var u=e.top,O=[],xe=e.nil,Xe=e.const_get_qualified,ie=e.const_get_relative,A=e.breaker,$e=e.slice;return e.add_stubs(["$require"]),u.$require("asciidoctor/converter/composite"),u.$require("asciidoctor/converter/html5"),u.$require("asciidoctor/extensions"),u.$require("asciidoctor/js/asciidoctor_ext"),u.$require("asciidoctor/js/opal_ext/logger")},function(e){function u(b,_){return typeof b=="number"&&typeof _=="number"?b-_:b["$-"](_)}var O=e.top,xe=[],Xe=e.nil,ie=e.const_get_qualified,A=e.const_get_relative,$e=e.breaker,$=e.slice,n=e.module,y=e.send,W=e.truthy,oe=e.hash2;return e.add_stubs(["$require","$==","$to_h","$sort","$map","$constants","$const_get","$downcase","$to_s","$<=>","$upcase","$[]","$values","$new","$attr_reader","$instance_variable_set","$send","$singleton_class","$<<","$define","$dirname","$absolute_path","$__dir__","$join","$home","$pwd","$to_set","$tap","$each","$chr","$each_key","$slice","$[]=","$-","$length","$merge","$default=","$drop","$insert"]),O.$require("set"),A(xe,"RUBY_ENGINE")["$=="]("opal")&&O.$require("asciidoctor/js"),function(b,_){var c=n(b,"Asciidoctor"),t=[c].concat(_),s,i,j,h,g,w,C=Xe;e.const_set(t[0],"RUBY_ENGINE_OPAL",e.const_set(t[0],"RUBY_ENGINE",ie("::","RUBY_ENGINE"))["$=="]("opal")),function(F,N){var x=n(F,"SafeMode"),f=[x].concat(N),L,ae,Pe,Ie,ue;e.const_set(f[0],"UNSAFE",0),e.const_set(f[0],"SAFE",1),e.const_set(f[0],"SERVER",10),e.const_set(f[0],"SECURE",20),x.names_by_value=y(y(x.$constants(!1),"map",[],(L=function(S){var d=L.$$s||this;return S==null&&(S=Xe),[d.$const_get(S),S.$to_s().$downcase()]},L.$$s=x,L.$$arity=1,L)),"sort",[],(ae=function(S,d){var m=ae.$$s||this,p,z,Z=Xe,re=Xe;return S==null&&(S=Xe),d==null&&(d=Xe),z=S,p=e.to_ary(z),Z=p[0]==null?Xe:p[0],z=d,p=e.to_ary(z),re=p[0]==null?Xe:p[0],Z["$<=>"](re)},ae.$$s=x,ae.$$arity=2,ae.$$has_top_level_mlhs_arg=!0,ae)).$to_h(),e.defs(x,"$value_for_name",Pe=function(d){var m=this;return m.$const_get(d.$upcase(),!1)},Pe.$$arity=1),e.defs(x,"$name_for_value",Ie=function(d){var m=this;return m.names_by_value==null&&(m.names_by_value=Xe),m.names_by_value["$[]"](d)},Ie.$$arity=1),e.defs(x,"$names",ue=function(){var d=this;return d.names_by_value==null&&(d.names_by_value=Xe),d.names_by_value.$values()},ue.$$arity=0)}(t[0],t),function(F,N){var x=n(F,"Compliance"),f=[x].concat(N);x.keys=ie("::","Set").$new(),function(L,ae){var Pe=[L].concat(ae),Ie;return L.$attr_reader("keys"),e.def(L,"$define",Ie=function(S,d){var m=this;return m.keys==null&&(m.keys=Xe),m.$instance_variable_set("@"+S,d),m.$singleton_class().$send("attr_accessor",S),m.keys["$<<"](S),Xe},Ie.$$arity=2),Xe&&"define"}(e.get_singleton_class(x),f),x.$define("block_terminates_paragraph",!0),x.$define("strict_verbatim_paragraphs",!0),x.$define("underline_style_section_titles",!0),x.$define("unwrap_standalone_preamble",!0),x.$define("attribute_missing","skip"),x.$define("attribute_undefined","drop-line"),x.$define("shorthand_property_syntax",!0),x.$define("natural_xrefs",!0),x.$define("unique_id_start_index",2),x.$define("markdown_syntax",!0)}(t[0],t),W((s=A(t,"ROOT_DIR","skip_raise"))?"constant":Xe)||e.const_set(t[0],"ROOT_DIR",ie("::","File").$dirname(ie("::","File").$absolute_path(c.$__dir__()))),e.const_set(t[0],"LIB_DIR",ie("::","File").$join(A(t,"ROOT_DIR"),"lib")),e.const_set(t[0],"DATA_DIR",ie("::","File").$join(A(t,"ROOT_DIR"),"data")),e.const_set(t[0],"USER_HOME",function(){try{return ie("::","Dir").$home()}catch(F){if(e.rescue(F,[A(t,"StandardError")]))try{return W(i=ie("::","ENV")["$[]"]("HOME"))?i:ie("::","Dir").$pwd()}finally{e.pop_exception()}else throw F}}()),e.const_set(t[0],"LF",`
`),e.const_set(t[0],"NULL","\0"),e.const_set(t[0],"TAB","	"),e.const_set(t[0],"MAX_INT",9007199254740991),e.const_set(t[0],"UTF_8",ie(ie("::","Encoding"),"UTF_8")),e.const_set(t[0],"BOM_BYTES_UTF_8",[239,187,191]),e.const_set(t[0],"BOM_BYTES_UTF_16LE",[255,254]),e.const_set(t[0],"BOM_BYTES_UTF_16BE",[254,255]),e.const_set(t[0],"FILE_READ_MODE",function(){return W(A(t,"RUBY_ENGINE_OPAL"))?"r":"rb:utf-8:utf-8"}()),e.const_set(t[0],"URI_READ_MODE",A(t,"FILE_READ_MODE")),e.const_set(t[0],"FILE_WRITE_MODE",function(){return W(A(t,"RUBY_ENGINE_OPAL"))?"w":"w:utf-8"}()),e.const_set(t[0],"DEFAULT_DOCTYPE","article"),e.const_set(t[0],"DEFAULT_BACKEND","html5"),e.const_set(t[0],"DEFAULT_STYLESHEET_KEYS",["","DEFAULT"].$to_set()),e.const_set(t[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css"),e.const_set(t[0],"BACKEND_ALIASES",oe(["html","docbook"],{html:"html5",docbook:"docbook5"})),e.const_set(t[0],"DEFAULT_PAGE_WIDTHS",oe(["docbook"],{docbook:425})),e.const_set(t[0],"DEFAULT_EXTENSIONS",oe(["html","docbook","pdf","epub","manpage","asciidoc"],{html:".html",docbook:".xml",pdf:".pdf",epub:".epub",manpage:".man",asciidoc:".adoc"})),e.const_set(t[0],"ASCIIDOC_EXTENSIONS",oe([".adoc",".asciidoc",".asc",".ad",".txt"],{".adoc":!0,".asciidoc":!0,".asc":!0,".ad":!0,".txt":!0})),e.const_set(t[0],"SETEXT_SECTION_LEVELS",oe(["=","-","~","^","+"],{"=":0,"-":1,"~":2,"^":3,"+":4})),e.const_set(t[0],"ADMONITION_STYLES",["NOTE","TIP","IMPORTANT","WARNING","CAUTION"].$to_set()),e.const_set(t[0],"ADMONITION_STYLE_HEADS",y(ie("::","Set").$new(),"tap",[],(j=function(F){var N=j.$$s||this,x;return F==null&&(F=Xe),y(A(t,"ADMONITION_STYLES"),"each",[],(x=function(f){var L=x.$$s||this;return f==null&&(f=Xe),F["$<<"](f.$chr())},x.$$s=N,x.$$arity=1,x))},j.$$s=c,j.$$arity=1,j))),e.const_set(t[0],"PARAGRAPH_STYLES",["comment","example","literal","listing","normal","open","pass","quote","sidebar","source","verse","abstract","partintro"].$to_set()),e.const_set(t[0],"VERBATIM_STYLES",["literal","listing","source","verse"].$to_set()),e.const_set(t[0],"DELIMITED_BLOCKS",oe(["--","----","....","====","****","____","++++","|===",",===",":===","!===","////","```"],{"--":["open",["comment","example","literal","listing","pass","quote","sidebar","source","verse","admonition","abstract","partintro"].$to_set()],"----":["listing",["literal","source"].$to_set()],"....":["literal",["listing","source"].$to_set()],"====":["example",["admonition"].$to_set()],"****":["sidebar",ie("::","Set").$new()],____:["quote",["verse"].$to_set()],"++++":["pass",["stem","latexmath","asciimath"].$to_set()],"|===":["table",ie("::","Set").$new()],",===":["table",ie("::","Set").$new()],":===":["table",ie("::","Set").$new()],"!===":["table",ie("::","Set").$new()],"////":["comment",ie("::","Set").$new()],"```":["fenced_code",ie("::","Set").$new()]})),e.const_set(t[0],"DELIMITED_BLOCK_HEADS",y(oe([],{}),"tap",[],(h=function(F){var N=h.$$s||this,x;return F==null&&(F=Xe),y(A(t,"DELIMITED_BLOCKS"),"each_key",[],(x=function(f){var L=x.$$s||this,ae=Xe;return f==null&&(f=Xe),ae=[f.$slice(0,2),!0],y(F,"[]=",e.to_a(ae)),ae[u(ae.length,1)]},x.$$s=N,x.$$arity=1,x))},h.$$s=c,h.$$arity=1,h))),e.const_set(t[0],"DELIMITED_BLOCK_TAILS",y(oe([],{}),"tap",[],(g=function(F){var N=g.$$s||this,x;return F==null&&(F=Xe),y(A(t,"DELIMITED_BLOCKS"),"each_key",[],(x=function(f){var L=x.$$s||this,ae=Xe;return f==null&&(f=Xe),f.$length()["$=="](4)?(ae=[f,f["$[]"](u(f.$length(),1))],y(F,"[]=",e.to_a(ae)),ae[u(ae.length,1)]):Xe},x.$$s=N,x.$$arity=1,x))},g.$$s=c,g.$$arity=1,g))),e.const_set(t[0],"CAPTION_ATTRIBUTE_NAMES",oe(["example","figure","listing","table"],{example:"example-caption",figure:"figure-caption",listing:"listing-caption",table:"table-caption"})),e.const_set(t[0],"LAYOUT_BREAK_CHARS",oe(["'","<"],{"'":"thematic_break","<":"page_break"})),e.const_set(t[0],"MARKDOWN_THEMATIC_BREAK_CHARS",oe(["-","*","_"],{"-":"thematic_break","*":"thematic_break",_:"thematic_break"})),e.const_set(t[0],"HYBRID_LAYOUT_BREAK_CHARS",A(t,"LAYOUT_BREAK_CHARS").$merge(A(t,"MARKDOWN_THEMATIC_BREAK_CHARS"))),e.const_set(t[0],"NESTABLE_LIST_CONTEXTS",["ulist","olist","dlist"]),e.const_set(t[0],"ORDERED_LIST_STYLES",["arabic","loweralpha","lowerroman","upperalpha","upperroman"]),e.const_set(t[0],"ORDERED_LIST_KEYWORDS",oe(["loweralpha","lowerroman","upperalpha","upperroman"],{loweralpha:"a",lowerroman:"i",upperalpha:"A",upperroman:"I"})),e.const_set(t[0],"ATTR_REF_HEAD","{"),e.const_set(t[0],"LIST_CONTINUATION","+"),e.const_set(t[0],"HARD_LINE_BREAK"," +"),e.const_set(t[0],"LINE_CONTINUATION"," \\"),e.const_set(t[0],"LINE_CONTINUATION_LEGACY"," +"),e.const_set(t[0],"BLOCK_MATH_DELIMITERS",oe(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\[","\\]"]})),e.const_set(t[0],"INLINE_MATH_DELIMITERS",oe(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]})),C=["asciimath"],y(e.const_set(t[0],"STEM_TYPE_ALIASES",oe(["latexmath","latex","tex"],{latexmath:"latexmath",latex:"latexmath",tex:"latexmath"})),"default=",e.to_a(C)),C[u(C.length,1)],e.const_set(t[0],"FONT_AWESOME_VERSION","4.7.0"),e.const_set(t[0],"HIGHLIGHT_JS_VERSION","9.18.3"),e.const_set(t[0],"MATHJAX_VERSION","2.7.9"),e.const_set(t[0],"DEFAULT_ATTRIBUTES",oe(["appendix-caption","appendix-refsig","caution-caption","chapter-refsig","example-caption","figure-caption","important-caption","last-update-label","note-caption","part-refsig","prewrap","sectids","section-refsig","table-caption","tip-caption","toc-placement","toc-title","untitled-label","version-label","warning-caption"],{"appendix-caption":"Appendix","appendix-refsig":"Appendix","caution-caption":"Caution","chapter-refsig":"Chapter","example-caption":"Example","figure-caption":"Figure","important-caption":"Important","last-update-label":"Last updated","note-caption":"Note","part-refsig":"Part",prewrap:"",sectids:"","section-refsig":"Section","table-caption":"Table","tip-caption":"Tip","toc-placement":"auto","toc-title":"Table of Contents","untitled-label":"Untitled","version-label":"Version","warning-caption":"Warning"})),e.const_set(t[0],"FLEXIBLE_ATTRIBUTES",["sectnums"]),e.const_set(t[0],"INTRINSIC_ATTRIBUTES",oe(["startsb","endsb","vbar","caret","asterisk","tilde","plus","backslash","backtick","blank","empty","sp","two-colons","two-semicolons","nbsp","deg","zwsp","quot","apos","lsquo","rsquo","ldquo","rdquo","wj","brvbar","pp","cpp","amp","lt","gt"],{startsb:"[",endsb:"]",vbar:"|",caret:"^",asterisk:"*",tilde:"~",plus:"&#43;",backslash:"\\",backtick:"`",blank:"",empty:"",sp:" ","two-colons":"::","two-semicolons":";;",nbsp:"&#160;",deg:"&#176;",zwsp:"&#8203;",quot:"&#34;",apos:"&#39;",lsquo:"&#8216;",rsquo:"&#8217;",ldquo:"&#8220;",rdquo:"&#8221;",wj:"&#8288;",brvbar:"&#166;",pp:"&#43;&#43;",cpp:"C&#43;&#43;",amp:"&",lt:"<",gt:">"})),A(t,"RUBY_ENGINE")["$=="]("opal"),e.const_set(t[0],"QUOTE_SUBS",y(oe([],{}),"tap",[],(w=function(F){var N=w.$$s||this,x=Xe,f=Xe;return F==null&&(F=Xe),C=[!1,x=[["strong","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?\\*\\*("+A(t,"CC_ALL")+"+?)\\*\\*","m")],["strong","constrained",new RegExp("(^|[^"+A(t,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?\\*(\\S|\\S"+A(t,"CC_ALL")+"*?\\S)\\*(?!"+A(t,"CG_WORD")+")","m")],["double","constrained",new RegExp("(^|[^"+A(t,"CC_WORD")+';:}])(?:\\[([^\\]]+)\\])?"`(\\S|\\S'+A(t,"CC_ALL")+'*?\\S)`"(?!'+A(t,"CG_WORD")+")","m")],["single","constrained",new RegExp("(^|[^"+A(t,"CC_WORD")+";:`}])(?:\\[([^\\]]+)\\])?'`(\\S|\\S"+A(t,"CC_ALL")+"*?\\S)`'(?!"+A(t,"CG_WORD")+")","m")],["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?``("+A(t,"CC_ALL")+"+?)``","m")],["monospaced","constrained",new RegExp("(^|[^"+A(t,"CC_WORD")+";:\"'`}])(?:\\[([^\\]]+)\\])?`(\\S|\\S"+A(t,"CC_ALL")+"*?\\S)`(?!["+A(t,"CC_WORD")+"\"'`])","m")],["emphasis","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?__("+A(t,"CC_ALL")+"+?)__","m")],["emphasis","constrained",new RegExp("(^|[^"+A(t,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?_(\\S|\\S"+A(t,"CC_ALL")+"*?\\S)_(?!"+A(t,"CG_WORD")+")","m")],["mark","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?##("+A(t,"CC_ALL")+"+?)##","m")],["mark","constrained",new RegExp("(^|[^"+A(t,"CC_WORD")+"&;:}])(?:\\[([^\\]]+)\\])?#(\\S|\\S"+A(t,"CC_ALL")+"*?\\S)#(?!"+A(t,"CG_WORD")+")","m")],["superscript","unconstrained",/\\?(?:\[([^\]]+)\])?\^(\S+?)\^/],["subscript","unconstrained",/\\?(?:\[([^\]]+)\])?~(\S+?)~/]]],y(F,"[]=",e.to_a(C)),C[u(C.length,1)],C=[!0,f=x.$drop(0)],y(F,"[]=",e.to_a(C)),C[u(C.length,1)],C=[2,["double","constrained",new RegExp("(^|[^"+A(t,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?``(\\S|\\S"+A(t,"CC_ALL")+"*?\\S)''(?!"+A(t,"CG_WORD")+")","m")]],y(f,"[]=",e.to_a(C)),C[u(C.length,1)],C=[3,["single","constrained",new RegExp("(^|[^"+A(t,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?`(\\S|\\S"+A(t,"CC_ALL")+"*?\\S)'(?!"+A(t,"CG_WORD")+")","m")]],y(f,"[]=",e.to_a(C)),C[u(C.length,1)],C=[4,["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?\\+\\+("+A(t,"CC_ALL")+"+?)\\+\\+","m")]],y(f,"[]=",e.to_a(C)),C[u(C.length,1)],C=[5,["monospaced","constrained",new RegExp("(^|[^"+A(t,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?\\+(\\S|\\S"+A(t,"CC_ALL")+"*?\\S)\\+(?!"+A(t,"CG_WORD")+")","m")]],y(f,"[]=",e.to_a(C)),C[u(C.length,1)],f.$insert(3,["emphasis","constrained",new RegExp("(^|[^"+A(t,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?'(\\S|\\S"+A(t,"CC_ALL")+"*?\\S)'(?!"+A(t,"CG_WORD")+")","m")])},w.$$s=c,w.$$arity=1,w))),e.const_set(t[0],"REPLACEMENTS",[[/\\?\(C\)/,"&#169;","none"],[/\\?\(R\)/,"&#174;","none"],[/\\?\(TM\)/,"&#8482;","none"],[/(?: |\n|^|\\)--(?: |\n|$)/,"&#8201;&#8212;&#8201;","none"],[new RegExp("("+A(t,"CG_WORD")+")\\\\?--(?="+A(t,"CG_WORD")+")"),"&#8212;&#8203;","leading"],[/\\?\.\.\./,"&#8230;&#8203;","none"],[/\\?`'/,"&#8217;","none"],[new RegExp("("+A(t,"CG_ALNUM")+")\\\\?'(?="+A(t,"CG_ALPHA")+")"),"&#8217;","leading"],[/\\?-&gt;/,"&#8594;","none"],[/\\?=&gt;/,"&#8658;","none"],[/\\?&lt;-/,"&#8592;","none"],[/\\?&lt;=/,"&#8656;","none"],[/\\?(&)amp;((?:[a-zA-Z][a-zA-Z]+\d{0,2}|#\d\d\d{0,4}|#x[\da-fA-F][\da-fA-F][\da-fA-F]{0,3});)/,"","bounding"]]),A(t,"RUBY_ENGINE")["$=="]("opal"),A(t,"RUBY_ENGINE")["$=="]("opal")}(xe[0],xe),O.$require("asciidoctor.rb/../asciidoctor/core_ext"),O.$require("asciidoctor.rb/../asciidoctor/helpers"),O.$require("asciidoctor.rb/../asciidoctor/logging"),O.$require("asciidoctor.rb/../asciidoctor/rx"),O.$require("asciidoctor.rb/../asciidoctor/substitutors"),O.$require("asciidoctor.rb/../asciidoctor/version"),O.$require("asciidoctor.rb/../asciidoctor/abstract_node"),O.$require("asciidoctor.rb/../asciidoctor/abstract_block"),O.$require("asciidoctor.rb/../asciidoctor/attribute_list"),O.$require("asciidoctor.rb/../asciidoctor/block"),O.$require("asciidoctor.rb/../asciidoctor/callouts"),O.$require("asciidoctor.rb/../asciidoctor/converter"),O.$require("asciidoctor.rb/../asciidoctor/document"),O.$require("asciidoctor.rb/../asciidoctor/inline"),O.$require("asciidoctor.rb/../asciidoctor/list"),O.$require("asciidoctor.rb/../asciidoctor/parser"),O.$require("asciidoctor.rb/../asciidoctor/path_resolver"),O.$require("asciidoctor.rb/../asciidoctor/reader"),O.$require("asciidoctor.rb/../asciidoctor/section"),O.$require("asciidoctor.rb/../asciidoctor/stylesheets"),O.$require("asciidoctor.rb/../asciidoctor/table"),O.$require("asciidoctor.rb/../asciidoctor/writer"),O.$require("asciidoctor.rb/../asciidoctor/load"),O.$require("asciidoctor.rb/../asciidoctor/convert"),A(xe,"RUBY_ENGINE")["$=="]("opal")?(O.$require("asciidoctor.rb/../asciidoctor/syntax_highlighter"),O.$require("asciidoctor.rb/../asciidoctor/timings"),O.$require("asciidoctor/js/postscript")):Xe}(Opal);var Re=function(e){return e&&!e.$$is_hash?Opal.hash2(Object.keys(e),e):e},Je=function(e){var u={};if(e){var O=e.$$smap;for(var xe in O){var Xe=O[xe];u[xe]=Xe===Opal.nil?void 0:Xe}var ie=e.$$map;if(ie){var A=[];for(var $e in ie){var $=ie[$e],n=$.value,y=$.key-1;A[y]=n===Opal.nil?void 0:n}A.length>0&&(u.$positional=A)}}return u},Ze=function(e){var u={};if(e){var O=e.$$keys;for(var xe in O){var Xe=O[xe].value;u[xe.toString()]=Xe===Opal.nil?void 0:Xe}}return u},Fe=function(e){if(e=Re(e),e){var u=e["$[]"]("attributes");u&&typeof u=="object"&&u.constructor.name==="Object"&&(e=e.$dup(),e["$[]="]("attributes",Re(u)))}return e};function he(e,u,O,xe,Xe){var ie=Opal.klass(Opal.Object,e,u,function(){}),A,$e,$,n={};for(var y in O)Object.prototype.hasOwnProperty.call(O,y)&&function(b){var _=O[b];b==="postConstruct"?A=_:b==="initialize"?$e=_:b==="constructor"?$=_:(xe&&Object.prototype.hasOwnProperty.call(xe,b)&&(n[b]=!0),Opal.def(ie,"$"+b,function(){var c;return Xe&&Object.prototype.hasOwnProperty.call(Xe,b)?c=Xe[b](arguments):c=arguments,_.apply(this,c)}))}(y);var W;if(typeof $=="function"?W=function(){for(var b=Array.from(arguments),_=0;_<b.length;_++)typeof b[_]=="object"&&"$$smap"in b[_]&&(b[_]=Je(b[_]));b.unshift(null);var c=new(Function.prototype.bind.apply($,b));Object.assign(this,c),typeof A=="function"&&A.bind(this)()}:typeof $e=="function"?W=function(){for(var b=Array.from(arguments),_=0;_<b.length;_++)typeof b[_]=="object"&&"$$smap"in b[_]&&(b[_]=Je(b[_]));$e.apply(this,b),typeof A=="function"&&A.bind(this)()}:W=function(){Opal.send(this,Opal.find_super_dispatcher(this,"initialize",W)),typeof A=="function"&&A.bind(this)()},Opal.def(ie,"$initialize",W),Opal.def(ie,"super",function(b){if(typeof b=="function")Opal.send(this,Opal.find_super_dispatcher(this,b.name,b));else{for(var _=Array.from(arguments),c=0;c<_.length;c++)typeof _[c]=="object"&&(_[c]=Re(_[c]));Opal.send(this,Opal.find_super_dispatcher(this,"initialize",W),_)}}),xe)for(var oe in xe)Object.prototype.hasOwnProperty.call(xe,oe)&&!Object.prototype.hasOwnProperty.call(n,oe)&&function(b){var _=xe[b];Opal.def(ie,"$"+b,function(){return _.apply(this,arguments)})}(oe);return ie}var gt=Opal.Asciidoctor.$$class;gt.prototype.getCoreVersion=function(){return this.$$const.VERSION},gt.prototype.getRuntime=function(){return{ioModule:Opal.const_get_qualified("::","JAVASCRIPT_IO_MODULE"),platform:Opal.const_get_qualified("::","JAVASCRIPT_PLATFORM"),engine:Opal.const_get_qualified("::","JAVASCRIPT_ENGINE"),framework:Opal.const_get_qualified("::","JAVASCRIPT_FRAMEWORK")}},gt.prototype.convert=function(e,u){typeof e=="object"&&e.constructor.name==="Buffer"&&(e=e.toString("utf8"));var O=this.$convert(e,Fe(u));return O===Opal.nil?"":O},gt.prototype.convertFile=function(e,u){return this.$convert_file(e,Fe(u))},gt.prototype.load=function(e,u){return typeof e=="object"&&e.constructor.name==="Buffer"&&(e=e.toString("utf8")),this.$load(e,Fe(u))},gt.prototype.loadFile=function(e,u){return this.$load_file(e,Fe(u))};var Ce=Opal.Asciidoctor.AbstractBlock;Ce.prototype.append=function(e){return this.$append(e),this},Ce.prototype.getTitle=function(){var e=this.$title();return e===Opal.nil?void 0:e},Ce.prototype.setTitle=function(e){return e=typeof e>"u"?Opal.nil:e,this["$title="](e)},Ce.prototype.assignCaption=function(e,u){e=typeof e>"u"?Opal.nil:e,u=typeof u>"u"?null:u,this.$assign_caption(e,u)},Ce.prototype.getCaptionedTitle=function(){return this.$captioned_title()},Ce.prototype.getStyle=function(){var e=this.style;return e===Opal.nil?void 0:e},Ce.prototype.setStyle=function(e){this.style=e},Ce.prototype.getSourceLocation=function(){var e=this.source_location;if(e!==Opal.nil)return e.getFile=function(){var u=this.file;return u===Opal.nil?void 0:u},e.getDirectory=function(){var u=this.dir;return u===Opal.nil?void 0:u},e.getPath=function(){var u=this.path;return u===Opal.nil?void 0:u},e.getLineNumber=function(){var u=this.lineno;return u===Opal.nil?void 0:u},e},Ce.prototype.getCaption=function(){var e=this.$caption();return e===Opal.nil?void 0:e},Ce.prototype.setCaption=function(e){this.caption=typeof e>"u"?Opal.nil:e},Ce.prototype.getLevel=function(){var e=this.level;return e===Opal.nil?void 0:e},Ce.prototype.getSubstitutions=function(){return this.subs},Ce.prototype.hasSubstitution=function(e){return this["$sub?"](e)},Ce.prototype.removeSubstitution=function(e){this.$remove_sub(e)},Ce.prototype.hasBlocks=function(){return this.blocks.length>0},Ce.prototype.getBlocks=function(){return this.blocks},Ce.prototype.getContent=function(){return this.$content()},Ce.prototype.convert=function(){return this.$convert()},Ce.prototype.findBy=function(e,u){return typeof u>"u"&&typeof e=="function"?Opal.send(this,"find_by",null,e):typeof u=="function"?Opal.send(this,"find_by",[Re(e)],u):this.$find_by(Re(e))},Ce.prototype.getLineNumber=function(){var e=this.$lineno();return e===Opal.nil?void 0:e},Ce.prototype.hasSections=function(){return this.next_section_index!==Opal.nil&&this.next_section_index>0},Ce.prototype.getSections=function(){return this.$sections()},Ce.prototype.getNumeral=function(){return this.$numeral()},Ce.prototype.setNumeral=function(e){this["$numeral="](e)},Ce.prototype.hasTitle=function(){return this["$title?"]()},Ce.prototype.getAlt=function(){return this.$alt()};var R=Opal.Asciidoctor.Section;R.create=function(e,u,O,xe){return xe&&xe.attributes&&(xe.attributes=Re(xe.attributes)),this.$new(e,u,O,Re(xe))},R.prototype.setLevel=function(e){this.level=e},R.prototype.getIndex=function(){return this.index},R.prototype.setIndex=function(e){this.index=e},R.prototype.getSectionName=function(){var e=this.sectname;return e===Opal.nil?void 0:e},R.prototype.setSectionName=function(e){this.sectname=e},R.prototype.isSpecial=function(){return this.special},R.prototype.setSpecial=function(e){this.special=e},R.prototype.isNumbered=function(){return this.numbered},R.prototype.getCaption=function(){var e=this.caption;return e===Opal.nil?void 0:e},R.prototype.getName=function(){return this.getTitle()};var Gt=Opal.Asciidoctor.Block;Gt.create=function(e,u,O){return O&&O.attributes&&(O.attributes=Re(O.attributes)),this.$new(e,u,Re(O))},Gt.prototype.getSource=function(){return this.$source()},Gt.prototype.getSourceLines=function(){return this.lines};var B=Opal.Asciidoctor.AbstractNode;B.prototype.applySubstitutions=function(e,u){return this.$apply_subs(e,u)},B.prototype.resolveSubstitutions=function(e,u,O,xe){typeof u>"u"&&(u="block"),typeof O>"u"&&(O=Opal.nil),typeof xe>"u"&&(xe=Opal.nil);let Xe=this.$resolve_subs(e,u,O,xe);return Xe===Opal.nil?void 0:Xe},B.prototype.resolveBlockSubstitutions=function(e,u,O){return this.resolveSubstitutions(e,"block",u,O)},B.prototype.resolvePassSubstitutions=function(e){return this.resolveSubstitutions(e,"inline",void 0,"passthrough macro")},B.prototype.getNodeName=function(){return this.node_name},B.prototype.getAttributes=function(){return Je(this.attributes)},B.prototype.getAttribute=function(e,u,O){var xe=this.$attr(e,u,O);return xe===Opal.nil?void 0:xe},B.prototype.hasAttribute=function(e){return e in this.attributes.$$smap},B.prototype.isAttribute=function(e,u,O){var xe=this["$attr?"](e,u,O);return xe===Opal.nil?!1:xe},B.prototype.setAttribute=function(e,u,O){return typeof O>"u"&&(O=!0),this.$set_attr(e,u,O)},B.prototype.removeAttribute=function(e){var u=this.$remove_attr(e);return u===Opal.nil?void 0:u},B.prototype.getDocument=function(){return this.document},B.prototype.getParent=function(){var e=this.parent;return e===Opal.nil?void 0:e},B.prototype.isInline=function(){return this["$inline?"]()},B.prototype.isBlock=function(){return this["$block?"]()},B.prototype.isRole=function(e){return this["$role?"](e)},B.prototype.getRole=function(){return this.$role()},B.prototype.hasRole=function(e){return this["$has_role?"](e)},B.prototype.getRoles=function(){return this.$roles()},B.prototype.addRole=function(e){return this.$add_role(e)},B.prototype.removeRole=function(e){return this.$remove_role(e)},B.prototype.isReftext=function(){return this["$reftext?"]()},B.prototype.getReftext=function(){var e=this.$reftext();return e===Opal.nil?void 0:e},B.prototype.getContext=function(){var e=this.context;return typeof e=="string"?e:e.toString()},B.prototype.getId=function(){var e=this.id;return e===Opal.nil?void 0:e},B.prototype.setId=function(e){this.id=e},B.prototype.isOption=function(e){return this["$option?"](e)},B.prototype.setOption=function(e){return this.$set_option(e)},B.prototype.getIconUri=function(e){return this.$icon_uri(e)},B.prototype.getMediaUri=function(e,u){return this.$media_uri(e,u)},B.prototype.getImageUri=function(e,u){return this.$image_uri(e,u)},B.prototype.getConverter=function(){return this.$converter()},B.prototype.readContents=function(e,u){return this.$read_contents(e,Re(u))},B.prototype.readAsset=function(e,u){var O=this.$read_asset(e,Re(u));return O===Opal.nil?void 0:O},B.prototype.normalizeWebPath=function(e,u,O){return this.$normalize_web_path(e,u,O)},B.prototype.normalizeSystemPath=function(e,u,O,xe){return this.$normalize_system_path(e,u,O,Re(xe))},B.prototype.normalizeAssetPath=function(e,u,O){return this.$normalize_asset_path(e,u,O)};var ke=Opal.Asciidoctor.Document;ke.prototype.getRefs=function(){return Je(this.catalog.$$smap.refs)},ke.prototype.getImages=function(){return this.catalog.$$smap.images},ke.prototype.getLinks=function(){return this.catalog.$$smap.links},ke.prototype.hasFootnotes=function(){return this["$footnotes?"]()},ke.prototype.getFootnotes=function(){return this.$footnotes()},ke.prototype.getHeader=function(){return this.header},ke.prototype.setAttribute=function(e,u){return this.$set_attribute(e,u)},ke.prototype.removeAttribute=function(e){this.attributes.$delete(e),this.attribute_overrides.$delete(e)},ke.prototype.convert=function(e){var u=this.$convert(Re(e));return u===Opal.nil?"":u},ke.prototype.write=function(e,u){return this.$write(e,u)},ke.prototype.getAuthor=function(){return this.$author()},ke.prototype.getSource=function(){return this.$source()},ke.prototype.getSourceLines=function(){return this.$source_lines()},ke.prototype.isNested=function(){return this["$nested?"]()},ke.prototype.isEmbedded=function(){return this["$embedded?"]()},ke.prototype.hasExtensions=function(){return this["$extensions?"]()},ke.prototype.getDoctype=function(){return this.doctype},ke.prototype.getBackend=function(){return this.backend},ke.prototype.isBasebackend=function(e){return this["$basebackend?"](e)},ke.prototype.getTitle=function(){var e=this.$title();return e===Opal.nil?void 0:e},ke.prototype.setTitle=function(e){return this["$title="](e)},ke.prototype.getDocumentTitle=function(e){var u=this.$doctitle(Re(e));return u===Opal.nil?void 0:u},ke.prototype.getDoctitle=ke.prototype.getDocumentTitle,ke.prototype.getCatalog=function(){return Je(this.catalog)},ke.prototype.getReferences=ke.prototype.getCatalog,ke.prototype.getRevisionDate=function(){return this.getAttribute("revdate")},ke.prototype.getRevdate=function(){return this.getRevisionDate()},ke.prototype.getRevisionNumber=function(){return this.getAttribute("revnumber")},ke.prototype.getRevisionRemark=function(){return this.getAttribute("revremark")},ke.prototype.setHeaderAttribute=function(e,u,O){return typeof O>"u"&&(O=!0),typeof u>"u"&&(u=""),this.$set_header_attribute(e,u,O)},ke.prototype.getAuthors=function(){return this.$authors()};var st=ke.Footnote;st.prototype.getIndex=function(){var e=this.$$data.index;return e===Opal.nil?void 0:e},st.prototype.getId=function(){var e=this.$$data.id;return e===Opal.nil?void 0:e},st.prototype.getText=function(){var e=this.$$data.text;return e===Opal.nil?void 0:e};var Ge=ke.ImageReference;Ge.prototype.getTarget=function(){return this.$$data.target},Ge.prototype.getImagesDirectory=function(){var e=this.$$data.imagesdir;return e===Opal.nil?void 0:e};var zt=ke.Author;zt.prototype.getName=function(){var e=this.$$data.name;return e===Opal.nil?void 0:e},zt.prototype.getFirstName=function(){var e=this.$$data.firstname;return e===Opal.nil?void 0:e},zt.prototype.getMiddleName=function(){var e=this.$$data.middlename;return e===Opal.nil?void 0:e},zt.prototype.getLastName=function(){var e=this.$$data.lastname;return e===Opal.nil?void 0:e},zt.prototype.getInitials=function(){var e=this.$$data.initials;return e===Opal.nil?void 0:e},zt.prototype.getEmail=function(){var e=this.$$data.email;return e===Opal.nil?void 0:e},ke.RevisionInfo=function(e,u,O){this.date=e,this.number=u,this.remark=O};var Oe=ke.RevisionInfo;Oe.prototype.getDate=function(){return this.date},Oe.prototype.getNumber=function(){return this.number},Oe.prototype.getRemark=function(){return this.remark},Oe.prototype.isEmpty=function(){return this.date===void 0&&this.number===void 0&&this.remark===void 0};var ve=Opal.Asciidoctor.SafeMode;ve.getValueForName=function(e){return this.$value_for_name(e)},ve.getNameForValue=function(e){var u=this.$name_for_value(e);return u===Opal.nil?void 0:u},ve.getNames=function(){return this.$names()};var J=Opal.Asciidoctor.Callouts;J.create=function(){return this.$new()},J.prototype.register=function(e){return this.$register(e)},J.prototype.readNextId=function(){return this.$read_next_id()},J.prototype.getCalloutIds=function(e){return this.$callout_ids(e)},J.prototype.getLists=function(){var e=this.lists;if(e&&e.length>0)for(var u=0;u<e.length;u++){var O=e[u];if(O&&O.length>0)for(var xe=0;xe<O.length;xe++)typeof O[xe]=="object"&&"$$smap"in O[xe]&&(O[xe]=Je(O[xe]))}return e},J.prototype.getListIndex=function(){return this.list_index},J.prototype.getCurrentList=function(){var e=this.$current_list();if(e&&e.length>0)for(var u=0;u<e.length;u++)typeof e[u]=="object"&&"$$smap"in e[u]&&(e[u]=Je(e[u]));return e},J.prototype.nextList=function(){return this.$nextList()},J.prototype.rewind=function(){return this.$rewind()},ke.prototype.getRevisionInfo=function(){return new ke.RevisionInfo(this.getRevisionDate(),this.getRevisionNumber(),this.getRevisionRemark())},ke.prototype.hasRevisionInfo=function(){var e=this.getRevisionInfo();return!e.isEmpty()},ke.prototype.getNotitle=function(){return this.$notitle()},ke.prototype.getNoheader=function(){return this.$noheader()},ke.prototype.getNofooter=function(){return this.$nofooter()},ke.prototype.hasHeader=function(){return this["$header?"]()},ke.prototype.playbackAttributes=function(e){if(e=Re(e),e){var u=e["$[]"]("attribute_entries");if(u&&Array.isArray(u)){for(var O=[],xe=0;xe<u.length;xe++){var Xe=u[xe];Xe&&typeof Xe=="object"&&Xe.constructor.name==="Object"&&(Xe.$name=function(){return this.name},Xe.$value=function(){return this.value},Xe.$negate=function(){return this.negate}),O.push(Xe)}e["$[]="]("attribute_entries",O)}}this.$playback_attributes(e)},ke.prototype.deleteAttribute=function(e){return this.$delete_attribute(e)},ke.prototype.isAttributeLocked=function(e){return this["$attribute_locked?"](e)},ke.prototype.restoreAttributes=function(){return this.$restore_attributes()},ke.prototype.parse=function(e){return this.$parse(e)},ke.prototype.getDocinfo=function(e,u){return this.$docinfo(e,u)},ke.prototype.hasDocinfoProcessors=function(e){return this["$docinfo_processors?"](e)},ke.prototype.incrementAndStoreCounter=function(e,u){return this.$increment_and_store_counter(e,u)},ke.prototype.counterIncrement=ke.prototype.incrementAndStoreCounter,ke.prototype.counter=function(e,u){return this.$counter(e,u)},ke.prototype.getSafe=function(){return this.safe},ke.prototype.getCompatMode=function(){return this.compat_mode},ke.prototype.getSourcemap=function(){var e=this.sourcemap;return e===Opal.nil?!1:e},ke.prototype.setSourcemap=function(e){this.sourcemap=e},ke.prototype.getCounters=function(){return Je(this.counters)},ke.prototype.getCallouts=function(){return this.$callouts()},ke.prototype.getBaseDir=function(){return this.base_dir},ke.prototype.getOptions=function(){return Je(this.options)},ke.prototype.getOutfilesuffix=function(){return this.outfilesuffix},ke.prototype.getParentDocument=function(){var e=this.parent_document;return e===Opal.nil?void 0:e},ke.prototype.getReader=function(){return this.reader},ke.prototype.getConverter=function(){return this.converter},ke.prototype.getExtensions=function(){var e=this.extensions;return e===Opal.nil?void 0:e};var G=ke.Title;G.prototype.getMain=function(){return this.main},G.prototype.getCombined=function(){return this.combined},G.prototype.getSubtitle=function(){var e=this.subtitle;return e===Opal.nil?void 0:e},G.prototype.isSanitized=function(){var e=this["$sanitized?"]();return e===Opal.nil?!1:e},G.prototype.hasSubtitle=function(){return this["$subtitle?"]()};var Ve=Opal.Asciidoctor.Inline;Ve.create=function(e,u,O,xe){return this.$new(e,u,O,Fe(xe))},Ve.prototype.convert=function(){return this.$convert()},Ve.prototype.getText=function(){var e=this.$text();return e===Opal.nil?void 0:e},Ve.prototype.getType=function(){return this.$type()},Ve.prototype.getTarget=function(){var e=this.$target();return e===Opal.nil?void 0:e},Ve.prototype.getAlt=function(){return this.$alt()};var ft=Opal.Asciidoctor.List;ft.prototype.hasItems=function(){return this["$items?"]()},ft.prototype.getItems=function(){return this.blocks};var Ye=Opal.Asciidoctor.ListItem;Ye.prototype.getText=function(){return this.$text()},Ye.prototype.setText=function(e){return this["$text="](e)},Ye.prototype.hasText=function(){return this["$text?"]()},Ye.prototype.getMarker=function(){return this.marker},Ye.prototype.setMarker=function(e){this.marker=e},Ye.prototype.getList=function(){return this.$list()},Ye.prototype.getParent=Ye.prototype.getList;var pe=Opal.Asciidoctor.Reader;pe.prototype.pushInclude=function(e,u,O,xe,Xe){return this.$push_include(e,u,O,xe,Re(Xe))},pe.prototype.getCursor=function(){return this.$cursor()},pe.prototype.getLines=function(){return this.$lines()},pe.prototype.getString=function(){return this.$string()},pe.prototype.hasMoreLines=function(){return this["$has_more_lines?"]()},pe.prototype.isEmpty=function(){return this["$empty?"]()},pe.prototype.peekLine=function(e){e=e||!1;var u=this.$peek_line(e);return u===Opal.nil?void 0:u},pe.prototype.readLine=function(){var e=this.$read_line();return e===Opal.nil?void 0:e},pe.prototype.readLines=function(){return this.$read_lines()},pe.prototype.read=function(){return this.$read()},pe.prototype.advance=function(){return this.$advance()};var De=Opal.Asciidoctor.Reader.Cursor;De.prototype.getFile=function(){var e=this.file;return e===Opal.nil?void 0:e},De.prototype.getDirectory=function(){var e=this.dir;return e===Opal.nil?void 0:e},De.prototype.getPath=function(){var e=this.path;return e===Opal.nil?void 0:e},De.prototype.getLineNumber=function(){return this.lineno};function ze(e,u){var O=Opal.const_get_qualified(Opal.Logger,"Formatter");return he(O,e,u,{},{call:function(xe){for(var Xe=0;Xe<xe.length;Xe++)typeof xe[Xe]=="object"&&"$$smap"in xe[Xe]&&(xe[Xe]=Je(xe[Xe]));return xe}})}function ut(e,u){var O=Opal.const_get_qualified(Opal.Asciidoctor,"Logger");return he(O,e,u,{},{add:function(xe){if(xe.length>=2&&typeof xe[2]=="object"&&"$$smap"in xe[2]){var Xe=xe[2],ie=Je(Xe);ie.getText=function(){return this.text},ie.getSourceLocation=function(){return this.source_location},ie.$inspect=function(){var A=this.getSourceLocation();return A?A.getPath()+": line "+A.getLineNumber()+": "+this.getText():this.getText()},xe[2]=ie}return xe.length>=1&&(xe[1]=xe[1]===Opal.nil?void 0:xe[1]),xe}})}var xt=Opal.const_get_qualified(Opal.Asciidoctor,"LoggerManager",!0);Opal.Asciidoctor.LoggerManager=xt,xt.getLogger=function(){return this.$logger()},xt.setLogger=function(e){this["$logger="](e)},xt.newLogger=function(e,u){return ut(e,u).$new()},xt.newFormatter=function(e,u){return ze(e,u).$new()};var At=Opal.const_get_qualified(Opal.Logger,"Severity",!0);Opal.Asciidoctor.LoggerSeverity=At,At.get=function(e){return At.$constants()[e]};var ht=Opal.const_get_qualified(Opal.Logger,"Formatter",!0);Opal.Asciidoctor.LoggerFormatter=ht,ht.prototype.call=function(e,u,O,xe){return this.$call(At.get(e),u,O,xe)};var pt=Opal.const_get_qualified(Opal.Asciidoctor,"MemoryLogger",!0);Opal.Asciidoctor.MemoryLogger=pt,pt.create=function(){return this.$new()},pt.prototype.getMessages=function(){for(var e=this.messages,u=[],O=0;O<e.length;O++){var xe=e[O],Xe=Je(xe);typeof Xe.message=="string"?Xe.getText=function(){return this.message}:(Xe.message=Je(Xe.message),Xe.getText=function(){return this.message.text}),Xe.getSeverity=function(){return this.severity.toString()},Xe.getSourceLocation=function(){return this.message.source_location},u.push(Xe)}return u};var St=Opal.const_get_qualified(Opal.Asciidoctor,"Logging",!0);Opal.Asciidoctor.Logging=St,St.getLogger=function(){return xt.$logger()},St.createLogMessage=function(e,u){return St.prototype.$message_with_context(e,Re(u))},pe.prototype.getLogger=St.getLogger,pe.prototype.createLogMessage=St.createLogMessage,B.prototype.getLogger=St.getLogger,B.prototype.createLogMessage=St.createLogMessage;var Rt=Opal.const_get_qualified(Opal.Asciidoctor,"Logger",!0);Opal.Asciidoctor.Logger=Rt,Rt.prototype.getMaxSeverity=function(){var e=this.max_severity;return e===Opal.nil?void 0:e},Rt.prototype.getFormatter=function(){return this.formatter},Rt.prototype.setFormatter=function(e){this.formatter=e},Rt.prototype.getLevel=function(){return this.level},Rt.prototype.setLevel=function(e){this.level=e},Rt.prototype.getProgramName=function(){return this.progname},Rt.prototype.setProgramName=function(e){this.progname=e};var Et=Opal.const_get_qualified("::","Logger"),Bt=function(e,u,O){e["$"+u](O)};Et.prototype.add=function(e,u,O){var xe=typeof e=="string"?At[e.toUpperCase()]:e;this.$add(xe,u,O)},Et.prototype.log=Et.prototype.add,Et.prototype.debug=function(e){Bt(this,"debug",e)},Et.prototype.info=function(e){Bt(this,"info",e)},Et.prototype.warn=function(e){Bt(this,"warn",e)},Et.prototype.error=function(e){Bt(this,"error",e)},Et.prototype.fatal=function(e){Bt(this,"fatal",e)},Et.prototype.isDebugEnabled=function(){return this["$debug?"]()},Et.prototype.isInfoEnabled=function(){return this["$info?"]()},Et.prototype.isWarnEnabled=function(){return this["$warn?"]()},Et.prototype.isErrorEnabled=function(){return this["$error?"]()},Et.prototype.isFatalEnabled=function(){return this["$fatal?"]()};var qt=Opal.const_get_qualified(Opal.Asciidoctor,"NullLogger",!0);Opal.Asciidoctor.NullLogger=qt,qt.create=function(){return this.$new()},qt.prototype.getMaxSeverity=function(){return this.max_severity},Opal.Asciidoctor.StopIteration=Opal.StopIteration;var Ct=Opal.const_get_qualified(Opal.Asciidoctor,"Timings",!0);Opal.Asciidoctor.Timings=Ct,Ct.create=function(){return this.$new()},Ct.prototype.printReport=function(e,u){var O;if(e)if(typeof e.$add=="function")O=function(xe){e.$add(1,xe)};else if(typeof e.log=="function")O=e.log;else if(typeof e.write=="function")O=function(xe){e.write(xe,"utf-8")};else throw new Error("The output should be a Stream (with a write function), an object with a log function or a Ruby Logger (with a add function)");else O=function(xe){Opal.gvars.stdout.$write(xe)};u&&O("Input file: "+u),O(" Time to read and parse source: "+this.$read_parse().toFixed(2)),O(" Time to convert document: "+this.$convert().toFixed(2)),O(" Total time (read, parse and convert): "+this.$read_parse_convert().toFixed(2))};var It=Opal.const_get_qualified(Opal.Asciidoctor,"SyntaxHighlighter",!0);Opal.Asciidoctor.SyntaxHighlighter=It,It.register=function(e,u){var O=typeof e=="string"?e:e[0];if(typeof u=="function"){var xe=u,Xe=xe.prototype,ie=Object.getOwnPropertyNames(Xe);u={};for(var A in ie){var $e=ie[A];u[$e]=Xe[$e]}}var $=he(Pt,O,u,{},{format:function(y){return y.length>=2&&typeof y[2]=="object"&&"$$smap"in y[2]&&(y[2]=Je(y[2])),y.length>=1&&(y[1]=y[1]===Opal.nil?void 0:y[1]),y},highlight:function(y){if(y.length>=3&&typeof y[3]=="object"&&"$$smap"in y[3]){var W=y[3];W=Je(W);for(var oe in W){var b=W[oe];if(oe==="callouts"){var _=Ze(b);for(var c in _)for(var t=_[c],s=0;s<t.length;s++)for(var i=t[s],j=0;j<i.length;j++)i[j]=i[j]===Opal.nil?void 0:i[j];W[oe]=_}else W[oe]=b===Opal.nil?void 0:b}y[3]=W}return y.length>=2&&(y[2]=y[2]===Opal.nil?void 0:y[2]),y}});for(var n in u)Object.prototype.hasOwnProperty.call(u,n)&&function(y){var W=u[y];y==="handlesHighlighting"?Opal.def($,"$highlight?",function(){return W.call()}):y==="hasDocinfo"&&Opal.def($,"$docinfo?",function(oe){return W.apply(this,[oe])})}(n);return Opal.def($,"$name",function(){return O}),It.$register($,e),$},It.get=function(e){var u=It.$for(e);return u===Opal.nil?void 0:u},It.for=It.get;var Pt=Opal.const_get_qualified(It,"Base",!0);Opal.Asciidoctor.SyntaxHighlighterBase=Pt,Pt.prototype.registerFor=function(e){It.$register(this,e)};var Mt=Opal.Asciidoctor.Table;Mt.create=function(e,u){return this.$new(e,Re(u))},Mt.prototype.getCaption=function(){return this.caption},Mt.prototype.getRows=function(){return this.rows},Mt.prototype.getColumns=function(){return this.columns},Mt.prototype.getHeadRows=function(){return this.rows.head},Mt.prototype.hasHeadRows=function(){return this.rows!==Opal.nil&&this.rows.head.length>0},Mt.prototype.getBodyRows=function(){return this.rows.body},Mt.prototype.hasBodyRows=function(){return this.rows!==Opal.nil&&this.rows.body.length>0},Mt.prototype.getFootRows=function(){return this.rows.foot},Mt.prototype.hasFootRows=function(){return this.rows!==Opal.nil&&this.rows.foot.length>0},Mt.prototype.hasHeaderOption=function(){return this.has_header_option},Mt.prototype.hasFooterOption=function(){var e=this.getAttributes()["footer-option"];return e===""},Mt.prototype.hasAutowidthOption=function(){var e=this.getAttributes()["autowidth-option"];return e===""},Mt.prototype.getRowCount=function(){return this.getAttribute("rowcount")},Mt.prototype.setRowCount=function(e){this.setAttribute("rowcount",e)},Mt.prototype.getColumnCount=function(){return this.getAttribute("colcount")},Mt.prototype.setColumnCount=function(e){this.setAttribute("colcount",e)};var jt=Opal.Asciidoctor.Table.Rows;jt.create=function(e,u,O){return this.$new(e,u,O)},jt.prototype.getHead=function(){return this.head},jt.prototype.getFoot=function(){return this.foot},jt.prototype.getBody=function(){return this.body},jt.prototype.bySection=function(){return[["head",this.head],["body",this.body],["foot",this.foot]]};var D=Opal.Asciidoctor.Table.Column;D.create=function(e,u,O){return this.$new(e,u,Re(O))},D.prototype.getColumnNumber=function(){return this.getAttribute("colnumber")},D.prototype.getWidth=function(){return this.getAttribute("width")},D.prototype.getHorizontalAlign=function(){return this.getAttribute("halign")},D.prototype.getVerticalAlign=function(){return this.getAttribute("valign")},D.prototype.getStyle=function(){var e=this.style;return e===Opal.nil?void 0:e};var se=Opal.Asciidoctor.Table.Cell;se.create=function(e,u,O,xe){return this.$new(e,u,Re(O),Re(xe))},se.prototype.getColumnSpan=function(){var e=this.colspan;return e===Opal.nil?void 0:e},se.prototype.setColumnSpan=function(e){return this["$colspan="](e)},se.prototype.getRowSpan=function(){var e=this.rowspan;return e===Opal.nil?void 0:e},se.prototype.setRowSpan=function(e){return this["$rowspan="](e)},se.prototype.getContent=function(){return this.$content()},se.prototype.getText=function(){return this.$text()},se.prototype.getSource=function(){return this.$source()},se.prototype.getLines=function(){return this.$lines()},se.prototype.getLineNumber=function(){var e=this.$lineno();return e===Opal.nil?void 0:e},se.prototype.getFile=function(){var e=this.$file();return e===Opal.nil?void 0:e},se.prototype.getStyle=function(){var e=this.$style();return e===Opal.nil?void 0:e},se.prototype.getColumn=function(){var e=this.$column();return e===Opal.nil?void 0:e},se.prototype.getWidth=function(){return this.getAttribute("width")},se.prototype.getColumnPercentageWidth=function(){return this.getAttribute("colpcwidth")},se.prototype.getInnerDocument=function(){var e=this.inner_document;return e===Opal.nil?void 0:e};var le=Opal.Asciidoctor.Converter.TemplateConverter;if(le){Opal.Asciidoctor.TemplateConverter=le,le.create=function(e,u,O){O&&O.template_cache&&(O.template_cache=Re(O.template_cache)),this.$new(e,u,Re(O))},le.getCache=function(){var e=Je(this.caches);if(e){if(e.scans){e.scans=Je(e.scans);for(var u in e.scans)e.scans[u]=Je(e.scans[u])}e.templates&&(e.templates=Je(e.templates))}return e},le.clearCache=function(){this.$clear_caches()},le.prototype.convert=function(e,u,O){return this.$convert(e,u,Re(O))},le.prototype.handles=function(e){return this["$handles?"](e)},le.prototype.getTemplates=function(){return Je(this.$templates())},le.prototype.register=function(e,u){return this.$register(e,u)};var ge={};ge.registry={},Opal.Asciidoctor.TemplateEngine=ge,ge.register=function(e,u){if(typeof e=="string")this.registry[e]=u;else for(var O=0;O<e.length;O++){var xe=e[O];this.registry[xe]=u}}}var Le=function(e){return e.$$arity=e.length,e},Ue=function(e,u,O,xe){return typeof O=="object"||O.$$is_class?e["$"+u](O,xe):Opal.send(e,u,xe&&[xe],Le(O))},qe=Opal.const_get_qualified(Opal.Asciidoctor,"Extensions");Opal.Asciidoctor.Extensions=qe,qe.create=function(e,u){return typeof e=="function"&&typeof u>"u"?Opal.send(this,"create",null,Le(e)):typeof u=="function"?Opal.send(this,"create",[e],Le(u)):this.$create()},qe.register=function(e,u){return typeof e=="function"&&typeof u>"u"?Opal.send(this,"register",null,Le(e)):Opal.send(this,"register",[e],Le(u))},qe.getGroups=function(){return Je(this.$groups())},qe.unregisterAll=function(){this.$unregister_all()},qe.unregister=function(){for(var e=Array.prototype.concat.apply([],arguments),u=this.$groups(),O={},xe=0,Xe=u.$$keys;xe<Xe.length;xe++){var ie=Xe[xe];O[ie.toString()]=ie}for(var A=0;A<e.length;A++){var $e=e[A];$e in O&&Opal.hash_delete(u,O[$e])}};var wt=qe.Registry;wt.prototype.getGroups=qe.getGroups,wt.prototype.unregisterAll=function(){this.groups=Opal.hash()},wt.prototype.unregister=qe.unregister,wt.prototype.prefer=function(e,u){return arguments.length===1&&(u=e,e=null),typeof u=="object"||u.$$is_class?this.$prefer(e,u):Opal.send(this,"prefer",e&&[e],Le(u))},wt.prototype.block=function(e,u){return arguments.length===1&&(u=e,e=null),Ue(this,"block",u,e)},wt.prototype.inlineMacro=function(e,u){return arguments.length===1&&(u=e,e=null),Ue(this,"inline_macro",u,e)},wt.prototype.includeProcessor=function(e,u){return arguments.length===1&&(u=e,e=null),Ue(this,"include_processor",u,e)},wt.prototype.blockMacro=function(e,u){return arguments.length===1&&(u=e,e=null),Ue(this,"block_macro",u,e)},wt.prototype.treeProcessor=function(e,u){return arguments.length===1&&(u=e,e=null),Ue(this,"tree_processor",u,e)},wt.prototype.postprocessor=function(e,u){return arguments.length===1&&(u=e,e=null),Ue(this,"postprocessor",u,e)},wt.prototype.preprocessor=function(e,u){return arguments.length===1&&(u=e,e=null),Ue(this,"preprocessor",u,e)},wt.prototype.docinfoProcessor=function(e,u){return arguments.length===1&&(u=e,e=null),Ue(this,"docinfo_processor",u,e)},wt.prototype.hasPreprocessors=function(){return this["$preprocessors?"]()},wt.prototype.hasTreeProcessors=function(){return this["$tree_processors?"]()},wt.prototype.hasIncludeProcessors=function(){return this["$include_processors?"]()},wt.prototype.hasPostprocessors=function(){return this["$postprocessors?"]()},wt.prototype.hasDocinfoProcessors=function(e){return this["$docinfo_processors?"](e)},wt.prototype.hasBlocks=function(){return this["$blocks?"]()},wt.prototype.hasBlockMacros=function(){return this["$block_macros?"]()},wt.prototype.hasInlineMacros=function(){return this["$inline_macros?"]()},wt.prototype.getPreprocessors=function(){return this.$preprocessors()},wt.prototype.getTreeProcessors=function(){return this.$tree_processors()},wt.prototype.getIncludeProcessors=function(){return this.$include_processors()},wt.prototype.getPostprocessors=function(){return this.$postprocessors()},wt.prototype.getDocinfoProcessors=function(e){return this.$docinfo_processors(e)},wt.prototype.getBlocks=function(){return this.block_extensions.$values()},wt.prototype.getBlockMacros=function(){return this.block_macro_extensions.$values()},wt.prototype.getInlineMacros=function(){return this.$inline_macros()},wt.prototype.getInlineMacroFor=function(e){var u=this["$registered_for_inline_macro?"](e);return u===!1?void 0:u},wt.prototype.getBlockFor=function(e,u){if(typeof u>"u"){var O=this.$find_block_extension(e);return O===Opal.nil?void 0:O}var xe=this["$registered_for_block?"](e,u);return xe===!1?void 0:xe},wt.prototype.getBlockMacroFor=function(e){var u=this["$registered_for_block_macro?"](e);return u===!1?void 0:u};var Nt=qe.Processor;Nt.prototype.prepend=function(){this.$option("position",">>")},Nt.prototype.process=function(e){var u={apply:function(xe,Xe,ie){for(var A=0;A<ie.length;A++)typeof ie[A]=="object"&&"$$smap"in ie[A]&&(ie[A]=Je(ie[A]));return xe.apply(Xe,ie)}},O=new Proxy(e,u);return Opal.send(this,"process",null,Le(O))},Nt.prototype.named=function(e){return this.$named(e)},Nt.prototype.createBlock=function(e,u,O,xe,Xe){return this.$create_block(e,u,O,Re(xe),Re(Xe))},Nt.prototype.createList=function(e,u,O){return this.$create_list(e,u,Re(O))},Nt.prototype.createListItem=function(e,u){return this.$create_list_item(e,u)},Nt.prototype.createImageBlock=function(e,u,O){return this.$create_image_block(e,Re(u),Re(O))},Nt.prototype.createParagraph=function(e,u,O,xe){return this.$create_paragraph(e,u,Re(O),Re(xe))},Nt.prototype.createOpenBlock=function(e,u,O,xe){return this.$create_open_block(e,u,Re(O),Re(xe))},Nt.prototype.createExampleBlock=function(e,u,O,xe){return this.$create_example_block(e,u,Re(O),Re(xe))},Nt.prototype.createPassBlock=function(e,u,O,xe){return this.$create_pass_block(e,u,Re(O),Re(xe))},Nt.prototype.createListingBlock=function(e,u,O,xe){return this.$create_listing_block(e,u,Re(O),Re(xe))},Nt.prototype.createLiteralBlock=function(e,u,O,xe){return this.$create_literal_block(e,u,Re(O),Re(xe))},Nt.prototype.createAnchor=function(e,u,O){return O&&O.attributes&&(O.attributes=Re(O.attributes)),this.$create_anchor(e,u,Re(O))},Nt.prototype.createInlinePass=function(e,u,O){return O&&O.attributes&&(O.attributes=Re(O.attributes)),this.$create_inline_pass(e,u,Re(O))},Nt.prototype.createInline=function(e,u,O,xe){return xe&&xe.attributes&&(xe.attributes=Re(xe.attributes)),this.$create_inline(e,u,O,Re(xe))},Nt.prototype.parseContent=function(e,u,O){return this.$parse_content(e,u,O)},Nt.prototype.parseAttributes=function(e,u,O){return O&&O.attributes&&(O.attributes=Re(O.attributes)),Je(this.$parse_attributes(e,u,Re(O)))},Nt.prototype.positionalAttributes=function(e){return this.$positional_attrs(e)},Nt.prototype.resolveAttributes=function(e){return typeof e=="object"&&!Array.isArray(e)?this.$resolves_attributes(Re(e)):arguments.length>1?this.$resolves_attributes(Array.prototype.slice.call(arguments)):typeof e>"u"?this.$resolves_attributes(Opal.nil):this.$resolves_attributes(e)},Nt.prototype.resolvesAttributes=Nt.prototype.resolveAttributes,Nt.prototype.getConfig=function(){return Je(this.config)},Nt.prototype.option=function(e,u){this.$option(e,u)};var Ft=qe.BlockProcessor;Ft.prototype.defaultAttributes=function(e){this.$default_attributes(Re(e))},Ft.prototype.onContext=function(e){return this.$on_context(e)},Ft.prototype.onContexts=function(e){return this.$on_contexts(Array.prototype.slice.call(arguments))},Ft.prototype.getName=function(){var e=this.name;return e===Opal.nil?void 0:e},Ft.prototype.parseContentAs=function(e){this.$parse_content_as(e)};var Ut=qe.BlockMacroProcessor;Ut.prototype.defaultAttributes=function(e){this.$default_attributes(Re(e))},Ut.prototype.getName=function(){var e=this.name;return e===Opal.nil?void 0:e},Ut.prototype.parseContentAs=function(e){this.$parse_content_as(e)};var Vt=qe.InlineMacroProcessor;Vt.prototype.defaultAttributes=function(e){this.$default_attributes(Re(e))},Vt.prototype.getName=function(){var e=this.name;return e===Opal.nil?void 0:e},Vt.prototype.parseContentAs=function(e){this.$parse_content_as(e)},Vt.prototype.matchFormat=function(e){this.$match_format(e)},Vt.prototype.match=function(e){this.$match(e)};var Jt=qe.IncludeProcessor;Jt.prototype.handles=function(e){return Opal.send(this,"handles?",null,Le(e))},Jt.prototype.prefer=function(){this.$prefer()};var Kt=qe.TreeProcessor;Kt.prototype.prefer=function(){this.$prefer()};var Wt=qe.Postprocessor;Wt.prototype.prefer=function(){this.$prefer()};var Qt=qe.Preprocessor;Qt.prototype.prefer=function(){this.$prefer()};var $r=qe.DocinfoProcessor;$r.prototype.prefer=function(){this.$prefer()},$r.prototype.atLocation=function(e){this.$at_location(e)};function Ot(e,u,O){var xe=Opal.const_get_qualified(qe,e);return he(xe,u,O,{"handles?":function(){return!0}})}qe.createPostprocessor=function(e,u){return arguments.length===1&&(u=e,e=null),Ot("Postprocessor",e,u)},qe.newPostprocessor=function(e,u){return arguments.length===1&&(u=e,e=null),this.createPostprocessor(e,u).$new()},qe.createPreprocessor=function(e,u){return arguments.length===1&&(u=e,e=null),Ot("Preprocessor",e,u)},qe.newPreprocessor=function(e,u){return arguments.length===1&&(u=e,e=null),this.createPreprocessor(e,u).$new()},qe.createTreeProcessor=function(e,u){return arguments.length===1&&(u=e,e=null),Ot("TreeProcessor",e,u)},qe.newTreeProcessor=function(e,u){return arguments.length===1&&(u=e,e=null),this.createTreeProcessor(e,u).$new()},qe.createIncludeProcessor=function(e,u){return arguments.length===1&&(u=e,e=null),Ot("IncludeProcessor",e,u)},qe.newIncludeProcessor=function(e,u){return arguments.length===1&&(u=e,e=null),this.createIncludeProcessor(e,u).$new()},qe.createDocinfoProcessor=function(e,u){return arguments.length===1&&(u=e,e=null),Ot("DocinfoProcessor",e,u)},qe.newDocinfoProcessor=function(e,u){return arguments.length===1&&(u=e,e=null),this.createDocinfoProcessor(e,u).$new()},qe.createBlockProcessor=function(e,u){return arguments.length===1&&(u=e,e=null),Ot("BlockProcessor",e,u)},qe.newBlockProcessor=function(e,u){return arguments.length===1&&(u=e,e=null),this.createBlockProcessor(e,u).$new()},qe.createInlineMacroProcessor=function(e,u){return arguments.length===1&&(u=e,e=null),Ot("InlineMacroProcessor",e,u)},qe.newInlineMacroProcessor=function(e,u){return arguments.length===1&&(u=e,e=null),this.createInlineMacroProcessor(e,u).$new()},qe.createBlockMacroProcessor=function(e,u){return arguments.length===1&&(u=e,e=null),Ot("BlockMacroProcessor",e,u)},qe.newBlockMacroProcessor=function(e,u){return arguments.length===1&&(u=e,e=null),this.createBlockMacroProcessor(e,u).$new()};var Xt=Opal.const_get_qualified(Opal.Asciidoctor,"Converter");Opal.Asciidoctor.Converter=Xt,Xt.prototype.convert=function(e,u,O){return this.$convert(e,u,Re(O))},Xt.create=function(e,u){return this.$create(e,Re(u))};var Ht=Opal.Asciidoctor.Converter.Factory,er=Opal.Asciidoctor.Converter.Base;Opal.Asciidoctor.ConverterFactory=Ht;var ar=Opal.Asciidoctor.Converter.BackendTraits;Opal.Asciidoctor.ConverterBackendTraits=ar,Ht.register=function(e,u){var O,xe=function(_){return Object.assign({},_.basebackend?{basebackend:_.basebackend}:{},_.outfilesuffix?{outfilesuffix:_.outfilesuffix}:{},_.filetype?{filetype:_.filetype}:{},_.htmlsyntax?{htmlsyntax:_.htmlsyntax}:{},_.supports_templates?{supports_templates:_.supports_templates}:{})},Xe=function(_,c){_.backend_traits?c.backend_traits=Re(_.backend_traits):_.backendTraits?c.backend_traits=Re(_.backendTraits):(_.basebackend||_.outfilesuffix||_.filetype||_.htmlsyntax||_.supports_templates)&&(c.backend_traits=Re(xe(_)))},ie=function(_,c){n(_,c,"$handles?","handles",function(){return!0})},A=function(_,c){n(_,c,"$composed","composed")},$e=function(_,c){n(_,c,"$==","==",function(t){return c===t})},$=function(_,c){n(_,c,"$send","send",function(t){var s=Array.prototype.slice.call(arguments,1),i=c["$"+t];if(i)return i.apply(c,s);throw new Error(`undefined method \`${t}\` for \`${c.toString()}\``)})},n=function(_,c,t,s,i){typeof _[t]>"u"&&(typeof _[s]=="function"?c[t]=_[s]:i&&(c[t]=i))},y=function(_){typeof _["$respond_to?"]!="function"&&(_["$respond_to?"]=function(c){return typeof this[c]=="function"})};if(typeof e=="function")O=he(er,e.constructor.name,{initialize:function(_,c){var t=this,s=new e(_,c);Object.assign(this,s),Xe(s,t);for(var i=Object.getOwnPropertyNames(e.prototype),j=0;j<i.length;j++){var h=i[j];h!=="constructor"&&(t[h]=s[h])}typeof s.$convert>"u"&&typeof s.convert=="function"&&(t.$convert=s.convert),ie(s,t),A(s,t),y(t),t.super(_,c)}}),O.$extend(ar);else if(typeof e=="object"){if(typeof e.$convert>"u"&&typeof e.convert=="function"&&(e.$convert=e.convert),Xe(e,e),e.backend_traits){var W=["basebackend","filetype","htmlsyntax","outfilesuffix","supports_templates","supports_templates?","init_backend_traits","backend_traits"];for(var oe of W)e["$"+oe]=ar.prototype["$"+oe];e.$$meta=ar}ie(e,e),A(e,e),$e(e,e),$(e,e),y(e),O=e}var b=[O].concat(u);return Xt.$register.apply(Xt,b)},Ht.getDefault=function(e){return this.$default(e)},Ht.prototype.create=function(e,u){return this.$create(e,Re(u))},Ht.getRegistry=function(){return Je(Xt.$registry())},Ht.for=function(e){let u=Xt.$for(e);return u===Opal.nil?void 0:u},Ht.unregisterAll=function(){var e=Xt.DefaultFactory.$$cvars["@@registry"];Xt.DefaultFactory.$$cvars["@@registry"]=Re({html5:e["$[]"]("html5")})};var or=Opal.Asciidoctor.Converter.Html5Converter;Opal.Asciidoctor.Html5Converter=or,or.create=function(){return this.$new()},or.prototype.convert=function(e,u,O){return this.$convert(e,u,O)};var cr="2.2.6";return Opal.Asciidoctor.prototype.getVersion=function(){return cr},Opal.Asciidoctor})}}),require_asciidoctor2=__commonJS({"node_modules/asciidoctor/index.js"(r,Re){Re.exports=require_asciidoctor()}});window.Asciidoctor=require_asciidoctor2()})();});jr();})();
/**
 * @license Asciidoctor.js 2.2.6 | MIT | https://github.com/asciidoctor/asciidoctor.js
 */
